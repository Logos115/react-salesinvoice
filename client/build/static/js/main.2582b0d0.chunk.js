(this["webpackJsonpsales-invoicing-system-app"]=this["webpackJsonpsales-invoicing-system-app"]||[]).push([[0],{380:function(e,t,a){},408:function(e,t){},410:function(e,t){},439:function(e,t){},440:function(e,t){},537:function(e,t){},697:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),r=a(72),c=a.n(r),o=(a(380),a(23)),l=a(32),s=a(780),d=a(830),u=a(795),p=a(804),h=a(352),b=a(831),m=a(22),j=a(93),x=a(60);const O=Object(j.b)({name:"auth",initialState:{isLoggedIn:!1,isAdmin:!1,token:null},reducers:{loginSuccess:(e,t)=>{e.isLoggedIn=!0,e.token=t.payload.token,e.isAdmin=t.payload.isAdmin},loginFail:e=>{e.isLoggedIn=!1},logout:e=>{e.isLoggedIn=!1,e.isAdmin=!1,e.token=null}}}),{loginSuccess:g,loginFail:f,logout:y}=O.actions;var k=O.reducer;const v=Object(j.b)({name:"counter",initialState:{value:0},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload}}}),{increment:S,decrement:C,incrementByAmount:w}=v.actions;var T=v.reducer;const D=Object(j.b)({name:"loading",initialState:{value:!1},reducers:{beginLoading:e=>{e.value=!0},endLoading:e=>{e.value=!1}}}),{increment:A,decrement:P,incrementByAmount:B}=D.actions;var I=D.reducer;const W=Object(x.b)({auth:k,counter:T,loading:I}),R=localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")):{},H=Object(j.a)({reducer:W,preloadedState:R});H.subscribe(()=>{localStorage.setItem("state",JSON.stringify(H.getState()))});var L=H,N=a(8),M=a.n(N),z=a(4),q=a(12),V=a(5),F=a(751),Q=a(141),E=a.p+"static/media/chinese.msyh.554cdb5e.ttf",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVcAAACWCAYAAABq8su9AAAkCElEQVR42uzdX0yVdRzH8S/m1urGpRetP9x3hSABBYqgR/7JnwMLT/x/Tmuu1WqpjRGuNramIN2Uq03amo5NoJQgFCeghEVoY0bNlOq2rQvn2rLNrRmn7/Pg2c7s1H7nnIfnfE7nc/Getz/2++61rw+c58jpCwXyf2zmuxx5s+d52VFqSZ0/yNamB7RsLaB1a+9pJ7QhbUQbBmxUe1eTcPaMvN7ZKlNXt9w/R59rvxvkQ5n7ZDa1mCsfnvBJvT8gjY0BCQTSO4hLIa4p1SatQ/tU+0ULpWB3DHH9RgsZVIsy98QVJ4hLIa4pUYF2XLsNAmQiXTPEdcYQ1wqUuSeuOEFcCnGFLkcbA0GRuAJHXIkrMytD6wfBkLjiJ8SVuDKzbfUHEAiJa4pEXIkr+++aQAAkrikWcSWu7N/bB4IfcU3BiCtxZdE7AAKfF10nrsSVuBJXL2oBQc+rbmsSrnS7Ja/sayOuxJW4EldXy3IBq5+1Ea1He0mztDatHbAXtVpN7PwNQSkptuSN7mZ7ZogrcSWuxNWV1mm/xgnqb9r72rMgP0tcVVZZUlsXlMHxYjm78DRxJa7Elbi60sdxwtqrbQL5GeLO2Vq36dZ6sFlmr2fLqZkC4kpciStxTbjsOH8RlAtyfhe21qDU1Abl5NlCmbxib63ElbgSV+KaeIsxwnpOWw9y9oSrv7e1HuhukdkbztZKXIkrcSWuCbctVlhBzu3u1loTlKHJIjnnbK3ElbgSV+KaeBdigHUZ5MyuPmvdXmw/a20JP2slrsSVuBLXhMuMcWvNBDm3y89aI7dW4kpciStxTbyuGGA9CHJmd7fWog7771rDWytxJa7Elbi60mVDWG+CnNfVX2L5dlpSXW3JyPlCmbxsb63ElbgSV+KaeBu1FUNcu0HO7Bqsu3yWlJdbcuxkhfNRV91aiStxJa7E1ZUqtZBhjyb7vLurg1JWZsnO0sQrLuyQigqFdag84k+viCtxJa7E1Z06DWG94vmz0Hr9t97ZLJ0Xqfh8q/fWZgVl78sdsr+rVXr6A/L24T1x1flWs26su2RmKccQVqdpQ1wrUeaeuOIEcSnE1bMGDHE9oonXVdcEpbnVkv3dbdJ7tEGOj5bKxFd5cn4xV6au5srM9zmKY3xdvJbt/GXAqemY5miamytxJa7E1aQJQ1wtj8/l/Jd9T5Ml45fyZW55s0wvbXFepDL2Rb6cvligJWWOFgxxLUGZe+KKE8SlEFfPmjPEtdzjczmPA1rbLZmYz7OBRZihDO2mIa6bUeaeuOIEcSnE1bMWDHHd6vnmWr76SOCz2XwUXLMNYf1TewRl7okrThCXQlzhcC0krgVHDHG9gTLzxBUriEshrp71tSGuRWmO63rtD0NcB1FmnrhiBXEpxJW4guE6oIUMa0eZeeKKFcSlEFfiCoRrYwywrmgbUGaeuGIFcSnElbiC4PqcFoqhT1DmnbjiBXEpxBUO16eSgWtTS9JwzdDe0UIxloUy78QVL4hLIa5wuNZrT2qZa1iWlh9+qcqOEkv8fkvG5jzF9THtVe2nOGCdRJl1lIgrcU3nTHFd0e5qf61RoXt1hN9WVVVlSd8HDXJmPk9Go38a62HtGa1Z69IOaX1abwwd1vq1Y9q8dkcLxdnjKLOOEnElrumcgytIu21YfT7L+ejrwHC5XFrOsu8u8sUqG7QXtNHwp6VAeg1lzpEirsQ1nUPA9a6WEwnrR8Nl938rwEbtkHYLBNPIxlFmHC3iSlzTOQRct0a8uDoarHtBUbVbQplvxIgrcU3nko2rFYa14p+wPqiNgiAarW+1h1DmGzHiSlzTuWTiOuhvWH21YGWl/Y0AZZHfCPCE9iMIotE6o63TJFpEl7gSV5YsXG9pUlsXlJJiS/qO1smXf7N39tFR1Wcef+wetJ59cXfP2dbdPdvds6fb/aMlSCCBQBLyQpJJJpnJvN6ZvM0kVoqAoAhSxEoQBasWX2vR+gZSQY0FRQFDhGB9obXtsra+UGrbQ2urp7Wn7bHHHqtOv/eZO+kwTJJ7Z+6Q39x5/viciUm8d7jzy2ee+8zze57Xy1Ji/SR4SxGJZmMQ0ATcCC5WZd2LXNVBiRdF5Op4uXb69JHW1XGMbOmjZ34wkzcLGMX7bygi0UyeBXMATUAAJECPKute5KoOSrwoIldHy/VlzMbiHViBYJwePVhF+78zOxW1Pq6ISDOlGgQ0CR6QMGhUZd2LXNVBiRdF5KqcXN8Bb4Jf5cHbBnX68MGaeTG69iv+ZDpgmF+jLkVk+j54CWwCswCZYEBmaIlcRa4i11zkWgemgXPy4OM6SAfwNNeeeBwzscZGuJyTx+6o18D9YCNYB75kgasNVoNe0ADOB2SBm2RAochV5CpyzVWuZbaMyzZGZbvdcdq5rxoTXMtT01c35CDVXaAa0BRRBl6U6a8iV5GryHVKWw5mVgeMvjYDYrXa5Z/5CIQATRHngetltLbIVeQqcp1yuSJiZbFWz43RoqWoDnh5rDpAJ2JRrLMBTRGLUz0NRK4iV5GryHVK5erzcxqA86wDi2K097lK5FpT1QGWKwQ6AU0hJ0BC5GqOp1+aRVt3NJLfJ3IVuZYehZQr92V1tfZTfV2cVl3Vw/Ws+yDWZDqAmQZ+V0T9UkdErqbgN8+RYzPprm80kNcrchW5lh4Fk6svkOxy1YjrfcMdPs6xPvGtirSIlSkHCZPMELkWF4d/eAGtWecjd6sachO5ilyLXq6IWFmqHZ443bGtnQ7hjww51gyxWqptPaHIOhK5moxah79XTg88VkOdnREKBCNKyE3kKnItarlCrHyNPV6UW+2v4YgVf2xZxMqsMimr+xRZRyJXc/DrfvkaP7maIhSJqiE3kWth4HzfFV/q4k+sW1v7QZzc7SUvWjvlyqmAxjSxoirAyK9mw1J96zWKrCORq5mo9fuzaNs3a/UqAYlaS0GuB/+vnK66VuMi9mC4n0KRARZCQ32MGhv0W1iUDPmVEF7RyrW1rZ8CuLY7nqyhkcnFShYmrA4qso5Erhai1laJWktDrvqQu0eGq7AzaD7t2jePv75vaCFt3BJG7WWcWprjtLAxTtj3DkomojUr13kmjsUTW6+72UfPH59uQqzMRolcnUMy1zoLudZa6tSj1oAaUlMFJV6kQr3we0Yr6ckXKlBrWcGfXO87Ops/bDl4rBwfvLipqzdOdTUxau8omSj2RTsj14UNcbrmxqCe38Y1F7mWIvokiZV61NqsUVSi1tKQ6wTS5agW+UEuel59VQ+nCZqb4knBOjuK/ZZJuTaalevgl0OobxS5KvJ8z3TUilxrskIgKFGryNWAb2P3Pl/Bo0a23O0hrzfOxe8ePHb6lBBhIdhvUq4Rs3LdcENQ5FqCcj21QkCjSEQNoamEEi/SFEexfFu758hcWry8j9MEHR7H5mEfMCnXq81HrmGRa4nJNVUhgFyr1LWKXCdfLEgRcD72kpV9vC8egnViBLvepFwPmDgWX6eVa3v0CEY+0FLj+Z7RqHXlFT6paxW5mkwTPFfBi2bN+ihVV8W4AYnP76gINmRSru+BjwOaCJeLy9ywG4vfnHANRa5OAHdzvMMuG988zGWOvBvLJ1GryNVKBIs8LN/yrN0Q5VItNCJxkmD/EyRM0mtmd1Z9bZwuXNTHda7JXgIi12JlaJgDDE7z7P/2bJ51lgneRLn07rLVXCEgUavI1VIEy6NInjteRptuDlB9neMEe9ykXF8BZIa66hhdekU3HXl9Bu0erYRgRa7Fhr7u9x+dzcHF6rU+WrQ4REuXB09j2Qo8XhKkUFjvfCVRq8jVcgTLt0WcIth8q58F2+ocwX7FykjsyRtj93OdcEMd17zyNcOt43iCXS9yVRMEFDyGZwnE2bhAI3dbhNrd2um04WcgFJK6VpFrHoKFJFgWm251VAQ704Jc3wFnTSpYpAfa2uJ6igDRvl8vLMc1FLkWC4haeZ1fe6Obmho1CmsR0qS0SuR6BgXL0VlrmyN2c71qQbCPmZ1A4GqJc0/Xux5qSg4jHBG5FgOYFMHpnCiE6umQmlWR65kVLOcTr9vCESxug4u+TKsbJCyw0axgmyBXr68f126u/kcrclUcPWp99vUyGtzcLpsBRK5T16eAy7SujlLtfH2jQdHv5HrLomA3ADKRIuDr88X1Ed79NjQiclWZp16YzaVX0S6NOr2SDhC5TpFgUWrEu7mWrexFBFv0udcgSFjkQXA2oHHxxcnlSr7xPHqQo1eRq6IMjfAdmUStIlc1bqHQZYsbcff1x2hBdZx8xZ1/PZqDYH8MvJNFr3U1cVo7GDEmE4hcVYRzrYclahW5KgJEwcXUjz87h4LhODXUFbVg/x0kcuQZEAbnZoteW43o9eGnq/iP2KJcVynyej/pVLliHY/lWlskahW5qoIewR76wQW0/fE64xPyohZsF0jkwdtgJ1gB2sB08GmOXmvjtGpdN2+XtCjXr4LPgP+dYl5wqlwlahW5KgsEyz1h73m4mVyuohfsFpCwkd+Cafrgws8vjtGBl2bxhyYpuTqQopLrqVGrbGEVuSrI0Ah3YneKYHfZKNffgWl6E/KLl/eJXBUjGbVWStQqclWblGC/vssRgt1pk1x/KXJVk6GDUiEgci0ixgT7cIsTcrA3i1ydK9enXpS6VpFrkaEL9tArF9Ddu5q5B0FNVYz0nGNjFsa+D/m0tCjZmPsikavz5DqWa90kUavItcjA4uVNBthbzx36r7wmkpV1GyPoFxuhxZfEKNrTzx236mtjvHXU41VmxMznwBGRa/HIFeuPewQ8gzWIOymuaEnn6I8+x3XamiZRq8i1COG+mN/mEd4s2nE5humz353Frd7ufNCF6Qdd1BvvZ8FifIpK474XgZMiV7XlinWH0fHJZtabtrhp3aAXedWOU9h8i4cuuTRAno6IRK0iV2cD4bBcjfldLOWbtnbSoqVxo4VfDJJVos3h2WAFeEXkqp5c9Yh1H3KpgBtatyyMUGuTRm7XqbS2aNTRHtH7sErUKnItHYxbOi64R/0scrcuunhFjJqbkrvAvD5l8rJtYCv46QRy/Wgcud6kiAztpnOK36Q5DXD5Gh811mkUDks+VeQqZJMsPyJlwF2l7nignbpjcR757WpRIopNpxwsBjeDfeAoOAFeHEeuy8HPwRsO4SfgJKidwnQAjyS6a0cDR6ehkESlqqCEUITxJXvwWDkNQ7SDX46Qx8vd/iE1ZaLYiTjrdLkyf6PKNbaJj03xNmw8VvGtvqdDxlyrhCoLVJh4YCIXfu86UK1vJ+WOU263clHsaZwqVzWup1MYE+tIFWlamNpcGkW71JCKIHItKvDHpH/wxZUG666NsriakI/1BdQQqcj1jIsVX0OsEQ1ilWGBKqLEYhHMpwoQxXKP1Fvu8ZC7PU4LG9TdDSZyzXP6xZFK2vtcBTdpN+DvHcZmlUcO6mINi1gVRomFJFjOxXKaYPsT9dSusGBFrrk3ZIdAWayPPD33tO2rO/bWQqgiVtVRYkEJud8aPvhEHQu2UUHBilwtvWnyPCtsT+VrtX6TlwY+H6aeXo3i/eEU+J5GWpg/vBKxKo4SC0uwSbD1aglW5GpNqrtH59CGzR7q6tZ473+HWyNfp75VlWG8Ho0CfqljLQaUWGBCXoLlmV5IESgnWJHrhFLl23+W6mFEqpu9Sak2Q6IeXZ5Sr1rsKLHQBFsEq1yKQOSa9bXiSBU5c5bqIKSailS9IlVHocSCE5yZgxW5jpNTPTw3Gal2GZGqNyJSdSBKLDzBVsFmpAjiIldFpKrnVAevN6TaJLf/TkeJBSjYnyLYtqeeBedy6aIb4D6x2Un+rIMfB0Su9uZU+fYfkapx+y9SLSWUWIiC7YLlSOlrDy5EBNtNgUAXhULd2QknHwPBXkS5saRoPbpoRa4516k+z1Idu/2PdklOtRRRYkEKtsNbZbfvnk/hcIjCoRBFImYIQ7ZdLFpMQ8iIZuMi10kYGp5Dw9+bxRHr+usyb/+lfKrUUGJRCoWR690P1SNqNdrQaSZgAYQoGg2yCIKhbiOaHWAsduLiPrRLL4vp40W4T+2e0cpk/9HDliikmPnYGDONx7wjVu77sOfIHIrFwtRUL7f/pY4SIhAUkWsGEC0TRjTLkaxnwFK7w6aF/XThF/rozu1NdMf9C3nrJiTLz80sB74zi/+f4e+XswCHRuzJhwI+Nsbt8AQIPPJ5IFr8zHrECrGi78Mc6u4OU2uzfPoviFwdiw1yBTzEzohkwzhWL3WYimKTIvYHYnxuT3uy3GjxkhBduirIc5zMsmRZkJZfFqDb72/iwXvAkGzuUkV/XG5+c/9jdXT5FT666Ashumx1gG79egtLHBUXpiXLEeuxZMTaBbG2tch+f0Hk6mhMyNUKLNdINIhjdbFAs0Sx/LWHf3YhpxMQ9ULOYR47EgKe9gi5WzVyt0VM0w5aWyIs6GXLQ/iQDpJ9OV2y1qW6bXcdrfpigPx+HLuZnw9Lsd2t0eKlIbr93hYWZoZks3atev74dKQ75lK3iFUQuZYGdsvVAPLQhalxFJuei2WpGlUG/kAfy5jlqtkhdo3CodSAPUh2xV8lOzIm2Ymlik/vIdUFtHqtLlUu3udrE4mmnSPMvVEh2zHJcqogTbLM45AqJM3XeMvWtqRYXdJIRRC5lgSFkitgcSJVwJUFPv9YLpalGtaiqcoDE8eyQbLbOV2QJtnsUl3FUo2wVP2BbJ/cZ0i2NZKU7JIw3XYvpwtY5hAt52pv+mobXXiRLmPuUCVTAASRa6lQQLmCCNCMyDRMwWAPhMRSZdJ/BxREsqGUZN2cLhiTLCTI8ht9NS1S9XFJlCFVC+cIa5zGaIdkL14Woq3fwAdz97VAqmGcm7+P35USK0HkWlJkyLWQojMj1cJLliPZIN03VE8791fT6iv9aVLNPRdqSJZFyi3/OnShi1QFkWvJcqpc1VhsBoVKF/AtejCY/O+2lvRI1QZYsjoiVUHkWtKUklzTJRsIRqSZtKAESohAELkKgtNQQgSCyFUQnIYSIhBEroLgNJQQgSByFQSnoYQIBJGrIDgNJUQgiFwFwWkoIQJB5CoITkMJEQgiV0FwGqk/xhmgAdRZoBHMA5QDZcb56jOOWW9QCc4HdIY4C3wGzDXOXwE+BWgK+AQoBwtANSgDf3cG5Tod1IC54J8A2cSnQD1YAGpNUmc8ngeogMwD5wKyif/O+LdapQ5UAbLIZ0GVDdfik4Dy5BNgPjgbUIH4WzADzAO1oCL13AvIP4A5oAbMBGdNJNcNIJEHh8A0QCZZZ/K474FR0FdAoUbBY+BklvN/CF4BW0ELoAJSAa4H3wV/BIkMfgMOg7Us/cLI9UrwMvgTSBj8AuwwhEt50Ar+DBI58hb4H0A28zHwAkiAEza9mfhBwib2WZBTL0gYbANkkXPAMyABfg/KAOXIdOMYCXDcEC3ZxPlgFdhrHPuPGdfsZ2AUbAbzbQ4O7gEn0871AXjVONd52eSasIEyQCZ5K4fjj4B/BmQTA+ANi8/h/0EUkI18Fuyx+DzeB7eAv7dJrv8GjoHEJCwBlCP7bRDNGkA2c3nGOW4HlCcHQMJGLgBkgoMgYfBn8K+ALDAz47xvG5Eh5cD6jGOFbHojvA781uL1OwBqAeVBG3h3kvO8CSoz5fpenmL9EPwLIJOcyPE8J8E/AsqD88BTIJEHu8G5gPJkeZ7P4xegHlAWuJfpndsbuDNUODThbdVP096FP8xcNBkRZxRQDuwGCfBRKqLJARcgGzkH/Bok0p7b++B8QHmwESTGh8/zrnGudyb53d9biPoezRDjfwGyQCX4IOP8I4ByYC1I2LBuUswAr6Yd733w0STXLvNO6QZAOVA5/jGZD9O+/wH4dLpc/wASBm+CWy1wo7WolXktdT7j3LdlOe62cW7VXwKUI/8BfjaOqN4Bh8DXjPNvBaPg3XF+//U8I+nbJpDmMfBQ2rXYA34ywe/3AsqAZ+fv3DePeno08vnGbQN4L0hkLNRhcIv2l/buPtqmOo/j+Dd5KJMeTItGmRZW5THPIaFl3IQbE3OvS43ShJqmUomyZkijovIcdbm6HoahrJWiTGR6LpJqpGJVo4iuTBKL67r4zXudtWtt39nnzvnt375P7v7j9Y97zj5nX3t/7u/8zvf3/fXvv9ALAeML3XycD7H0rO84u5GNyRb6QSJ2r+/cC3y/gycgDqpgOCZhsjIJ63AQR5CH+d7PtMcsP5ovhfF8i7oQC619IXHc938+HmJppO84riPXq2A8Ovw3YzGmYyqewis4nOQ5SyAWKuNrdQ8cxmLv9VbCqJ+/hlOCwnU1pBjpcP0SksSpGJssTCydlWQ6YpN3vGQfsc/FPT/9jpSXISFMhQnwOJpCkuiCpTAB+qrHJrYlefGdNnLzkEx6nQaG64Uw6ia4TT2mnX905+kWJlzVjS+lrKo6rz045hu9FueXIo/CePahOsSde7j6gugH9Qe3VymF6+VJQnI5ehQxH90U03XweUZbvP716jy+Ryf1mJthlMpB4fpWCYfrdi9EpQg6YD+FWHofRhlv8fw6WBEw2hVLNyYZjTe2OEbvJCPqBupxia1PRo/pI72uDrxwhqkL7ylIgIvwFQxW4ReO4ZqHOpBSdLcatRoU+H4X0yHFJBvGF2LNymC47lVTFgWoW8LhWhM/qmu0EIMsjtERm1XwLbN4/gJ1HpmQAJkwngcg5SVcBV+oILnQ4vXuh1EGQ0K4D8dRiN+GKLEyHtdPCvWxRx1rs3pMYr+nSbO6J3Y1zeyflXwEBfUXWTsDXSGQch6uVbHbd9Pk4zFsV3N6tStwuO5GoQqWzSUcrivUMQ6hDcTSqciFwXY0tHjuuzCevd6xJIlG6AApb+E6UQVJD0gKzoFRRkAcXIi6EEuL1fv4HOLgYhglC+JJ7CU1d2kXuvNnQV0MBIoK1ysgRTlJwvVuddO+BcE89e8zKnC45uN1bFe/k/klFK5XwiiuZVUXhZiCWQfj+R6VIEUpj+F6rwqRfhCPzZTCu5BSUBtGuQTi6HZ1zK3+ny9/zZt3HZoRNO/6R3UDTK8A4VoFeeq8e/pqM42aLqhdQcPV4AZ0DJiXH1YC4bpSTQc8DCkFi9R59DkZw3W2ChGvBMl6OqEFpBTcpd7HEkhEtuuaY9++/Yn99ceM753YUlptfVI/4MYZfJKH613qfDeony/To9cKHK4TIJgNo7QqxnCtgwJ1LlUgpWCwCvk8tA4brq+UwXCthH0qQFIpg2oQUBkgpeQl9V46QCKiV7yN8v989cbWkrOkS2Ln0oyMLH0B/C2gFOt5jMNoZATVS5bTagE912rQXc+bBdW9VtBwnQnxfKh+b3moXkzhOkg9dxKklFTDThWwBzEXY3AveuHMVML1I7RCW1wWoB3a4IwIw1UUbQVMiD8AGep5EyARuBSNIRa+UlUGp0Ai0k6d5yJVkpVYrTX01ozEHvxq9Ho2dqlSFy3fC+FfRxCux/Et0tEK7ZLSr+fuHnXTrocEWKZupicqaLhOU0tOD6rf39piCteHAz+Ku2uFCyCWOulFBAG+wQNJw9VSHhoXc51re6yBUdpDUjBcPe8miKMHYTz3pPqlmuoX8E4xNHophPG8CvFPDby6uYVMnZ1GSVZWUNVAfWyFUbT9SHMM16M4AJOCY/h9hKPW75KMWrUmQaPXCh6ugu4wyviIw1VPQ+RH8Pup4lshWBCyTrufHnz4z89nI2qHCVdtSgThesALmw34wLOhiBVJTzp8XO4HcVAJBf7VbBYrw47CeF6EROgM7IXxrIeoL7YS0wNDb8mQ9B5ZQdtOV8Ej+BwF/2cpYUeHcLW1sZgqBN5LZbmuv+41DteEMQGh0ivicH0GxnNQnUcYzWF8/g4JoSEW4zt1PL2ibRtquIbrdU7ham8ZxMJI9fyBEAdV8B2M5zNICs5DQTHOa5+NQzCetyF69LqWBQUz53Xz5l6LbI7RBmnIQjaOq2mD/+AXDstfj1iE6+wo51o9hSnUOtZQPRAKUCsO14RVKjjVAgPncF3gD1f/Wn3X3gCepyEOzkUXdMMQrAhYCfZcULjm4UnMxpwAOcjGMEgJhesxjIVYGqyOMxLioDJ2wXg+tgjl3XoqJEKXqPN8HqKteKut/GN9a7nxpkzp09vqYuqM/epmecAhXPdgMZ5EThJzMBY1Ip5rPYpNuAgt0SqJeliLI74bZlocrgmnY5deYBBhuE5RS167OM+1Rv8HW7szYETfSYfrGogz93D9As/hr2pZp43L1TGXl2C4au+p93IBJCIDoXoUqJHrGuZdP2khU7K7S+90Rq6Z1hdPN3XxfIFKIacFdpVSXetR7Ff9P4tyCPt9PQcOo1YcrgktYIpYYHCfDleHKZw7y0G4Ch5Xo9f5pV3nul6tvoqy2L+a+iKpANVLKVynwegvwyLysjp2Hz0lsGpdG3nhzbYycGB/Rq2+igE7q9QN1cShzvVXJVnXqkauxoIXrPACJw7X4IYlaoHBKIdwbauO+XY5CdfT1fTTxtIO10/0/KgK3qoQB8+oY04spXDVo+jdkAg0Cti94TT9uDe3XCr308Dl6jT1ZZad0TA+vcr4IgJ/hcARGAf5vlVbteJw/VmOP0Q9NZFmGa7aZ+r5vykH4SpY7f+EVtrhugvieThJb9NqDq/VAUa5OMpwdWgSPgPi6OOijrlsdTt5fUtzmfF0mvSkM1Y/egz0twxX/VHP55oyHq7+udZCbMMs5GBuCnIwE5vUx71pcbie4F8qCNfgITXiz3Cs7thWTsLVvwvF7rKw/LWyDljlA/UYW2+o4+3EOc5LTe3D9WrH7lxaLozyS990QKJxy5KXOgpNWxK9BQYMOOFCqI5RuBWSgmUwPi3LcLgG1bVeBQmhQUDPgVpxuP7sfBwOaA14xCFcqwWUPK0Mu1GiQ7g2wF9SvHYqYQeM56Oy2FsgKGA3OARsXRhlGxpBLFym+qhugVh6AUa5A2JpPoxyq55rfe3T5jJ8RF9J69pfBgxUHda9zeg8U1OoFTzmu1l2oGoZDte7g3oIOHhGhcfUOFxP0FMF2D4U6nC1lB7wpdnKEJ2t/qTqUHMhKain9s3qDSnCKHWNLNXhuraM9BYICtiNapdZG5kwylGMwGkp1JGOgVH+HbJW9msYZTmapTj63QSjLNWPffHdNrJg+RWSSWVA375ZQdsDG+W2Ioqnd+r13mW4t0DS1VgOGsHoutc4XE8wTvXDzcexkOGq22LqSpWsFIv+c33v55hl28RrA7Z3aQ8J0D/gffbQ4fohmqAZmitaCzQppnBNPkVgH7B6Oay2E9NxPdqhCdrjBmTje5gAf4aEUMc3d6utwnCkoRlaoA/GYl0RzxElseT1wUfTpUf3pNUBCwO+jFiAPmiKThiHfeoiK8C5Dr0F8nAVmqFlClrg1DBzrXrUGvHodVocrv/jZTXPfVSFaxjzkqwUXIdxXgi2RDN0xi14FodU1YftNkVnYUfAHnIT0BVN0Qs5Aa/zxk+LCA647oZq+ZF9C4xnhwpX7REYZR1Od9hS20QgJ4J+ABtgHD0NSRquE9Np1pL04jkT3/hqQI+ntJOmfSMN3QxlL4ylragHUbRzkBfRqFVrqN7TYdSHWJqtwvXSYgjXvBCNb9qocJ0eshwpLyBsMqOoIfUU+o6rabpK5HaHPbzUsZLeI/tRByIRhU0zSIq+gfH8gEoQTY9glWshIbXCmzAhbFA9ClxNhAlhj25EE7TFy/jH0iW9Z5EXzwXYrG+GInbbHORQoqJqTa2NhCjaLep9vw9Rohi9Fjps17xI3bAtIYprHfKPIVpFdlB/lHIgIbTU11NEDXgy8CWMPr4SdH2tQDtICNcgXx0/2evtQFN/45aPYBzVhqTon+pjvnhsArYxxFF/1XUrmZ2YhzRIMWiIWfgWRtG2YjTOgoQMV60SJqgCaO0VtHHdy99ROkTRrrDaqdbexer410EsPQjjOYCakAjMgvFsD/HFTx11biMgIQ0NbK7t7jSMwAfqk5Z2DB/jcbSGOKqHRSgsog46W/d1/Wn76MlYiAUWFiIHnSEWzsNMZFtuNDgEs9EJEqH6GIDx3vHn4Sncgc5qjrc4VUNXDMdM5GIupmAI2kIUl3DVaiILjyAXs3CHmsQP6xSMxnwssLAQubjZ4rW6Iwd/gETNN882yGElz0OYg8shEamBRzHHYTR8JXIwNoLu/zd4x/odpBi08l5jvPc6uZiIG1WgRqkxhmGG93qTMSRZcxkxxsRisVgsWnG4xmKxWByusVgsVk6UiTcRi8ViJ5sy8SZisVjsZFMm3kQsFoudbP4LF1ZXxIg2zNsAAAAASUVORK5CYII=",K=a(0);const Y=["cells"],J=["content","width"],G=["cells"],_=["content","width"],X=["cells"],Z=["content","width"],$=["cells"],ee=["content","width"],te=V.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},header:{width:"100%",fontSize:8,lineHeight:1.2,marginBottom:40,flexDirection:"row",alignItems:"center"},title:{fontFamily:"Microsoft Yahei",fontSize:15,marginBottom:10,textTransform:"uppercase"},logo:{marginLeft:"auto",width:50},info:{flexDirection:"row",marginBottom:10},companyInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},clientInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},email:{color:"#0000ff",textDecoration:"underline"},subtitle:{fontSize:18,margin:12,fontWeight:100,fontFamily:"Microsoft Yahei"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},table:{fontSize:8,marginBottom:10,border:"0.5px solid #808080"},tableRow:{fontSize:8,borderBottom:"0.5px solid #808080",flexDirection:"row",minHeight:15,fontFamily:"Microsoft Yahei"},tableColumn:{flex:1,padding:"3px 5px",borderRight:"0.5px solid #808080"}});V.Font.register({family:"Microsoft Yahei",src:E});const ae=["January","February","March","April","May","June","July","August","September","October","November","December"];var ne=Object(m.b)(e=>({loading:e.loading.value}))(e=>{const{loading:t}=e,[a,i]=Object(n.useState)(!1),[r,c]=Object(n.useState)({Seller:{},ChairStocks:[],DeskStocks:[],AccessoryStocks:[],ServiceToOrders:[],DeskToOrders:[]}),{id:o}=Object(l.h)();Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return d({id:o,cancelToken:e.token}),()=>e.cancel("Brand Component got unmounted")},[o]);const s=e=>{const t=new Date(e);return"".concat(ae[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},d=e=>{let{id:t,cancelToken:a}=e;M.a.get("/sales/".concat(t),{cancelToken:a}).then(e=>{i(!0),console.log(e.data),c(e.data)}).catch(function(e){i(!1)})};return t?Object(K.jsx)(u.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:Object(K.jsx)(p.a,{color:"inherit"})}):a?Object(K.jsxs)(n.Fragment,{children:[/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&Object(K.jsx)(V.PDFDownloadLink,{document:Object(K.jsx)(V.Document,{children:Object(K.jsxs)(V.Page,{style:te.body,wrap:!0,children:[Object(K.jsxs)(V.View,{style:te.header,children:[Object(K.jsxs)(V.View,{children:[Object(K.jsx)(V.Text,{style:te.title,children:"Invoice"}),Object(K.jsxs)(V.Text,{children:["Date: ",s(r.createdAt)]}),Object(K.jsx)(V.Text,{children:"No: I-".concat(r.Seller.prefix).concat(new Date(r.createdAt).getFullYear(),"-").concat(("000"+r.invoiceNum).substr(-3))})]}),Object(K.jsx)(V.View,{style:te.logo,children:Object(K.jsx)(V.Image,{src:U})})]}),Object(K.jsxs)(V.View,{style:te.info,children:[Object(K.jsxs)(V.View,{style:te.companyInfo,children:[Object(K.jsx)(V.Text,{children:"Blueocean International (HK) Ltd."}),Object(K.jsx)(V.Text,{children:"23/F"}),Object(K.jsx)(V.Text,{children:"Locakhart Centre"}),Object(K.jsx)(V.Text,{children:"301-307 Lockhart Rd"}),Object(K.jsx)(V.Text,{children:"Wanchai, Hong Kong"}),Object(K.jsx)(V.Text,{children:"Tel: 2169 3337"}),Object(K.jsxs)(V.Text,{children:["Email:"," ",Object(K.jsx)(V.Tspan,{style:te.email,children:"info@ergoseatings.com"})]})]}),Object(K.jsxs)(V.View,{style:te.clientInfo,children:[Object(K.jsxs)(V.Text,{children:["Client's Name: ",r.name]}),r.unit?Object(K.jsxs)(V.Text,{children:["Unit ",r.unit]}):null,r.floor?Object(K.jsxs)(V.Text,{children:["Floor ",r.floor]}):null,r.block?Object(K.jsxs)(V.Text,{children:["Block ",r.block]}):null,Object(K.jsx)(V.Text,{children:r.street}),Object(K.jsx)(V.Text,{children:r.district}),Object(K.jsxs)(V.Text,{children:["Phone: ",r.phone]}),Object(K.jsxs)(V.Text,{children:["Email: ",Object(K.jsx)(V.Tspan,{style:te.email,children:r.email})]})]})]}),Object(K.jsx)(V.View,{style:te.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(r.Seller.firstName," ").concat(r.Seller.lastName),width:"15%"},{content:r.timeLine%7===0?"Est ".concat(r.timeLine/7," working week").concat(r.timeLine/7===1?"":"s"," after payment"):"Est ".concat(r.timeLine," working day").concat(1===r.timeLine?"":"s"," after payment"),width:"55%"},{content:r.paymentTerms,width:"15%"},{content:r.paid?"Paid":r.dueDate,textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,Y);return Object(K.jsx)(V.View,{style:[te.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,J);return Object(K.jsx)(V.Text,{style:[te.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)})}),Object(K.jsxs)(V.View,{style:te.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},...r.ChairStocks.map(e=>({cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\nChair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\nRemark: ").concat(e.ChairToOrder.remark,"\n").concat(JSON.parse(e.ChairToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]})),...r.DeskToOrders.map(e=>({cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(r.DeskStocks.find(t=>t.id===e.stockId).model,"\n                            Color of Legs: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).color,"\n                            ArmSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).armSize,"\n                            FeetSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).feetSize,"\n                            Beam Size: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).beamSize,"\n                            ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                                  Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                                  Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                                  Remark: ").concat(e.remark):"Without DeskTop","\n                            ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]})),...r.AccessoryStocks.map(e=>({cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\nRemark: ").concat(e.AccessoryToOrder.remark,"\n").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]})),...r.ServiceToOrders.map(e=>({cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]})),...Array(Math.max(0,6-r.ChairStocks.length-r.DeskStocks.length-r.AccessoryStocks.length-r.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]}),{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)-(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100)+(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100)),textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,G);return Object(K.jsx)(V.View,{style:[te.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,_);return Object(K.jsx)(V.Text,{style:[te.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)}),Object(K.jsx)(V.Text,{children:"Blueocean International (HK) Ltd."}),Object(K.jsx)(V.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. ","You understand that a late payment penalty of 2% Interest Rate per month maybe charged for overdue payment"].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.","Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(K.jsx)(V.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})}),fileName:"somename.pdf",children:e=>{let{_blob:t,_url:a,loading:n,_error:i}=e;return n?"Loading document...":"Download now!"}}),Object(K.jsx)(V.PDFViewer,{height:"100%",children:Object(K.jsx)(V.Document,{children:Object(K.jsxs)(V.Page,{style:te.body,wrap:!0,children:[Object(K.jsxs)(V.View,{style:te.header,children:[Object(K.jsxs)(V.View,{children:[Object(K.jsx)(V.Text,{style:te.title,children:"Invoice"}),Object(K.jsxs)(V.Text,{children:["Date: ",s(r.createdAt)]}),Object(K.jsx)(V.Text,{children:"No: I-".concat(r.Seller.prefix).concat(new Date(r.createdAt).getFullYear(),"-").concat(("000"+r.invoiceNum).substr(-3))})]}),Object(K.jsx)(V.View,{style:te.logo,children:Object(K.jsx)(V.Image,{src:U})})]}),Object(K.jsxs)(V.View,{style:te.info,children:[Object(K.jsxs)(V.View,{style:te.companyInfo,children:[Object(K.jsx)(V.Text,{children:"Blueocean International (HK) Ltd."}),Object(K.jsx)(V.Text,{children:"23/F"}),Object(K.jsx)(V.Text,{children:"Lockhart Centre"}),Object(K.jsx)(V.Text,{children:"301-307 Lockhart Rd"}),Object(K.jsx)(V.Text,{children:"Wanchai, Hong Kong"}),Object(K.jsx)(V.Text,{children:"Tel: 2169 3337"}),Object(K.jsxs)(V.Text,{children:["Email:"," ",Object(K.jsx)(V.Tspan,{style:te.email,children:"info@ergoseatings.com"})]})]}),Object(K.jsxs)(V.View,{style:te.clientInfo,children:[Object(K.jsxs)(V.Text,{children:["Client's Name: ",r.name]}),r.unit?Object(K.jsxs)(V.Text,{children:["Unit ",r.unit]}):null,r.floor?Object(K.jsxs)(V.Text,{children:["Floor ",r.floor]}):null,r.block?Object(K.jsxs)(V.Text,{children:["Block ",r.block]}):null,Object(K.jsx)(V.Text,{children:r.street}),Object(K.jsx)(V.Text,{children:r.district}),Object(K.jsxs)(V.Text,{children:["Phone: ",r.phone]}),Object(K.jsxs)(V.Text,{children:["Email: ",Object(K.jsx)(V.Tspan,{style:te.email,children:r.email})]})]})]}),Object(K.jsx)(V.View,{style:te.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(r.Seller.firstName," ").concat(r.Seller.lastName),width:"15%"},{content:(r.timeLine%7===0?"Est ".concat(r.timeLine/7," working week").concat(r.timeLine/7===1?"":"s"," after payment"):"Est ".concat(r.timeLine," working day").concat(1===r.timeLine?"":"s"," after payment"))+"\n"+"".concat(r.remark),width:"55%"},{content:r.paymentTerms,width:"15%"},{content:r.paid?"Paid":r.dueDate,textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,X);return Object(K.jsx)(V.View,{style:[te.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,Z);return Object(K.jsx)(V.Text,{style:[te.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)})}),Object(K.jsxs)(V.View,{style:te.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},...r.ChairStocks.map(e=>({cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\n                        Chair Model: ").concat(e.model,"\n                        ").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n                        ").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\n                        Specification: ").concat(e.ChairToOrder.remark,"\n                        Other Remark: ").concat(e.remark,"\n                        ").concat(JSON.parse(e.ChairToOrder.deliveryOption),"\n                        "),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]})),...r.DeskToOrders.map(e=>({cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(r.DeskStocks.find(t=>t.id===e.stockId).model,"\n                        Color of Legs: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).color,"\n                        ArmSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).armSize,"\n                        FeetSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).feetSize,"\n                        Beam Size: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).beamSize,"\n                        ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                              Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                              Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                              Specification: ").concat(e.remark,"\n                              Other Remark: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]})),...r.AccessoryStocks.map(e=>({cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\n                      Specification: ").concat(e.AccessoryToOrder.remark,"\n                      Other Remark: ").concat(e.remark,"\n                      ").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]})),...r.ServiceToOrders.map(e=>({cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]})),...Array(Math.max(0,6-r.ChairStocks.length-r.DeskStocks.length-r.AccessoryStocks.length-r.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]}),{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)-(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100)+(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100)),textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,$);return Object(K.jsx)(V.View,{style:[te.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,ee);return Object(K.jsx)(V.Text,{style:[te.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)}),Object(K.jsx)(V.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:45,left:0},children:"Blueocean International (HK) Ltd."}),Object(K.jsx)(V.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. "].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","10 years for structural defective parts, under regular usage by Okamura Salotto HK Ltd, for details please refer to our website FAQ section.","Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Atlas Headrest, 3 years for defective parts under regular usage, by Back Foley LLC","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(K.jsx)(V.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})})})]}):Object(K.jsxs)(u.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:[Object(K.jsx)(F.a,{}),Object(K.jsx)(Q.a,{children:"This url is not a valid invoice url."})]})}),ie=a.p+"static/media/receipt_logo.15fa4131.png";const re=["cells"],ce=["content","width"],oe=["cells"],le=["content","width"],se=["cells"],de=["content","width"],ue=["cells"],pe=["content","width"],he=V.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},header:{width:"100%",fontSize:8,lineHeight:1.2,marginBottom:40,flexDirection:"row",alignItems:"center"},title:{fontFamily:"Microsoft Yahei",fontSize:15,marginBottom:10,textTransform:"uppercase"},logo:{marginLeft:"auto",width:50},info:{flexDirection:"row",marginBottom:10},companyInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},clientInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},receiptLogo:{width:70,marginLeft:10},note:{flexDirection:"row"},email:{color:"#0000ff",textDecoration:"underline"},subtitle:{fontSize:18,margin:12,fontWeight:100,fontFamily:"Microsoft Yahei"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},table:{fontSize:8,marginBottom:10,border:"0.5px solid #808080"},tableRow:{fontSize:8,borderBottom:"0.5px solid #808080",flexDirection:"row",minHeight:15,fontFamily:"Microsoft Yahei"},tableColumn:{flex:1,padding:"3px 5px",borderRight:"0.5px solid #808080"}});V.Font.register({family:"Microsoft Yahei",src:E});const be=["January","February","March","April","May","June","July","August","September","October","November","December"];var me=Object(m.b)(e=>({loading:e.loading.value}))(e=>{const{loading:t}=e,[a,i]=Object(n.useState)(!1),[r,c]=Object(n.useState)({Seller:{},ChairStocks:[],DeskStocks:[],AccessoryStocks:[],ServiceToOrders:[],DeskToOrders:[]}),{id:o}=Object(l.h)();Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return d({id:o,cancelToken:e.token}),()=>e.cancel("Brand Component got unmounted")},[o]);const s=e=>{const t=new Date(e);return"".concat(be[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},d=e=>{let{id:t,cancelToken:a}=e;M.a.get("/sales/".concat(t),{cancelToken:a}).then(e=>{i(!0),c(e.data)}).catch(function(e){i(!1)})};return t?Object(K.jsx)(u.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:Object(K.jsx)(p.a,{color:"inherit"})}):a?Object(K.jsxs)(n.Fragment,{children:[/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&Object(K.jsx)(V.PDFDownloadLink,{document:Object(K.jsx)(V.Document,{children:Object(K.jsxs)(V.Page,{style:he.body,wrap:!0,children:[Object(K.jsxs)(V.View,{style:he.header,children:[Object(K.jsxs)(V.View,{children:[Object(K.jsx)(V.Text,{style:he.title,children:"Receipt"}),Object(K.jsxs)(V.Text,{children:["Date: ",s(r.createdAt)]}),Object(K.jsx)(V.Text,{children:"No: I-".concat(r.Seller.prefix).concat(new Date(r.createdAt).getFullYear(),"-").concat(("000"+r.invoiceNum).substr(-3))})]}),Object(K.jsx)(V.View,{style:he.logo,children:Object(K.jsx)(V.Image,{src:U})})]}),Object(K.jsxs)(V.View,{style:he.info,children:[Object(K.jsxs)(V.View,{style:he.companyInfo,children:[Object(K.jsx)(V.Text,{children:"Blueocean International (HK) Ltd."}),Object(K.jsx)(V.Text,{children:"19/F"}),Object(K.jsx)(V.Text,{children:"Bel Trade Commercial Building"}),Object(K.jsx)(V.Text,{children:"3 Burrows Street"}),Object(K.jsx)(V.Text,{children:"Wanchai, Hong Kong"}),Object(K.jsx)(V.Text,{children:"Tel: 2169 3337"}),Object(K.jsxs)(V.Text,{children:["Email:"," ",Object(K.jsx)(V.Tspan,{style:he.email,children:"info@ergoseatings.com"})]})]}),Object(K.jsxs)(V.View,{style:he.clientInfo,children:[Object(K.jsxs)(V.Text,{children:["Client's Name: ",r.name]}),r.unit?Object(K.jsxs)(V.Text,{children:["Unit ",r.unit]}):null,r.floor?Object(K.jsxs)(V.Text,{children:["Floor ",r.floor]}):null,r.block?Object(K.jsxs)(V.Text,{children:["Block ",r.block]}):null,Object(K.jsx)(V.Text,{children:r.street}),Object(K.jsx)(V.Text,{children:r.district}),Object(K.jsxs)(V.Text,{children:["Phone: ",r.phone]}),Object(K.jsxs)(V.Text,{children:["Email: ",Object(K.jsx)(V.Tspan,{style:he.email,children:r.email})]})]})]}),Object(K.jsx)(V.View,{style:he.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(r.Seller.firstName," ").concat(r.Seller.lastName),width:"15%"},{content:r.timeLine%7===0?"Est ".concat(r.timeLine/7," working week").concat(r.timeLine/7===1?"":"s"," after payment"):"Est ".concat(r.timeLine," working day").concat(1===r.timeLine?"":"s"," after payment"),width:"55%"},{content:r.paymentTerms,width:"15%"},{content:r.paid?"Paid":r.dueDate,textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,re);return Object(K.jsx)(V.View,{style:[he.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,ce);return Object(K.jsx)(V.Text,{style:[he.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)})}),Object(K.jsxs)(V.View,{style:he.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},...r.ChairStocks.map(e=>({cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\nChair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\nRemark: ").concat(e.ChairToOrder.remark,"\n").concat(JSON.parse(e.ChairToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]})),...r.DeskToOrders.map(e=>({cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(r.DeskStocks.find(t=>t.id===e.stockId).model,"\n                    Color of Legs: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).color,"\n                    ArmSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).armSize,"\n                    FeetSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).feetSize,"\n                    Beam Size: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).beamSize,"\n                    ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                          Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                          Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                          Remark: ").concat(e.remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]})),...r.AccessoryStocks.map(e=>({cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\nRemark: ").concat(e.AccessoryToOrder.remark,"\n").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]})),...r.ServiceToOrders.map(e=>({cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]})),...Array(Math.max(0,6-r.ChairStocks.length-r.DeskStocks.length-r.AccessoryStocks.length-r.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]}),{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)-(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100)+(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100)),textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,oe);return Object(K.jsx)(V.View,{style:[he.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,le);return Object(K.jsx)(V.Text,{style:[he.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)}),Object(K.jsx)(V.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"Blueocean International (HK) Ltd. \\r\\n NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. "].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsxs)(V.View,{style:he.note,children:[Object(K.jsx)(V.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888",width:"80%"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),Object(K.jsx)(V.Image,{src:ie,style:he.receiptLogo})]}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(K.jsx)(V.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})}),children:e=>{let{_blob:t,_url:a,loading:n,_error:i}=e;return n?"Loading document...":"Download now!"}}),Object(K.jsx)(V.PDFViewer,{height:"100%",children:Object(K.jsx)(V.Document,{children:Object(K.jsxs)(V.Page,{style:he.body,wrap:!0,children:[Object(K.jsxs)(V.View,{style:he.header,children:[Object(K.jsxs)(V.View,{children:[Object(K.jsx)(V.Text,{style:he.title,children:"Receipt"}),Object(K.jsxs)(V.Text,{children:["Date: ",s(r.createdAt)]}),Object(K.jsx)(V.Text,{children:"No: I-".concat(r.Seller.prefix).concat(new Date(r.createdAt).getFullYear(),"-").concat(("000"+r.invoiceNum).substr(-3))})]}),Object(K.jsx)(V.View,{style:he.logo,children:Object(K.jsx)(V.Image,{src:U})})]}),Object(K.jsxs)(V.View,{style:he.info,children:[Object(K.jsxs)(V.View,{style:he.companyInfo,children:[Object(K.jsx)(V.Text,{children:"Blueocean International (HK) Ltd."}),Object(K.jsx)(V.Text,{children:"19/F"}),Object(K.jsx)(V.Text,{children:"Bel Trade Commercial Building"}),Object(K.jsx)(V.Text,{children:"3 Burrows Street"}),Object(K.jsx)(V.Text,{children:"Wanchai, Hong Kong"}),Object(K.jsx)(V.Text,{children:"Tel: 2169 3337"}),Object(K.jsxs)(V.Text,{children:["Email:"," ",Object(K.jsx)(V.Tspan,{style:he.email,children:"info@ergoseatings.com"})]})]}),Object(K.jsxs)(V.View,{style:he.clientInfo,children:[Object(K.jsxs)(V.Text,{children:["Client's Name: ",r.name]}),r.unit?Object(K.jsxs)(V.Text,{children:["Unit ",r.unit]}):null,r.floor?Object(K.jsxs)(V.Text,{children:["Floor ",r.floor]}):null,r.block?Object(K.jsxs)(V.Text,{children:["Block ",r.block]}):null,Object(K.jsx)(V.Text,{children:r.street}),Object(K.jsx)(V.Text,{children:r.district}),Object(K.jsxs)(V.Text,{children:["Phone: ",r.phone]}),Object(K.jsxs)(V.Text,{children:["Email: ",Object(K.jsx)(V.Tspan,{style:he.email,children:r.email})]})]})]}),Object(K.jsx)(V.View,{style:he.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Estimated Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Due Date",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(r.Seller.firstName," ").concat(r.Seller.lastName),width:"15%"},{content:r.timeLine%7===0?"Est ".concat(r.timeLine/7," working week").concat(r.timeLine/7===1?"":"s"," after payment"):"Est ".concat(r.timeLine," working day").concat(1===r.timeLine?"":"s"," after payment"),width:"55%"},{content:r.paymentTerms,width:"15%"},{content:r.paid?"Paid":r.dueDate,textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,se);return Object(K.jsx)(V.View,{style:[he.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,de);return Object(K.jsx)(V.Text,{style:[he.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)})}),Object(K.jsxs)(V.View,{style:he.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},...r.ChairStocks.map(e=>({cells:[{content:"".concat(e.ChairToOrder.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\nChair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\nRemark: ").concat(e.ChairToOrder.remark,"\n").concat(JSON.parse(e.ChairToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToOrder.unitPrice*e.ChairToOrder.qty),textAlign:"right",width:"15%"}]})),...r.DeskToOrders.map(e=>({cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(r.DeskStocks.find(t=>t.id===e.stockId).model,"\n                    Color of Legs: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).color,"\n                    ArmSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).armSize,"\n                    FeetSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).feetSize,"\n                    Beam Size: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).beamSize,"\n                    ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                          Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                          Table Top Color: ").concat(e.topColor," ").concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)," ").concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                          Remark: ").concat(e.remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]})),...r.AccessoryStocks.map(e=>({cells:[{content:"".concat(e.AccessoryToOrder.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\nRemark: ").concat(e.AccessoryToOrder.remark,"\n").concat(JSON.parse(e.AccessoryToOrder.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToOrder.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty),textAlign:"right",width:"15%"}]})),...r.ServiceToOrders.map(e=>({cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]})),...Array(Math.max(0,6-r.ChairStocks.length-r.DeskStocks.length-r.AccessoryStocks.length-r.ServiceToOrders.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]}),{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskToOrders.length?r.DeskToOrders.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0)+(r.ServiceToOrders.length?r.ServiceToOrders.map(e=>e.price).reduce((e,t)=>e+t):0)-(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.discount/100)+(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToOrder.unitPrice*e.ChairToOrder.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToOrder.unitPrice*e.DeskToOrder.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToOrder.unitPrice*e.AccessoryToOrder.qty).reduce((e,t)=>e+t):0))*r.surcharge/100)),textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,ue);return Object(K.jsx)(V.View,{style:[he.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,pe);return Object(K.jsx)(V.Text,{style:[he.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)}),Object(K.jsx)(V.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"Blueocean International (HK) Ltd. \\r\\n NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. "].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsxs)(V.View,{style:he.note,children:[Object(K.jsx)(V.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888",width:"80%"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),Object(K.jsx)(V.Image,{src:ie,style:he.receiptLogo})]}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Okamura chairs:  5 years for defective parts under regular usage, by Okamura Salotto HK Ltd.","Sidiz chairs: 3 years for defective parts under regular usage, by Sidiz, Inc.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this invoice represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(K.jsx)(V.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})})})]}):Object(K.jsxs)(u.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:[Object(K.jsx)(F.a,{}),Object(K.jsx)(Q.a,{children:"This url is not a valid invoice url."})]})});const je=["cells"],xe=["content","width"],Oe=["cells"],ge=["content","width"],fe=V.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},header:{width:"100%",fontSize:8,lineHeight:1.2,marginBottom:40,flexDirection:"row",alignItems:"center"},title:{fontFamily:"Microsoft Yahei",fontSize:15,marginBottom:10,textTransform:"uppercase"},logo:{marginLeft:"auto",width:50},info:{flexDirection:"row",marginBottom:10},companyInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},clientInfo:{fontFamily:"Microsoft Yahei",fontSize:8,width:200,paddingRight:10,lineHeight:1.2},email:{color:"#0000ff",textDecoration:"underline"},subtitle:{fontSize:18,margin:12,fontWeight:100,fontFamily:"Microsoft Yahei"},text:{margin:12,fontSize:14,textAlign:"justify",fontFamily:"Times-Roman"},table:{fontSize:8,marginBottom:10,border:"0.5px solid #808080"},tableRow:{fontSize:8,borderBottom:"0.5px solid #808080",flexDirection:"row",minHeight:15,fontFamily:"Microsoft Yahei"},tableColumn:{flex:1,padding:"3px 5px",borderRight:"0.5px solid #808080"}});V.Font.register({family:"Microsoft Yahei",src:E});const ye=["January","February","March","April","May","June","July","August","September","October","November","December"];var ke=Object(m.b)(e=>({loading:e.loading.value}))(e=>{const{loading:t}=e,[a,i]=Object(n.useState)(!1),[r,c]=Object(n.useState)({Seller:{},ChairStocks:[],DeskStocks:[],AccessoryStocks:[],ServiceToQuotations:[],DeskToQuotations:[]}),{id:o}=Object(l.h)();Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return s({id:o,cancelToken:e.token}),()=>e.cancel("Brand Component got unmounted")},[o]);const s=e=>{let{id:t,cancelToken:a}=e;M.a.get("/quotation/".concat(t),{cancelToken:a}).then(e=>{i(!0),c(e.data)}).catch(function(e){i(!1)})};return t?Object(K.jsx)(u.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:Object(K.jsx)(p.a,{color:"inherit"})}):a?Object(K.jsx)(V.PDFViewer,{height:"100%",children:Object(K.jsx)(V.Document,{children:Object(K.jsxs)(V.Page,{style:fe.body,wrap:!0,children:[Object(K.jsxs)(V.View,{style:fe.header,children:[Object(K.jsxs)(V.View,{children:[Object(K.jsx)(V.Text,{style:fe.title,children:"Quotation"}),Object(K.jsxs)(V.Text,{children:["Date: ",(e=>{const t=new Date(e);return"".concat(ye[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())})(r.createdAt)]}),Object(K.jsx)(V.Text,{children:"No: Q-".concat(r.Seller.prefix).concat((e=>{const t=new Date(e);return"".concat(t.getFullYear()).concat(t.getMonth()).concat(t.getDate())})(r.createdAt)).concat(("000"+r.quotationNum).substr(-3))})]}),Object(K.jsx)(V.View,{style:fe.logo,children:Object(K.jsx)(V.Image,{src:U})})]}),Object(K.jsxs)(V.View,{style:fe.info,children:[Object(K.jsxs)(V.View,{style:fe.companyInfo,children:[Object(K.jsx)(V.Text,{children:"Blueocean International (HK) Ltd."}),Object(K.jsx)(V.Text,{children:"23/F"}),Object(K.jsx)(V.Text,{children:"Lockhart Centre"}),Object(K.jsx)(V.Text,{children:"301-307 Locakhart Rd"}),Object(K.jsx)(V.Text,{children:"Wanchai, Hong Kong"}),Object(K.jsx)(V.Text,{children:"Tel: 2169 3337"}),Object(K.jsxs)(V.Text,{children:["Email: ",Object(K.jsx)(V.Tspan,{style:fe.email,children:"info@ergoseatings.com"})]})]}),Object(K.jsxs)(V.View,{style:fe.clientInfo,children:[Object(K.jsxs)(V.Text,{children:["Client's Name: ",r.name]}),r.unit?Object(K.jsxs)(V.Text,{children:["Unit ",r.unit]}):null,r.floor?Object(K.jsxs)(V.Text,{children:["Floor ",r.floor]}):null,r.block?Object(K.jsxs)(V.Text,{children:["Block ",r.block]}):null,Object(K.jsx)(V.Text,{children:r.street}),Object(K.jsx)(V.Text,{children:r.district}),Object(K.jsxs)(V.Text,{children:["Phone: ",r.phone]}),Object(K.jsxs)(V.Text,{children:["Email: ",Object(K.jsx)(V.Tspan,{style:fe.email,children:r.email})]})]})]}),Object(K.jsx)(V.View,{style:fe.table,children:[{cells:[{content:"Salesperson",width:"15%"},{content:"Proposed Delivery Date",width:"55%"},{content:"Payment Terms",width:"15%"},{content:"Valid Til",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},{cells:[{content:"".concat(r.Seller.firstName," ").concat(r.Seller.lastName),width:"15%"},{content:(r.timeLine%7===0?"Est ".concat(r.timeLine/7," working week").concat(r.timeLine/7===1?"":"s"," after payment"):"Est ".concat(r.timeLine," working day").concat(1===r.timeLine?"":"s"," after payment"))+"\n"+"".concat(r.remark),width:"55%"},{content:r.paymentTerms,width:"15%"},{content:"".concat(r.validTil," month").concat(1===r.validTil?"":"s"),textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,je);return Object(K.jsx)(V.View,{style:[fe.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,xe);return Object(K.jsx)(V.Text,{style:[fe.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)})}),Object(K.jsxs)(V.View,{style:fe.table,children:[[{cells:[{content:"QTY",width:"15%"},{content:"Description",width:"55%"},{content:"Unit Price",width:"15%"},{content:"Line Total (HKD)",textAlign:"right",width:"15%"}],backgroundColor:"#dbe5f1",textTransform:"uppercase"},...r.ChairStocks.map(e=>({cells:[{content:"".concat(e.ChairToQuotation.qty),width:"15%"},{content:"Chair Brand: ".concat(e.brand,"\n                      Chair Model: ").concat(e.model,"\n").concat(e.withHeadrest?"With Headrest":"Without Headrest","\n                      ").concat(e.withAdArmrest?"With Adjustable Armrest":"Without Adjustable Armrest","\n                      Specification: ").concat(e.ChairToQuotation.remark,"\n                      Other Remark: ").concat(e.remark,"\n                      ").concat(JSON.parse(e.ChairToQuotation.deliveryOption)),width:"55%"},{content:"".concat(e.ChairToQuotation.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty),textAlign:"right",width:"15%"}]})),...r.DeskToQuotations.map(e=>({cells:[{content:"".concat(e.qty),width:"15%"},{content:"Desk Model: ".concat(r.DeskStocks.find(t=>t.id===e.stockId).model,"\n                    Color of Legs: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).color,"\n                    ArmSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).armSize,"\n                    FeetSize: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).feetSize,"\n                    Beam Size: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).beamSize,"\n                    ").concat(e.hasDeskTop?"Table Top: ".concat(e.topMaterial,"\n                        Table Top Size: ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,"\n                        Table Top Color: ").concat(e.topColor).concat(0===e.topRoundedCorners?"":"\nRounded Corners: ".concat(e.topRoundedCorners,", Radius: R").concat(e.topCornerRadius)).concat(0===e.topHoleCount?"":"\nHoles Required: ".concat(e.topHoleCount,", Hole Position: ").concat(e.topHolePosition,", Holes Shaped: ").concat(e.topHoleType),"\n                        Specification: ").concat(e.remark,"\n                        Other Remark: ").concat(r.DeskStocks.find(t=>t.id===e.stockId).remark):"Without DeskTop","\n                    ").concat(JSON.parse(e.deliveryOption)),width:"55%"},{content:"".concat(e.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.unitPrice*e.qty),textAlign:"right",width:"15%"}]})),...r.AccessoryStocks.map(e=>({cells:[{content:"".concat(e.AccessoryToQuotation.qty),width:"15%"},{content:"".concat(e.name,"\nAccessory Category: ").concat(e.category,"\n                      Specification: ").concat(e.AccessoryToQuotation.remark,"\n                      Other Remark: ").concat(e.remark,"\n                      ").concat(JSON.parse(e.AccessoryToQuotation.deliveryOption)),width:"55%"},{content:"".concat(e.AccessoryToQuotation.unitPrice),textAlign:"right",width:"15%"},{content:"".concat(e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty),textAlign:"right",width:"15%"}]})),...r.ServiceToQuotations.map(e=>({cells:[{content:"1",width:"15%"},{content:"".concat(e.description),width:"55%"},{content:"".concat(e.price),textAlign:"right",width:"15%"},{content:"".concat(e.price),textAlign:"right",width:"15%"}]})),...Array(Math.max(0,6-r.ChairStocks.length-r.DeskStocks.length-r.AccessoryStocks.length-r.ServiceToQuotations.length)).fill({cells:[{content:"",width:"15%"},{content:"",width:"55%"},{content:"",width:"15%"},{content:"",width:"15%"}]}),{cells:[{content:"",width:"70%",fontSize:12},{content:"SUBTOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty).reduce((e,t)=>e+t):0)+(r.DeskToQuotations.length?r.DeskToQuotations.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty).reduce((e,t)=>e+t):0)+(r.ServiceToQuotations.length?r.ServiceToQuotations.map(e=>e.price).reduce((e,t)=>e+t):0)),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"DISCOUNT",width:"15%"},{content:"".concat(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty).reduce((e,t)=>e+t):0))*r.discount/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"SURCHARGE",width:"15%"},{content:"".concat(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty).reduce((e,t)=>e+t):0))*r.surcharge/100),textAlign:"right",width:"15%",borderBottom:"0.5px solid #808080"}],borderBottom:"none"},{cells:[{content:"",width:"70%",fontSize:12},{content:"TOTAL",width:"15%"},{content:"".concat((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty).reduce((e,t)=>e+t):0)+(r.DeskToQuotations.length?r.DeskToQuotations.map(e=>e.unitPrice*e.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty).reduce((e,t)=>e+t):0)+(r.ServiceToQuotations.length?r.ServiceToQuotations.map(e=>e.price).reduce((e,t)=>e+t):0)-(r.discountType?r.discount:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty).reduce((e,t)=>e+t):0))*r.discount/100)+(r.surchargeType?r.surcharge:((r.ChairStocks.length?r.ChairStocks.map(e=>e.ChairToQuotation.unitPrice*e.ChairToQuotation.qty).reduce((e,t)=>e+t):0)+(r.DeskStocks.length?r.DeskStocks.map(e=>e.DeskToQuotation.unitPrice*e.DeskToQuotation.qty).reduce((e,t)=>e+t):0)+(r.AccessoryStocks.length?r.AccessoryStocks.map(e=>e.AccessoryToQuotation.unitPrice*e.AccessoryToQuotation.qty).reduce((e,t)=>e+t):0))*r.surcharge/100)),textAlign:"right",width:"15%"}]}].map((e,t,a)=>{let{cells:n}=e,i=Object(q.a)(e,Oe);return Object(K.jsx)(V.View,{style:[fe.tableRow,Object(z.a)({borderBottom:t===a.length-1?"none":null},i)],children:n.map((e,t,a)=>{let{content:n,width:i}=e,r=Object(q.a)(e,ge);return Object(K.jsx)(V.Text,{style:[fe.tableColumn,Object(z.a)({borderRight:t===a.length-1?"none":null,flexBasis:i,maxWidth:i},r)],children:n},t)})},t)}),Object(K.jsx)(V.Text,{style:{fontSize:12,padding:3,position:"absolute",width:"70%",bottom:0,left:0},children:"Blueocean International (HK) Ltd. \\r\\n NOTE: Please deposit to HSBC 023-472038-838 (bank code: 004, Bank address: 1 Queen's Road Central, Hong Kong. SWIFT code: HSBCHKHHHKH or FPS: info@ergoseatings.com"})]}),["Should the delivery of goods involved any staircases at the provided location, there will be an additional delivery fee of HK$100 per level to be charged in advance.","If you have special assembling requirements, please let us know prior to delivery.  Otherwise, all chairs will be assembled before delivery and all desks will be assembled on site.","If the delivery address is located in a remote area within Hong Kong, we reserve the rights to charge the client extra for delivery charges.  In such cases, we will provide a quotation upon investigation of the detailed address.  Client will be notified of such extra cost prior to delivery.","Delivery date for pre-orders stated above is an estimate only. While we will try our best to deliver the products as soon as possible, the actual delivery date may be adjusted depending on actual freight schedule. We do NOT accept refund in case of delay arising from delivery delay.","You understand that pre-orders are non-refundable.  Decision to switch to another product after purchase can only be treated as store credits. "].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",margin:"5px 0"},children:[Object(K.jsx)(V.View,{style:{width:2,fontSize:10,lineHeight:1.2,margin:"0 10px 0 0",color:"#888888"},children:Object(K.jsx)(V.Text,{children:"\u2022"})}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{marginTop:"5px",fontSize:10,lineHeight:1.2,color:"#888888"},children:"The warranty is effective from the date of purchase from Blueocean International (HK) Ltd by the original purchaser. Such warranty applies under the following terms and conditions and is covered by the original manufacturers for specific period stated:"}),["Nightingale chairs: 5 years for defective parts under regular usage, by Nightingale Corp.","Allseating chairs:  5 years for defective parts under regular usage, by Allseating Corp.","Standing desks: 5 years by manufacturer","Bestuhl chairs: 3 years for defective parts under regular usage, by Bestuhl Co. Ltd.","Duorest chairs: 3 years for defective parts under regular usage, by Duoback Co. Ltd.","Wagner chairs: 5 years for defective parts under regular usage, by Topstar GMBH","Topstar chairs: 3 years for defective parts under regular usage, by Topstar GMBH","Ergohuman chairs: 2 years for defective parts under regular usage, by manufacturer","HAG chairs: 2 years for defective parts under regular usage, by manufacturer"].map((e,t)=>Object(K.jsxs)(V.View,{style:{flexDirection:"row",marginLeft:"10px"},children:[Object(K.jsx)(V.View,{style:{width:2,height:2,margin:"5px 10px 0 0",backgroundColor:"#888888"}}),Object(K.jsx)(V.View,{style:{flexGrow:1,fontSize:10,lineHeight:1.2,color:"#888888"},children:Object(K.jsx)(V.Text,{children:e})})]},t)),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,color:"#888888"},children:"Claiming of any aforementioned warranties only covers replacement of the defective or broken parts only and does not include the following cost, which shall be borne by the claimant. A quotation will be provided in advance for approval by the claimant: 1) labor costs of technician for replacing the parts; 2) transportation costs incurred for sending the product(s) to our company and delivering back to the claimant from our shop after service. I, the undersigned, have read and understand these policies and agree to all the above."}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Agreement to this quotation represents that client understands our refund policy and terms and condition as stated in our website ergoseatings.com and ergoseatings.com.hk"}),Object(K.jsx)(V.Text,{style:{fontSize:10,lineHeight:1.2,marginTop:10,color:"#888888"},children:"Initials: _________________"}),Object(K.jsx)(V.Text,{style:{fontSize:12,lineHeight:1.2,marginTop:12,fontWeight:"bold",textAlign:"center"},children:"Thank you for your business!"})]})})}):Object(K.jsxs)(u.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0,children:[Object(K.jsx)(F.a,{}),Object(K.jsx)(Q.a,{children:"This url is not a valid quotation url."})]})}),ve=a(805),Se=a(806),Ce=a(796),we=a(797),Te=a(339),De=a(812),Ae=a(788),Pe=a(813),Be=a(166),Ie=a.n(Be),We=a(13),Re=a.n(We);const He=()=>e=>{delete M.a.defaults.headers.common.Authorization,e({type:"auth/logout"})};const Le=e=>Object(K.jsxs)(Q.a,Object(z.a)(Object(z.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(K.jsx)(ve.a,{color:"inherit",href:"https://blueoceanblue.com/",children:"Blueoceanblue.com"})," ",(new Date).getFullYear(),"."]}));var Ne=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}},{login:e=>t=>new Promise((a,n)=>{M.a.post("/user/login",e).then(e=>{const{token:n,type:i}=e.data,r="admin"===i;M.a.defaults.headers.common.Authorization="Bearer ".concat(n),t({type:"auth/loginSuccess",payload:{token:n,isAdmin:r}}),a()}).catch(function(e){n(e)}).then(function(){})})})(e=>Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(Se.a,{sx:{mx:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(K.jsx)("img",{src:U,style:{maxWidth:"100%"},alt:"Ergoseating"}),Object(K.jsx)(Ce.a,{sx:{m:2,bgcolor:"secondary.main"},children:Object(K.jsx)(Ie.a,{})}),Object(K.jsx)(Q.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(K.jsxs)(Se.a,{maxWidth:"sm",width:"100%",component:"form",onSubmit:t=>{t.preventDefault();const a=t.currentTarget,n=new FormData(a);e.login({email:n.get("email"),password:n.get("password")}).then().catch(e=>{a.password.value="",Re.a.fire({icon:"error",title:"Login Failure",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1})})},noValidate:!0,sx:{mt:1},children:[Object(K.jsxs)(we.a,{container:!0,spacing:2,children:[Object(K.jsx)(we.a,{item:!0,xs:12,children:Object(K.jsx)(Te.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email",autoFocus:!0})}),Object(K.jsx)(we.a,{item:!0,xs:12,children:Object(K.jsx)(Te.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"})})]}),Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(K.jsx)(Pe.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(K.jsxs)(we.a,{container:!0,children:[Object(K.jsx)(we.a,{item:!0,xs:!0,children:Object(K.jsx)(ve.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(K.jsx)(we.a,{item:!0,children:Object(K.jsx)(ve.a,{component:o.b,to:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(K.jsx)(Le,{sx:{mt:8,mb:4}})]})),Me=a(809),ze=a(792),qe=a(799),Ve=a(330);const Fe=e=>Object(K.jsxs)(Q.a,Object(z.a)(Object(z.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(K.jsx)(ve.a,{color:"inherit",href:"https://blueoceanblue.com/",children:"Blueoceanblue.com"})," ",(new Date).getFullYear(),"."]}));var Qe=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(Se.a,{sx:{mx:2,mt:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(K.jsx)("img",{src:U,style:{maxWidth:"100%"},alt:"Ergoseating"}),Object(K.jsx)(Ce.a,{sx:{m:2,bgcolor:"secondary.main"},children:Object(K.jsx)(Ie.a,{})}),Object(K.jsx)(Q.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(K.jsxs)(Se.a,{maxWidth:"sm",width:"100%",component:"form",onSubmit:t=>{t.preventDefault();const a=t.currentTarget,n=new FormData(a);M.a.post("user/register",{firstName:n.get("firstName"),lastName:n.get("lastName"),email:n.get("email"),password:n.get("password"),prefix:n.get("prefix"),type:n.get("type")}).then(()=>{e.history.push("/signin"),Re.a.fire({icon:"success",title:"SignUp Success",html:"Your account was successfully registered.<br>You can use your account once Adminstrator allows.",allowOutsideClick:!1})}).catch(e=>{Re.a.fire({icon:"error",title:"SignUp Failure",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1})}).then(function(){})},noValidate:!0,sx:{mt:1},children:[Object(K.jsxs)(we.a,{container:!0,spacing:2,children:[Object(K.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(K.jsx)(Te.a,{required:!0,fullWidth:!0,label:"First Name",type:"text",name:"firstName",autoComplete:"fname",autoFocus:!0})}),Object(K.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(K.jsx)(Te.a,{required:!0,fullWidth:!0,label:"Last Name",type:"text",name:"lastName",autoComplete:"lname"})}),Object(K.jsx)(we.a,{item:!0,xs:12,children:Object(K.jsx)(Te.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email"})}),Object(K.jsx)(we.a,{item:!0,xs:12,children:Object(K.jsx)(Te.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password"})}),Object(K.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(K.jsx)(Te.a,{required:!0,fullWidth:!0,name:"prefix",label:"Prefix",type:"text",autoComplete:"prefix"})}),Object(K.jsx)(we.a,{item:!0,xs:12,sm:6,children:Object(K.jsxs)(Me.a,{fullWidth:!0,children:[Object(K.jsx)(ze.a,{id:"user-type-select-label",size:"small",children:"Type"}),Object(K.jsxs)(qe.a,{labelId:"user-type-select-label",id:"user-type-select",defaultValue:"",name:"type",label:"Type",children:[Object(K.jsx)(Ve.a,{value:"salesman",children:"Salesman"}),Object(K.jsx)(Ve.a,{value:"driver",children:"Driver"})]})]})})]}),Object(K.jsx)(Pe.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(K.jsx)(we.a,{container:!0,justifyContent:"flex-end",children:Object(K.jsx)(we.a,{item:!0,children:Object(K.jsx)(ve.a,{component:o.b,to:"/signin",variant:"body2",children:"Already have an account? Sign In"})})})]})]}),Object(K.jsx)(Fe,{sx:{mt:8,mb:4}})]})),Ee=a(776),Ue=a(777),Ke=a(778),Ye=a(779),Je=a(814),Ge=a(815),_e=a(331),Xe=a(755);const Ze=["component","auth","drawerHeight","handleDrawerToggle","title"];var $e=Object(m.b)(e=>({auth:e.auth}))(e=>{let{component:t,auth:a,drawerHeight:n,handleDrawerToggle:i,title:r}=e;Object(q.a)(e,Ze);return Object(K.jsx)(Je.a,{position:"static",sx:{backgroundColor:"#5664d2",flexBasis:"".concat(n,"px"),maxHeight:"".concat(n,"px")},children:Object(K.jsxs)(Ge.a,{variant:"dense",children:[Object(K.jsx)(_e.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:i,sx:{mr:2,display:{sm:"none"}},children:Object(K.jsx)(Xe.a,{})}),Object(K.jsx)(Q.a,{variant:"h6",noWrap:!0,component:"div",children:r})]})})}),et=a(811),tt=a(789),at=a(757),nt=a(758),it=a(816),rt=a(332),ct=a(782),ot=a(756),lt=a(759);const st=Object(ct.a)({root:{boxSizing:"border-box",paddingTop:"10px",width:e=>e.drawerWidth,backgroundColor:"#fff",borderRight:"1px solid rgba(0, 0, 0, 0.12)","& a":{textDecoration:"none"},overflow:"auto","&::-webkit-scrollbar":{width:8},"&::-webkit-scrollbar-thumb":{backgroundColor:"#6b778c",borderRadius:4}},navlink:{color:"#6b778c","&:hover":{},transition:"background-color ease .5s","& .MuiListItemIcon-root":{minWidth:"40px"},"& .MuiListItemIcon-root, & .MuiListItemText-root":{".active &":{color:"#5664d2"}}}});var dt=e=>{let{drawerWidth:t,handleLogout:a,lists:i}=e;const r=st({drawerWidth:t}),[c,l]=Object(n.useState)(-1),[s,d]=Object(n.useState)(-1);return Object(K.jsxs)(Se.a,{className:r.root,sx:{display:{xs:"none",sm:"block"}},children:[i.map((e,t)=>[Object(K.jsxs)(et.a,{children:[e.category?Object(K.jsx)(Q.a,{variant:"h6",sx:{pl:"10px"},children:e.category}):null,e.content.map((e,a)=>e.children?[Object(K.jsxs)(tt.a,{button:!0,className:r.navlink,onClick:()=>{s===a&&c===t?(d(-1),l(-1)):(d(a),l(t))},secondaryAction:Object(K.jsx)(ot.a,{sx:{transition:"transform ease .3s",transform:s===a&&c===t?"":"Rotate(-90deg)"}}),children:[Object(K.jsx)(at.a,{children:e.icon}),Object(K.jsx)(nt.a,{primary:e.label})]},"listitem-".concat(a)),Object(K.jsx)(it.a,{in:s===a&&c===t,children:Object(K.jsx)(et.a,{disablePadding:!0,children:e.children.map((e,t)=>Object(K.jsx)(o.c,{to:e.path,exact:!0,activeClassName:"active",children:Object(K.jsxs)(tt.a,{button:!0,className:r.navlink,children:[Object(K.jsx)(at.a,{children:null}),Object(K.jsx)(nt.a,{primary:e.label})]})},t))})},"listcollapse-".concat(a))]:Object(K.jsx)(o.c,Object(z.a)(Object(z.a)({activeClassName:"active"},e),{},{children:Object(K.jsxs)(tt.a,{button:!0,className:r.navlink,children:[Object(K.jsx)(at.a,{children:e.icon}),Object(K.jsx)(nt.a,{primary:e.label})]})}),"listitem-".concat(a)))]},"list-".concat(t)),Object(K.jsx)(rt.a,{},"listdivider-".concat(t))]),Object(K.jsx)(et.a,{children:Object(K.jsxs)(tt.a,{button:!0,className:r.navlink,onClick:a,children:[Object(K.jsx)(at.a,{children:Object(K.jsx)(lt.a,{})}),Object(K.jsx)(nt.a,{primary:"Logout"})]})})]})},ut=a(800);const pt=Object(ct.a)({root:{boxSizing:"border-box",paddingTop:"10px",width:e=>e.drawerWidth,backgroundColor:"#fff",borderRight:"1px solid rgba(0, 0, 0, 0.12)","& a":{textDecoration:"none"}},navlink:{color:"#6b778c","&:hover":{},transition:"background-color ease .5s","& .MuiListItemIcon-root":{minWidth:"40px"},"& .MuiListItemIcon-root, & .MuiListItemText-root":{".active &":{color:"#5664d2"}}}});var ht=e=>{let{drawerWidth:t,handleLogout:a,handleDrawerClose:i,lists:r,mobileOpen:c}=e;const l=pt({drawerWidth:t}),[s,d]=Object(n.useState)(-1),[u,p]=Object(n.useState)(-1);return Object(K.jsxs)(ut.a,{variant:"temporary",open:c,onClose:i,ModalProps:{keepMounted:!0},PaperProps:{className:l.root},sx:{display:{xs:"block",sm:"none"}},children:[r.map((e,t)=>[Object(K.jsxs)(et.a,{children:[e.category?Object(K.jsx)(Q.a,{variant:"h6",sx:{pl:"10px"},children:e.category}):null,e.content.map((e,a)=>e.children?[Object(K.jsxs)(tt.a,{button:!0,className:l.navlink,onClick:()=>{u===a&&s===t?(p(-1),d(-1)):(p(a),d(t))},secondaryAction:Object(K.jsx)(ot.a,{sx:{transition:"transform ease .3s",transform:u===a&&s===t?"":"Rotate(-90deg)"}}),children:[Object(K.jsx)(at.a,{children:e.icon}),Object(K.jsx)(nt.a,{primary:e.label})]},"listitem-".concat(a)),Object(K.jsx)(it.a,{in:u===a&&s===t,children:Object(K.jsx)(et.a,{disablePadding:!0,children:e.children.map((e,t)=>Object(K.jsx)(o.c,{to:e.path,exact:!0,activeClassName:"active",children:Object(K.jsxs)(tt.a,{button:!0,className:l.navlink,children:[Object(K.jsx)(at.a,{children:null}),Object(K.jsx)(nt.a,{primary:e.label})]})},t))})},"listcollapse-".concat(a))]:Object(K.jsx)(o.c,Object(z.a)(Object(z.a)({},e),{},{activeClassName:"active",children:Object(K.jsxs)(tt.a,{button:!0,className:l.navlink,children:[Object(K.jsx)(at.a,{children:e.icon}),Object(K.jsx)(nt.a,{primary:e.label})]})}),"listitem-".concat(a)))]},"list-".concat(t)),Object(K.jsx)(rt.a,{},"listdivider-".concat(t))]),Object(K.jsx)(et.a,{children:Object(K.jsxs)(tt.a,{button:!0,className:l.navlink,onClick:e=>{i(e),a(e)},children:[Object(K.jsx)(at.a,{children:Object(K.jsx)(lt.a,{})}),Object(K.jsx)(nt.a,{primary:"Logout"})]})})]})},bt=a(822),mt=a(823),jt=a(824),xt=a(765),Ot=a(825),gt=a(826),ft=a(762),yt=a(763),kt=a(69),vt=a(817),St=a(818),Ct=a(760),wt=a(801),Tt=a(220),Dt=a(819),At=a(820),Pt=a(821),Bt=a(790),It=a(764),Wt=a(350),Rt=a(810),Ht=a(802),Lt=a(761);const Nt=["id","label","nonSort","sx"],Mt=["id","label","nonSort","sx"];function zt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function qt(e,t){return"desc"===e?(e,a)=>zt(e,a,t):(e,a)=>-zt(e,a,t)}function Vt(e,t){const a=e.map((e,t)=>[e,t]);return a.sort((e,a)=>{const n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(e=>e[0])}function Ft(e){const{columns:t,onSelectAllClick:a,order:n,orderBy:i,numSelected:r,nonSelect:c,rowCount:o,onRequestSort:l}=e;return Object(K.jsx)(vt.a,{children:Object(K.jsxs)(St.a,{children:[!c&&Object(K.jsx)(Ct.a,{padding:"checkbox",children:Object(K.jsx)(Ae.a,{color:"primary",indeterminate:r>0&&r<o,checked:o>0&&r===o,onChange:a,inputProps:{"aria-label":"select all desserts"}})}),t.map(e=>{let{id:t,label:a,nonSort:r,sx:c}=e,o=Object(q.a)(e,Nt);return Object(K.jsx)(Ct.a,Object(z.a)(Object(z.a)({align:"left",sx:Object(z.a)({p:"3px 0 3px 5px"},c),sortDirection:i===t&&n},o),{},{children:r?a:Object(K.jsx)(wt.a,{active:i===t,direction:i===t?n:"asc",onClick:(s=t,e=>{l(e,s)}),IconComponent:Lt.a,children:a})}),t);var s})]})})}const Qt=e=>{const{title:t,numSelected:a,onBulkEditClick:n,onBulkRemoveClick:i}=e;return Object(K.jsxs)(Ge.a,{sx:Object(z.a)({pl:{sm:2},pr:{xs:1,sm:1}},a>0&&{bgcolor:e=>Object(kt.a)(e.palette.primary.main,e.palette.action.activatedOpacity)}),children:[a>0?Object(K.jsxs)(Q.a,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):Object(K.jsx)(Q.a,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:t}),a>0&&Object(K.jsxs)(K.Fragment,{children:[n&&Object(K.jsx)(Ht.a,{title:"Edit",children:Object(K.jsx)(_e.a,{onClick:n,children:Object(K.jsx)(ft.a,{})})}),i&&Object(K.jsx)(Ht.a,{title:"Delete",children:Object(K.jsx)(_e.a,{onClick:i,children:Object(K.jsx)(yt.a,{})})})]})]})},Et=Object(ct.a)(e=>({table:{["& .MuiTableCell-root.".concat(Tt.a.head)]:{backgroundColor:It.a[400],"&, & *":{color:It.a[50]},fontSize:16,fontWeight:600},["& .MuiTableCell-root.".concat(Tt.a.body)]:{fontSize:14},"& .MuiTableRow-root":{height:40,"&:nth-of-type(odd)":{backgroundColor:Wt.a[50]},"&:last-child td, &:last-child th":{border:0}}}}));var Ut=e=>{const{title:t,columns:a,nonSelect:i,onBulkEditClick:r,onBulkRemoveClick:c,rows:o}=e,l=Et(),[s,d]=Object(n.useState)("asc"),[u,p]=Object(n.useState)("index"),[h,b]=Object(n.useState)([]),[m,j]=Object(n.useState)(0),[x,O]=Object(n.useState)(10),[g,f]=Object(n.useState)(o.length),y=Object(n.useRef)();Object(n.useEffect)(()=>{y.current!==o.map(e=>e.id).join(",")&&(y.current=o.map(e=>e.id).join(","),b(h.filter(e=>o.map(e=>e.id).includes(e)))),o.length!==g&&(j(0),f(o.length))},[o,h]);const k=m>0?Math.max(0,(1+m)*x-o.length):0;return Object(K.jsx)(Se.a,{sx:{width:"100%"},children:Object(K.jsxs)(Rt.a,{sx:{width:"100%",mt:2},children:[Object(K.jsx)(Qt,{title:t,numSelected:h.length,onBulkEditClick:r?e=>{e.preventDefault(),r(h)}:null,onBulkRemoveClick:c?e=>{e.preventDefault(),c(h)}:null}),Object(K.jsx)(Dt.a,{children:Object(K.jsxs)(At.a,{className:l.table,sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",children:[Object(K.jsx)(Ft,{columns:a,numSelected:h.length,order:s,orderBy:u,onSelectAllClick:e=>{if(e.target.checked){const e=o.map(e=>e.id);return void b(e)}b([])},onRequestSort:(e,t)=>{d(u===t&&"asc"===s?"desc":"asc"),p(t)},nonSelect:i,rowCount:o.length}),Object(K.jsxs)(Pt.a,{children:[Vt(o,qt(s,u)).slice(m*x,m*x+x).map((e,t)=>{const n=(r=e.id,-1!==h.indexOf(r));var r;const c="enhanced-table-checkbox-".concat(t);return Object(K.jsxs)(St.a,{role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,style:1===e.bkColor?{backgroundColor:"#cccccc"}:{},children:[!i&&Object(K.jsx)(Ct.a,{padding:"checkbox",children:Object(K.jsx)(Ae.a,{onClick:t=>((e,t)=>{const a=h.indexOf(t);let n=[];-1===a?n=n.concat(h,t):0===a?n=n.concat(h.slice(1)):a===h.length-1?n=n.concat(h.slice(0,-1)):a>0&&(n=n.concat(h.slice(0,a),h.slice(a+1))),b(n)})(0,e.id),color:"primary",checked:n,inputProps:{"aria-labelledby":c}})}),a.map((t,a)=>{let{id:n,label:i,nonSort:r,sx:o}=t,l=Object(q.a)(t,Mt);return Object(K.jsx)(Ct.a,Object(z.a)(Object(z.a)({component:"th",id:0===a?c:"",scope:"row",sx:Object(z.a)({p:"3px 0 3px 5px"},o)},l),{},{children:"index"===n?e[n]+1:e[n]}),a)})]},t)}),k>0&&Object(K.jsx)(St.a,{style:{height:33*k},children:Object(K.jsx)(Ct.a,{colSpan:6})})]})]})}),Object(K.jsx)(Bt.a,{rowsPerPageOptions:[5,10,25],component:"div",count:o.length,rowsPerPage:x,page:m,onPageChange:(e,t)=>{j(t)},onRowsPerPageChange:e=>{O(parseInt(e.target.value,10)),j(0)}})]})})};const Kt=["isActive"],Yt=["width"],Jt=[{id:"email",label:"Email"},{id:"firstName",label:"First Name"},{id:"lastName",label:"Last Name"},{id:"type",label:"Type"},{id:"prefix",label:"Prefix"},{id:"isActive",label:"Active"},{nonSort:!0,id:"edit",sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}];var Gt=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const[t,a]=Object(n.useState)([]),[i,r]=Object(n.useState)(!1),[c,o]=Object(n.useState)(""),[l,s]=Object(n.useState)([]),[d,u]=Object(n.useState)(""),p=e=>{e<t.length&&e>=0&&(o(t[e].id),s([{name:"email",defaultValue:t[e].email,label:"Email",width:"100%"},{name:"firstName",defaultValue:t[e].firstName,label:"First Name",width:"100%"},{name:"lastName",defaultValue:t[e].lastName,label:"Last Name",width:"100%"},{name:"prefix",defaultValue:t[e].prefix,label:"Prefix",width:"100%"}]),u(t[e].type)),r(!0)},h=e=>{e<t.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current account permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep this account.",allowOutsideClick:!1}).then(a=>{a.isConfirmed&&M.a.delete("/user/".concat(t[e].id)).then(e=>{b()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},b=e=>{M.a.get("/user",{cancelToken:e}).then(e=>{a(e.data)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{let e=M.a.CancelToken.source();return b(e.token),()=>e.cancel("Users Component got unmounted")},[]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Ut,{title:"Users",rows:t.map((e,t)=>{let{isActive:a}=e,n=Object(q.a)(e,Kt);return Object(z.a)({index:t,isActive:Object(K.jsx)(Ae.a,{checked:a,onClick:e=>{e.stopPropagation(),e.preventDefault(),M.a.put("/user/".concat(n.id),{isActive:!a}).then(()=>{b()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}).then(function(){})}}),edit:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),p(t)},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),h(t)},children:Object(K.jsx)(yt.a,{})})},n)}),columns:Jt,onEditClick:p,onRemoveClick:h,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected ChairColors permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/user",{data:{ids:e}}).then(e=>{b()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})}}),Object(K.jsxs)(bt.a,{open:i,PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);new M.a.put("/user/".concat(c),{email:t.get("email"),firstName:t.get("firstName"),lastName:t.get("lastName"),type:d,prefix:t.get("prefix")}).then(e=>{r(!1),b()}).catch(function(e){r(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{r(!0)}),console.log(e)}).then(function(){})}},children:[Object(K.jsx)(mt.a,{children:"Edit User"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Ot.a,{children:"Please Edit the User information and Click Save button."}),l.map((e,t)=>{let{width:a}=e,n=Object(q.a)(e,Yt);return Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)}),Object(K.jsxs)(Me.a,{children:[Object(K.jsx)(ze.a,{id:"user-type-select-label",size:"small",children:"Type"}),Object(K.jsxs)(qe.a,{labelId:"user-type-select-label",id:"user-type-select",value:d,label:"Type",onChange:e=>{e.preventDefault(),u(e.target.value)},children:[Object(K.jsx)(Ve.a,{value:"admin",children:"Admin"}),Object(K.jsx)(Ve.a,{value:"salesman",children:"Salesman"}),Object(K.jsx)(Ve.a,{value:"driver",children:"Driver"})]})]})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:()=>{r(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"Save"})]})]})]})}),_t=a(783),Xt=a(766),Zt=a(768),$t=a(31),ea=a(767);const ta=Object(ct.a)(e=>({formControl:{marginTop:30,marginRight:20,width:"40%",float:"right"},indeterminateColor:{color:"#f50057"},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}})),aa={PaperProps:{style:{maxHeight:217,width:250}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},variant:"menu"};var na=function(e){const{options:t,onChange:a,selected:n}=e,i=ta(),r=t.length>0&&n.length===t.length;return Object(K.jsxs)(Me.a,{className:i.formControl,variant:"outlined",children:[Object(K.jsx)(ze.a,{htmlFor:"mutiple-select-label",children:"Select columns"}),Object(K.jsxs)(qe.a,{multiple:!0,value:n,onChange:e=>{const i=e.target.value;"all"!==i[i.length-1]?a(i):a(n.length===t.length?[]:t)},renderValue:e=>e.join(", "),MenuProps:aa,label:"Select columns",size:"normal",children:[Object(K.jsxs)(Ve.a,{value:"all",classes:{root:r?i.selectedAll:""},children:[Object(K.jsx)(at.a,{children:Object(K.jsx)(Ae.a,{classes:{indeterminate:i.indeterminateColor},checked:r,indeterminate:n.length>0&&n.length<t.length})}),Object(K.jsx)(nt.a,{classes:{primary:i.selectAllText},primary:"Select All"})]}),t.map(e=>Object(K.jsxs)(Ve.a,{value:e,children:[Object(K.jsx)(at.a,{children:Object(K.jsx)(Ae.a,{checked:n.indexOf(e)>-1})}),Object(K.jsx)(nt.a,{primary:e})]},e))]})]})};const ia=["label"],ra=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],ca=["type","width"],oa=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}],la=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"];var sa=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)("create"),[r,c]=Object(n.useState)([]),[o,l]=Object(n.useState)(!1),[s,d]=Object(n.useState)([]),[u,p]=Object(n.useState)(""),[h,b]=Object(n.useState)(0),[m,j]=Object(n.useState)(1e3),[x,O]=Object(n.useState)(0),[g,f]=Object(n.useState)([]),[y,k]=Object(n.useState)(null),[v,S]=Object(n.useState)(null),[C,w]=Object(n.useState)([]),T=e=>{e<r.length&&e>=0&&(p(r[e].id),d([{name:"brand",label:"Brand",type:"text",defaultValue:r[e].brand,width:"48%"},{name:"model",label:"Model",type:"text",defaultValue:r[e].model,width:"48%"},{name:"frameColor",label:"Frame Color",type:"text",defaultValue:r[e].frameColor,width:"30%"},{name:"backColor",label:"Back Color",type:"text",defaultValue:r[e].backColor,width:"30%"},{name:"seatColor",label:"Seat Color",type:"text",defaultValue:r[e].seatColor,width:"30%"},{name:"backMaterial",label:"Back Material",type:"text",defaultValue:r[e].backMaterial,width:"48%"},{name:"seatMaterial",label:"Seat Material",type:"text",defaultValue:r[e].seatMaterial,width:"48%"},{name:"remark",label:"Other Remark",multiline:!0,type:"text",defaultValue:r[e].remark,width:"100%"},{name:"withHeadrest",label:"Headrest",type:"checkbox",defaultValue:r[e].withHeadrest,width:"48%"},{name:"withAdArmrest",label:"Adjustable Armrest",type:"checkbox",defaultValue:r[e].withAdArmrest,width:"48%"},{name:"shipmentDate",label:"Shipment Date",type:"date",defaultValue:r[e].shipmentDate,width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",defaultValue:r[e].arrivalDate,width:"48%"}]),b(r[e].balance),j(r[e].unitPrice),O(r[e].qty-r[e].balance)),i("edit"),l(!0)},D=e=>{e<r.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current ChairStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/chairStock/".concat(r[e].id)).then(e=>{A()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},A=e=>{M.a.get("/chairStock",{cancelToken:e}).then(e=>{c(e.data)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/chairStock/features",{cancelToken:t}).then(e=>{f(e.data)}).catch(function(e){console.log(e)}).then(function(){}),A(e.token),()=>e.cancel("Stock Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{startIcon:Object(K.jsx)(Xt.a,{}),onClick:()=>{d([{name:"brand",label:"Brand",type:"text",width:"48%"},{name:"model",label:"Model",type:"text",width:"48%"},{name:"frameColor",label:"Frame Color",type:"text",width:"30%"},{name:"backColor",label:"Back Color",type:"text",width:"30%"},{name:"seatColor",label:"Seat Color",type:"text",width:"30%"},{name:"backMaterial",label:"Back Material",type:"text",width:"48%"},{name:"seatMaterial",label:"Seat Material",type:"text",width:"48%"},{name:"remark",label:"Other Remark",type:"text",width:"100%"},{name:"withHeadrest",label:"Headrest",type:"checkbox",width:"48%"},{name:"withAdArmrest",label:"Adjustable Armrest",type:"checkbox",width:"48%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),b(0),j(1e3),O(0),i("create"),l(!0)},children:"New Stock"}),Object(K.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(K.jsx)("input",{accept:".xlsx",id:"contained-button-file",type:"file",style:{display:"none"},onChange:async e=>{e.preventDefault();try{if(e.target.files.length>0){const t=new FormData;t.append("file",e.target.files[0]),await M.a.post("/chairStock/uploadCreate",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),A()}}catch(t){console.log(t)}finally{e.target.value=null}}}),Object(K.jsx)(Pe.a,{component:"span",sx:{ml:2},children:"Bulk Upload"})]}),Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:y,onChange:(e,t)=>{e.preventDefault(),k(t),S(null)},options:g.map(e=>e.brand).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:v,onChange:(e,t)=>{e.preventDefault(),S(t)},options:g.filter(e=>!y||e.brand===y).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,ia);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:la,onChange:e=>{w(e)},selected:C}),Object(K.jsx)(Ut,{title:"Chair Stocks",rows:r.map((e,t)=>{let{withHeadrest:a,withAdArmrest:n,thumbnailURL:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,ra);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",edit:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),T(t)},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),D(t)},children:Object(K.jsx)(yt.a,{})}),shipmentDate:r||"No",arrivalDate:c||"No"},o)}).filter(e=>(!y||e.brand===y)&&(!v||e.model===v)),columns:oa.map((e,t)=>t>5&&t<16?C.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e),onEditClick:T,onRemoveClick:D,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected ChairStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/chairStock",{data:{ids:e}}).then(e=>{A()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:o,PaperProps:{component:"form",onSubmit:"create"===a?async e=>{e.preventDefault();const t=new FormData(e.currentTarget);let a="";if(t.get("thumbnail").name){const e=new FormData;e.append("file",t.get("thumbnail"));try{a=(await M.a.post("/chairStock/upload",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(n){}}M.a.post("/chairStock/create",{brand:t.get("brand"),model:t.get("model"),frameColor:t.get("frameColor"),backColor:t.get("backColor"),seatColor:t.get("seatColor"),backMaterial:t.get("backMaterial"),seatMaterial:t.get("seatMaterial"),withHeadrest:Boolean(t.get("withHeadrest")),withAdArmrest:Boolean(t.get("withAdArmrest")),remark:t.get("remark"),thumbnailURL:a,unitPrice:t.get("unitPrice"),shipmentDate:t.get("shipmentDate")||null,arrivalDate:t.get("arrivalDate")||null,balance:h,qty:Number(h)+Number(x)}).then(e=>{l(!1),A()}).catch(function(e){l(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{l(!0)}),console.log(e)}).then(function(){})}:async e=>{e.preventDefault();const t=new FormData(e.currentTarget);let a="";if(t.get("thumbnail").name){const e=new FormData;e.append("file",t.get("thumbnail"));try{a=(await M.a.post("/chairStock/upload",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(n){}}M.a.put("/chairStock/".concat(u),{brand:t.get("brand"),model:t.get("model"),frameColor:t.get("frameColor"),backColor:t.get("backColor"),seatColor:t.get("seatColor"),backMaterial:t.get("backMaterial"),seatMaterial:t.get("seatMaterial"),withHeadrest:Boolean(t.get("withHeadrest")),withAdArmrest:Boolean(t.get("withAdArmrest")),remark:t.get("remark"),thumbnailURL:a,unitPrice:t.get("unitPrice"),shipmentDate:t.get("shipmentDate")||null,arrivalDate:t.get("arrivalDate")||null,balance:h,qty:Number(h)+Number(x)}).then(e=>{l(!1),A()}).catch(function(e){l(!1),Re.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then(()=>{l(!0)}),console.log(e)}).then(function(){})}},children:[Object(K.jsx)(mt.a,{children:"create"===a?"New Stock":"Edit Stock"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(Rt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[s.map((e,t)=>{let{type:a,width:n}=e,i=Object(q.a)(e,ca);if("text"===a)return Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t);if("date"===a)return Object(K.jsx)(Te.a,Object(z.a)({type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:n,minWidth:n}},i),t);if("checkbox"===a){const{defaultValue:e,label:a,name:n}=i;return Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:n,defaultChecked:e}),label:a},t)}return null}),Object(K.jsx)(Te.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(K.jsx)(De.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(K.jsx)(Te.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:m,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(K.jsxs)(Se.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(K.jsx)(_e.a,{onClick:()=>{b(h>1?h-1:0)},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Te.a,{label:"Balance",value:h,type:"number",sx:{width:"80px",mx:"5px"},onChange:e=>{e.target.value>0?b(e.target.value):b(0),j(1e3)}}),Object(K.jsx)(_e.a,{onClick:()=>{b(h+1)},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsxs)(Se.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(K.jsx)(_e.a,{onClick:()=>{O(Math.max(x-1,0))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Te.a,{label:"Shipment",value:x,type:"number",sx:{width:"80px",mx:"5px"},onChange:e=>{O(Math.max(e.target.value,0))}}),Object(K.jsx)(_e.a,{onClick:()=>{O(x+1)},children:Object(K.jsx)(Xt.a,{})})]})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:()=>{l(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"create"===a?"Create":"Save"})]})]})]})});const da=["label"],ua=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],pa=["type","width"],ha=["name","label"],ba=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}],ma=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"];var ja=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)("create"),[o,l]=Object(n.useState)(!1),[s,d]=Object(n.useState)([]),[u,p]=Object(n.useState)(""),[h,b]=Object(n.useState)(0),[m,j]=Object(n.useState)(1e3),[x,O]=Object(n.useState)(0),[g,f]=Object(n.useState)([]),[y,k]=Object(n.useState)(null),[v,S]=Object(n.useState)(null),[C,w]=Object(n.useState)(null),[T,D]=Object(n.useState)([]),A=e=>{e<a.length&&e>=0&&(p(a[e].id),d([{name:"supplierCode",label:"Supplier",type:"autocomplete",defaultValue:a[e].supplierCode,options:["AK","JC","AW","LK"],width:"30%"},{name:"model",label:"Model",type:"text",defaultValue:a[e].model,width:"30%"},{name:"color",label:"Color",type:"text",defaultValue:a[e].color,width:"30%"},{name:"armSize",label:"Arm Size",type:"autocomplete",defaultValue:a[e].armSize,options:["400","500","600"],width:"30%"},{name:"feetSize",label:"FeetSize",type:"autocomplete",defaultValue:a[e].feetSize,options:["400","500","600","700"],width:"30%"},{name:"beamSize",label:"BeamSize",type:"autocomplete",defaultValue:a[e].beamSize,options:["740-1100","Regular"],width:"30%"},{name:"remark",label:"Other Remark",multiline:!0,type:"text",defaultValue:a[e].remark,width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),b(a[e].balance),j(a[e].unitPrice),O(a[e].qty)),c("edit"),l(!0)},P=e=>{e<a.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current DeskStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/deskStock/".concat(a[e].id)).then(e=>{B()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},B=e=>{M.a.get("/deskStock",{cancelToken:e}).then(e=>{i(e.data)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/deskStock/features",{cancelToken:t}).then(e=>{f(e.data)}).catch(function(e){console.log(e)}).then(function(){}),B(e.token),()=>e.cancel("Stock Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{startIcon:Object(K.jsx)(Xt.a,{}),onClick:()=>{d([{name:"supplierCode",label:"Supplier",type:"autocomplete",options:["AK","JC","AW","LK"],width:"30%"},{name:"model",label:"Model",type:"text",width:"30%"},{name:"color",label:"Color",type:"text",width:"30%"},{name:"armSize",label:"Arm Size",type:"autocomplete",options:["400","500","600"],width:"30%"},{name:"feetSize",label:"FeetSize",type:"autocomplete",options:["400","500","600","700"],width:"30%"},{name:"beamSize",label:"BeamSize",type:"autocomplete",options:["740-1100","Regular"],width:"30%"},{name:"remark",label:"Other Remark",type:"text",width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),b(0),j(1e3),O(0),c("create"),l(!0)},children:"New Stock"}),Object(K.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(K.jsx)("input",{accept:".xlsx",id:"contained-button-file",type:"file",style:{display:"none"},onChange:async e=>{e.preventDefault();try{if(e.target.files.length>0){const t=new FormData;t.append("file",e.target.files[0]),await M.a.post("/chairStock/uploadCreate",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),B()}}catch(t){console.log(t)}finally{e.target.value=null}}}),Object(K.jsx)(Pe.a,{component:"span",sx:{ml:2},children:"Bulk Upload"})]}),Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:y,onChange:(e,t)=>{e.preventDefault(),k(t),S(null),w(null)},options:g.map(e=>e.supplierCode).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:v,onChange:(e,t)=>{e.preventDefault(),S(t),w(null)},options:g.filter(e=>!y||e.supplierCode===y).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Color",value:C,onChange:(e,t)=>{e.preventDefault(),w(t)},options:g.filter(e=>(!y||e.supplierCode===y)&&(!v||e.model===v)).map(e=>e.color).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,da);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:ma,onChange:e=>{D(e)},selected:T}),Object(K.jsx)(Ut,{title:"Desk Leg Stocks",rows:a.map((e,t)=>{let{withHeadrest:a,withAdArmrest:n,thumbnailURL:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,ua);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",edit:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),A(t)},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),P(t)},children:Object(K.jsx)(yt.a,{})}),shipmentDate:r||"No",arrivalDate:c||"No"},o)}).filter(e=>(!y||e.supplierCode===y)&&(!v||e.model===v)&&(!C||e.color===C)),columns:ba.map((e,t)=>t>5&&t<13?T.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e),onEditClick:A,onRemoveClick:P,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected DeskStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/deskStock",{data:{ids:e}}).then(e=>{B()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:o,PaperProps:{component:"form",onSubmit:"create"===r?async e=>{e.preventDefault();const t=new FormData(e.currentTarget);let a="";if(t.get("thumbnail").name){const e=new FormData;e.append("file",t.get("thumbnail"));try{a=(await M.a.post("/chairStock/upload",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(n){}}M.a.post("/deskStock/create",{supplierCode:t.get("supplierCode"),model:t.get("model"),color:t.get("color"),armSize:t.get("armSize"),feetSize:t.get("feetSize"),beamSize:t.get("beamSize"),remark:t.get("remark"),thumbnailURL:a,unitPrice:t.get("unitPrice"),shipmentDate:t.get("shipmentDate")||null,arrivalDate:t.get("arrivalDate")||null,balance:h,qty:Number(h)+Number(x)}).then(e=>{l(!1),B()}).catch(function(e){l(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{l(!0)}),console.log(e)}).then(function(){})}:async e=>{e.preventDefault();const t=new FormData(e.currentTarget);let a="";if(t.get("thumbnail").name){const e=new FormData;e.append("file",t.get("thumbnail"));try{a=(await M.a.post("/chairStock/upload",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(n){}}M.a.put("/deskStock/".concat(u),{supplierCode:t.get("supplierCode"),model:t.get("model"),color:t.get("color"),armSize:t.get("armSize"),feetSize:t.get("feetSize"),beamSize:t.get("beamSize"),remark:t.get("remark"),thumbnailURL:a,unitPrice:t.get("unitPrice"),shipmentDate:t.get("shipmentDate")||null,arrivalDate:t.get("arrivalDate")||null,balance:h,qty:Number(h)+Number(x)}).then(e=>{l(!1),B()}).catch(function(e){l(!1),Re.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then(()=>{l(!0)}),console.log(e)}).then(function(){})}},children:[Object(K.jsx)(mt.a,{children:"create"===r?"New Stock":"Edit Stock"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(Rt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[s.map((e,t)=>{let{type:a,width:n}=e,i=Object(q.a)(e,pa);if("text"===a)return Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t);if("date"===a)return Object(K.jsx)(Te.a,Object(z.a)({type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:n,minWidth:n}},i),t);if("checkbox"===a){const{defaultValue:e,label:a,name:r}=i;return Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:r,defaultChecked:e}),label:a,sx:{flexBasis:n,minWidth:n}},t)}if("autocomplete"===a){const{name:e,label:a}=i,r=Object(q.a)(i,ha);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:t=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},t),{},{name:e,label:a}))},r),t)}return null}),Object(K.jsx)(Te.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(K.jsx)(De.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(K.jsx)(Te.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:m,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(K.jsxs)(Se.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(K.jsx)(_e.a,{onClick:()=>{b(h>1?h-1:0)},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Te.a,{label:"Balance",value:h,type:"number",sx:{width:"80px",mx:"5px"},onChange:e=>{e.target.value>0?b(e.target.value):b(0),j(1e3)}}),Object(K.jsx)(_e.a,{onClick:()=>{b(h+1)},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsxs)(Se.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(K.jsx)(_e.a,{onClick:()=>{O(Math.max(x-1,0))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Te.a,{label:"Shipment",value:x,type:"number",sx:{width:"80px",mx:"5px"},onChange:e=>{O(Math.max(e.target.value,0))}}),Object(K.jsx)(_e.a,{onClick:()=>{O(x+1)},children:Object(K.jsx)(Xt.a,{})})]})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:()=>{l(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"create"===r?"Create":"Save"})]})]})]})});const xa=["thumbnailURL","shipmentDate","arrivalDate"],Oa=["type","width"],ga=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"},{id:"edit",nonSort:!0},{id:"delete",nonSort:!0}];var fa=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)("create"),[r,c]=Object(n.useState)([]),[o,l]=Object(n.useState)([]),[s,d]=Object(n.useState)(!1),[u,p]=Object(n.useState)([]),[h,b]=Object(n.useState)(""),[m,j]=Object(n.useState)(0),[x,O]=Object(n.useState)(1e3),[g,f]=Object(n.useState)(0),[y,k]=Object(n.useState)("All"),v=e=>{e<r.length&&e>=0&&(b(r[e].id),p([{name:"name",label:"Name",type:"text",defaultValue:r[e].name,width:"48%"},{name:"category",label:"Category",type:"select",defaultValue:r[e].category,width:"48%"},{name:"remark",label:"Other Remark",multiline:!0,type:"text",defaultValue:r[e].remark,width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",defaultValue:r[e].shipmentDate,width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",defaultValue:r[e].arrivalDate,width:"48%"}]),j(r[e].balance),O(r[e].unitPrice),f(r[e].qty-r[e].balance)),i("edit"),d(!0)},S=e=>{e<r.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current AccessoryStock permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/accessoryStock/".concat(r[e].id)).then(e=>{C()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},C=e=>{M.a.get("/accessoryStock",{cancelToken:e}).then(e=>{c(e.data),l(e.data)}).catch(function(e){console.log(e)}).then(function(){})};Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/accessoryStock/features",{cancelToken:t}).then(e=>{console.log("Feature commented")}).catch(function(e){console.log(e)}).then(function(){}),C(e.token),()=>e.cancel("Stock Component got unmounted")},[]);return Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{startIcon:Object(K.jsx)(Xt.a,{}),onClick:()=>{p([{name:"name",label:"Name",type:"text",width:"48%"},{name:"category",label:"Category",type:"select",width:"48%"},{name:"remark",label:"Remark",type:"text",width:"100%"},{name:"shipmentDate",label:"Shipment Date",type:"date",width:"48%"},{name:"arrivalDate",label:"Arrival Date",type:"date",width:"48%"}]),j(0),O(1e3),f(0),i("create"),d(!0)},children:"New Stock"}),Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(K.jsx)(ze.a,{id:"category_filter",children:"Category"}),Object(K.jsxs)(qe.a,{labelId:"category_filter",label:"Category",value:y,onChange:e=>{var t=e.target.value;k(t),c("All"===t?o:o.filter(e=>e.category===t))},children:[Object(K.jsx)(Ve.a,{value:"All",children:"All"}),Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(K.jsx)(Ut,{title:"Accessory Stocks",rows:r.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,xa);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),edit:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),v(t)},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),S(t)},children:Object(K.jsx)(yt.a,{})}),shipmentDate:n||"No",arrivalDate:i||"No"},r)}),columns:ga,onEditClick:v,onRemoveClick:S,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected AccessoryStocks permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/accessoryStock",{data:{ids:e}}).then(e=>{C()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:s,PaperProps:{component:"form",onSubmit:"create"===a?async e=>{e.preventDefault();const t=new FormData(e.currentTarget);let a="";if(t.get("thumbnail").name){const e=new FormData;e.append("file",t.get("thumbnail"));try{a=(await M.a.post("/accessoryStock/upload",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(n){}}M.a.post("/accessoryStock/create",{name:t.get("name"),category:t.get("category"),remark:t.get("remark"),thumbnailURL:a,unitPrice:t.get("unitPrice"),shipmentDate:t.get("shipmentDate")||null,arrivalDate:t.get("arrivalDate")||null,balance:m,qty:Number(m)+Number(g)}).then(e=>{d(!1),C()}).catch(function(e){d(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{d(!0)}),console.log(e)}).then(function(){})}:async e=>{e.preventDefault();const t=new FormData(e.currentTarget);let a="";if(t.get("thumbnail").name){const e=new FormData;e.append("file",t.get("thumbnail"));try{a=(await M.a.post("/accessoryStock/upload",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(n){}}M.a.put("/accessoryStock/".concat(h),{name:t.get("name"),category:t.get("category"),remark:t.get("remark"),thumbnailURL:a,unitPrice:t.get("unitPrice"),shipmentDate:t.get("shipmentDate")||null,arrivalDate:t.get("arrivalDate")||null,balance:m,qty:Number(m)+Number(g)}).then(e=>{d(!1),C()}).catch(function(e){d(!1),Re.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then(()=>{d(!0)}),console.log(e)}).then(function(){})}},children:[Object(K.jsx)(mt.a,{children:"create"===a?"New Stock":"Edit Stock"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(Rt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[u.map((e,t)=>{let{type:a,width:n}=e,i=Object(q.a)(e,Oa);if("text"===a)return Object(K.jsx)(Te.a,Object(z.a)({size:"small",sx:{flexBasis:n,minWidth:n}},i),t);if("date"===a)return Object(K.jsx)(Te.a,Object(z.a)({size:"small",type:"date",InputLabelProps:{shrink:!0},sx:{flexBasis:n,minWidth:n}},i),t);if("checkbox"===a){const{defaultValue:e,label:a,name:n}=i;return Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:n,defaultChecked:e}),label:a},t)}return"select"===a?Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"category_select",children:"Category"}),Object(K.jsxs)(qe.a,Object(z.a)(Object(z.a)({labelId:"category_select"},i),{},{children:[Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]}))]},t):null}),Object(K.jsx)(Te.a,{label:"Thumbnail",name:"thumbnail",type:"file",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0}}),Object(K.jsx)(De.a,{sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"],alignItems:"baseline",m:0},control:Object(K.jsx)(Te.a,{label:"Unit Price",type:"number",name:"unitPrice",defaultValue:x,fullWidth:!0,sx:{m:"10px 5px 0 0"}}),label:"HKD"}),Object(K.jsxs)(Se.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(K.jsx)(_e.a,{onClick:()=>{j(m>1?m-1:0)},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Te.a,{label:"Balance",value:m,type:"number",sx:{width:"80px",mx:"5px"},onChange:e=>{e.target.value>0?j(e.target.value):j(0),O(1e3)}}),Object(K.jsx)(_e.a,{onClick:()=>{j(m+1)},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsxs)(Se.a,{display:"flex",justifyContent:"center",alignItems:"center",sx:{flexBasis:["100%","48%"],minWidth:["100%","48%"]},children:[Object(K.jsx)(_e.a,{onClick:()=>{f(Math.max(g-1,0))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Te.a,{label:"Shipment",value:g,type:"number",sx:{width:"80px",mx:"5px"},onChange:e=>{f(Math.max(e.target.value,0))}}),Object(K.jsx)(_e.a,{onClick:()=>{f(g+1)},children:Object(K.jsx)(Xt.a,{})})]})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:()=>{d(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"create"===a?"Create":"Save"})]})]})]})}),ya=a(90),ka=a.n(ya),va=a(793),Sa=a(770),Ca=a(771),wa=a(772),Ta=a(773),Da=a(43),Aa=a.n(Da),Pa=a(91),Ba=a.n(Pa),Ia=a(7),Wa=a(769);const Ra=Object(Ia.a)(et.a)(e=>{let{theme:t}=e;return{backgroundColor:It.a[600],padding:"10px"}}),Ha=Object(Ia.a)(tt.a)(e=>{let{theme:t}=e;return{backgroundColor:It.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}}),La=Object(Ia.a)(nt.a)(e=>{let{theme:t}=e;return{color:Wa.a[900]}}),Na=e=>{let{unitPrice:t,amount:a,deliveryOption:n}=e;return Object(K.jsx)(Se.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[t,a,n].map((e,t)=>Object(K.jsx)(Q.a,{variant:"span",sx:{color:"white",width:2===t?150:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:Wa.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t))})},Ma=["id","invoiceNum","district","street","block","floor","unit","Seller","isPreOrder","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks","isSentToShipment"],za=[{id:"invoiceNum",label:"Invoice"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"orderDate",label:"Order"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"isPreOrder",label:"PreOrder"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"receiptIcon",nonSort:!0,label:"Receipt",sx:{maxWidth:75,width:45}},{id:"emailIcon",nonSort:!0,label:"Email",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"Phone",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],qa=["Address","TimeLine","PreOrder","Remark","Discount","SurCharge","Products","Paid","Receipt","Email","Phone"];var Va=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)([]),[l,s]=Object(n.useState)(""),[d,u]=Object(n.useState)(""),[p,h]=Object(n.useState)(""),[b,m]=Object(n.useState)(!1),[j,x]=Object(n.useState)(!1),[O,g]=Object(n.useState)(!1),f=Object(n.useRef)(null),y=Object(n.useRef)(null),[k,v]=Object(n.useState)(null),[S,C]=Object(n.useState)(0),[w,T]=Object(n.useState)(""),[D,A]=Object(n.useState)([]),[P,B]=Object(n.useState)(""),[I,W]=Object(n.useState)(""),R=Object(n.useRef)([]),H=Object(n.useRef)([]),L=Object(n.useRef)([]),N=e=>{e<a.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current Order permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/sales/".concat(a[e].id)).then(e=>{V()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},V=e=>{M.a.get("/sales",{cancelToken:e}).then(e=>{let t=[];e.data.map(e=>{let a=e;return a.isSentToShipment=!1,0!==a.AccessoryToOrders.length&&null!=a.AccessoryToOrders[0].shipmentId&&(a.isSentToShipment=!0),0!==a.ChairToOrders.length&&null!=a.ChairToOrders[0].shipmentId&&(a.isSentToShipment=!0),0!==a.DeskToOrders.length&&null!=a.DeskToOrders[0].shipmentId&&(a.isSentToShipment=!0),t.push(a),e}),i(t),c(t)}).catch(function(e){console.log(e)}).then(function(){})},F=e=>{if("Enter"===e.key){const e=r.filter(e=>e.invoiceNum.toLowerCase().includes(P.toLowerCase())).filter(e=>e.phone.includes(I));i(e)}};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return V(e.token),()=>e.cancel("Brand Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{component:o.b,to:"/admin/sales/create",startIcon:Object(K.jsx)(Xt.a,{}),children:"New Order"}),Object(K.jsxs)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(K.jsx)(Te.a,{label:"Invoice Number",variant:"outlined",onKeyPress:F,value:P,onChange:e=>B(e.target.value)}),Object(K.jsx)(Te.a,{label:"Phone Number",variant:"outlined",onKeyPress:F,value:I,onChange:e=>W(e.target.value)})]}),Object(K.jsx)(na,{options:qa,onChange:e=>{A(e)},selected:D}),Object(K.jsx)(Ut,{title:"Sales Order",rows:a.map((e,t)=>{let{id:n,invoiceNum:i,district:r,street:c,block:l,floor:d,unit:p,Seller:b,isPreOrder:j,discount:O,discountType:f,surcharge:y,surchargeType:k,createdAt:v,timeLine:S,paid:w,ChairStocks:T,DeskStocks:D,AccessoryStocks:A,isSentToShipment:P}=e,B=Object(q.a)(e,Ma);return Object(z.a)({id:n,index:t,seller:(b.firstName||"").concat(" ",b.lastName||""),timeLine:S%7!==0?"".concat(S," day").concat(1===S?"":"s"):"".concat(S/7," week").concat(S/7===1?"":"s"),orderDate:(()=>{const e=new Date(v);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),discount:"".concat(O).concat(f?" HKD":"%"),surcharge:"".concat(y).concat(k?" HKD":"%"),clientAddress:[r,c,l,d,p].join(", "),isPreOrder:(!a[t].ChairStocks.length||!a[t].ChairStocks.reduce((e,t)=>t.ChairToOrder.preOrder*e))*(!a[t].DeskStocks.length||!a[t].DeskStocks.reduce((e,t)=>t.DeskToOrder.preOrder*e))?"No":"Yes",products:Object(K.jsx)(_e.a,{sx:{my:"5px"},onClick:e=>{e.preventDefault(),R.current=[],H.current=[],L.current=[],C(t),g(!0)},children:Object(K.jsx)(va.a,{badgeContent:T.length+D.length+A.length,color:"error",children:Object(K.jsx)(Sa.a,{})})}),paid:Object(K.jsx)(Ae.a,{checked:w,onClick:e=>{e.stopPropagation(),e.preventDefault(),M.a.put("/sales/withoutStock/".concat(n),{paid:!w}).then(()=>{V()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}).then(function(){})}}),invoiceNum:Object(K.jsx)(o.b,{to:"/invoice/".concat(n),target:"_blank",children:i}),receiptIcon:w&&Object(K.jsx)(_e.a,{component:o.b,to:"/receipt/".concat(n),target:"_blank",children:Object(K.jsx)(Ca.a,{})}),emailIcon:Object(K.jsx)(_e.a,{onClick:()=>{s(B.name),u(B.email),x(!0)},children:Object(K.jsx)(wa.a,{})}),whatsappIcon:Object(K.jsx)(_e.a,{onClick:()=>{M.a.get("whatsapp/checkauth").then(()=>{s(B.name),h(B.phone),m(!0)}).catch(function(e){M.a.get("whatsapp/getqr").then(e=>{Re.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:ka.a.renderToStaticMarkup(Object(K.jsx)(Ba.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})}).then(function(){})}).then(function(){})},children:Object(K.jsx)(Ta.a,{})}),edit:Object(K.jsx)(_e.a,{component:o.b,to:{pathname:"/admin/sales/edit",state:{order:a[t]}},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),N(t)},children:Object(K.jsx)(yt.a,{})})},B)}),columns:za.map((e,t)=>t>3&&t<15?D.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e),onRemoveClick:N,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected Orders permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/sales",{data:{ids:e}}).then(e=>{V()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},onFilterClick:e=>{e.preventDefault(),v(null===k?e.currentTarget:null)}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:b,children:[Object(K.jsx)(mt.a,{children:"Send WhatsApp Message to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Aa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:p,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:f,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(l,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),m(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("whatsapp/send",{phone:p,message:f.current.value}).then(()=>{m(!1)}).catch(function(e){m(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{m(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:j,children:[Object(K.jsx)(mt.a,{children:"Send Email to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Te.a,{label:"Email",type:"email",value:d,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:y,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(l,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10}),Object(K.jsx)(Te.a,{label:"Link",type:"text",value:w,onChange:e=>T(e.target.value)})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),x(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("email/send",{email:d,message:y.current.value,link:w}).then(()=>{x(!1)}).catch(function(e){x(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{x(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),open:O,children:[Object(K.jsx)(mt.a,{children:"Products Details"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(Ra,{children:[S<a.length&&a[S].ChairStocks.map((e,t)=>Object(K.jsxs)(Ha,{children:[Object(K.jsx)(La,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(K.jsx)(Na,{unitPrice:"".concat(e.ChairToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToOrder.qty),deliveryOption:"".concat(e.ChairToOrder.deliveryOption)}),Object(K.jsx)(Pe.a,{variant:"contained",sx:{mt:"5px"},component:o.b,target:"_blank",to:"/deliveryPDF/chair/".concat(e.ChairToOrder.id),children:"Delivery Note"}),a[S].paid&&Object(K.jsxs)(Rt.a,{ref:e=>R.current.push(e),component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(K.jsx)("input",{name:"id",type:"hidden",value:e.ChairToOrder.id}),Object(K.jsx)(Te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.ChairToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.ChairToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"from",type:"time",label:"From",defaultValue:e.ChairToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"to",type:"time",label:"To",defaultValue:e.ChairToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"delivered",defaultChecked:e.ChairToOrder.delivered}),label:"Delivered"},t)]})]},t)),S<a.length&&a[S].DeskToOrders.map((e,t)=>Object(K.jsxs)(Ha,{children:[Object(K.jsx)(La,{primary:"Desk:\n                      ".concat(a[S].DeskStocks.find(t=>t.id===e.stockId).supplierCode,",\n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).model,",\n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).color,",\n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).armSize,",\n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).feetSize,",\n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).beamSize),secondary:e.hasDeskTop?Object(K.jsxs)("span",{children:["".concat(e.topMaterial,",\n                            ").concat(e.topColor,",\n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,",\n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,",\n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(K.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(K.jsx)(Na,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)}),Object(K.jsx)(Pe.a,{variant:"contained",sx:{mt:"5px"},component:o.b,target:"_blank",to:"/deliveryPDF/desk/".concat(e.id),children:"Delivery Note"}),a[S].paid&&Object(K.jsxs)(Rt.a,{ref:e=>H.current.push(e),component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(K.jsx)("input",{name:"id",type:"hidden",value:e.id}),Object(K.jsx)(Te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"from",type:"time",label:"From",defaultValue:e.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"to",type:"time",label:"To",defaultValue:e.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"delivered",defaultChecked:e.delivered}),label:"Delivered"},t)]})]},t)),S<a.length&&a[S].AccessoryStocks.map((e,t)=>Object(K.jsxs)(Ha,{children:[Object(K.jsx)(La,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(K.jsx)(Na,{unitPrice:"".concat(e.AccessoryToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToOrder.qty),deliveryOption:"".concat(e.AccessoryToOrder.deliveryOption)}),Object(K.jsx)(Pe.a,{variant:"contained",sx:{mt:"5px"},component:o.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(e.AccessoryToOrder.id),children:"Delivery Note"}),a[S].paid&&Object(K.jsxs)(Rt.a,{ref:e=>L.current.push(e),component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(K.jsx)("input",{name:"id",type:"hidden",value:e.AccessoryToOrder.id}),Object(K.jsx)(Te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.AccessoryToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"estDeliveryDate",type:"date",label:"Est Delivery Date",defaultValue:e.AccessoryToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"from",type:"time",label:"From",defaultValue:e.AccessoryToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"to",type:"time",label:"To",defaultValue:e.AccessoryToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"delivered",defaultChecked:e.AccessoryToOrder.delivered}),label:"Delivered"},t)]})]},t))]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),g(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault();const t=R.current.map(e=>({id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked})),a=H.current.map(e=>({id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked})),n=L.current.map(e=>({id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}));M.a.post("/sales/products",{chairToOrders:t,deskToOrders:a,accessoryToOrders:n}).then(()=>{V()}).catch(function(e){console.log(e)}).then(function(){g(!1)})},children:"OK"})]})]})]})}),Fa=a(794),Qa=a(827),Ea=a(785),Ua=a(803),Ka=a(786),Ya=a(784),Ja=a(828),Ga=a(829),_a=a(333),Xa=a(774),Za=a(791);const $a=["children","value","index"],en=["setValue","width"],tn=["label"],an=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],nn=["label"],rn=["thumbnailURL","shipmentDate","arrivalDate"],cn=["thumbnailURL","shipmentDate","arrivalDate"],on=["productDetail"],ln=["productDetail"],sn=["type","width"],dn=["name","label"],un=["suffix"],pn=["name","label","options"],hn=e=>{const{children:t,value:a,index:n}=e,i=Object(q.a)(e,$a);return Object(K.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(K.jsx)(Se.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};const bn=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],mn=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],jn=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],xn=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],On=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],gn=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"];var fn=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),{componentType:a,initialClient:i,initialCart:r,initialServices:c}=e,[o,l]=Object(n.useState)(0),[s,d]=Object(n.useState)("Left"),[u,p]=Object(n.useState)("Rounded"),[h,b]=Object(n.useState)("Melamine"),[m,j]=Object(n.useState)(""),[x,O]=Object(n.useState)(700),[g,f]=Object(n.useState)(400),[y,k]=Object(n.useState)(25),[v,S]=Object(n.useState)(0),[C,w]=Object(n.useState)(50),[T,D]=Object(n.useState)(""),[A,P]=Object(n.useState)(""),B=Object(n.useRef)(null),[I,W]=Object(n.useState)(0),[R,H]=Object(n.useState)(!1),[L,N]=Object(n.useState)(!1),[V,F]=Object(n.useState)(!1),[E,U]=Object(n.useState)("chair"),[Y,J]=Object(n.useState)(""),[G,_]=Object(n.useState)(""),[X,Z]=Object(n.useState)(1e3),[$,ee]=Object(n.useState)(0),[te,ae]=Object(n.useState)(""),[ne,ie]=Object(n.useState)(!1),[re,ce]=Object(n.useState)(!1),[oe,le]=Object(n.useState)(!1),[se,de]=Object(n.useState)(!1),[ue,pe]=Object(n.useState)(r),[he,be]=Object(n.useState)("add"),[me,je]=Object(n.useState)(i.paid),[xe,Oe]=Object(n.useState)([]),[ge,fe]=Object(n.useState)([]),[ye,ke]=Object(n.useState)([]),[ve,Ce]=Object(n.useState)([]),[Be,Ie]=Object(n.useState)(0),[We,He]=Object(n.useState)([]),[Le,Ne]=Object(n.useState)([]),[Fe,Qe]=Object(n.useState)(null),[Ee,Ue]=Object(n.useState)(null),[Ke,Ye]=Object(n.useState)(null),[Je,Ge]=Object(n.useState)(null),[Xe,Ze]=Object(n.useState)(null),[$e,et]=Object(n.useState)("All");let tt=c?c.map(e=>Object.assign(e,{productType:"misc"})):[];const[at,nt]=Object(n.useState)(tt),[it,ct]=Object(n.useState)([]),[ot,lt]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/chairStock/features",{cancelToken:t}).then(e=>{He(e.data)}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/deskStock/features",{cancelToken:e}).then(e=>{Ne(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock/features",{cancelToken:e}).then(e=>{}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/chairStock",{cancelToken:e}).then(e=>{Oe(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/deskStock",{cancelToken:e}).then(e=>{fe(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock",{cancelToken:e}).then(e=>{ke(e.data),Ce(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]);return Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(K.jsx)(Fa.a,{activeStep:I,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((e,t)=>{const a={};var n;return n=t,(null!==B.current&&I>0&&0===n?!B.current.checkValidity():0===ue.length&&0===at.length&&I>1&&1===n)&&(a.optional=Object(K.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(K.jsx)(Qa.a,{sx:{my:"10px"},children:Object(K.jsx)(Ea.a,Object(z.a)(Object(z.a)({},a),{},{children:e}))},e)})}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},ref:B,hidden:0!==I,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:e=>{e.preventDefault(),W(1)},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",width:"100%",defaultValue:i.name,required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((e,t)=>{let{setValue:a,width:n}=e,i=Object(q.a)(e,en);return"Phone"===i.label?Object(K.jsx)(Aa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},i),t):Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t)}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(K.jsxs)(Ua.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(K.jsx)(De.a,{value:"day",control:Object(K.jsx)(Ka.a,{}),label:"Days"}),Object(K.jsx)(De.a,{value:"week",control:Object(K.jsx)(Ka.a,{}),label:"Weeks"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Remark",type:"text",defaultValue:i.remark||""})]}),Object(K.jsx)(Pe.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===I&&Object(K.jsxs)(K.Fragment,{children:[ue.length>0&&Object(K.jsx)(Rt.a,{children:Object(K.jsx)(Ra,{sx:{px:"10px"},children:ue.map((e,t)=>Object(K.jsxs)(Ha,{secondaryAction:Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(_e.a,{onClick:t=>{t.preventDefault(),(e=>{be("edit"),U(e.productType),J(e.id),_(e.productDetail),ae(e.remark),Z(e.productPrice),ee(e.productAmount);const t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&ie(!0),t.includes("Delivery and installation included")&&ce(!0),t.includes("Remote Area Surcharge")&&le(!0),t.includes("Stairs Surcharge")&&de(!0),"chair"===e.productType||"accessory"===e.productType?H(!0):"desk"===e.productType&&(F(e.hasDeskTop),j(e.topColor),w(e.topCornerRadius),l(e.topHoleCount),d(e.topHolePosition),p(e.topHoleType),O(e.topLength),b(e.topMaterial),S(e.topRoundedCorners),k(e.topThickness),f(e.topWidth),D(e.topSketchURL),N(!0))})(e)},children:Object(K.jsx)(ft.a,{})}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),pe(ue.filter((e,a)=>a!==t))},children:Object(K.jsx)(yt.a,{})})]}),children:["chair"===e.productType&&Object(K.jsx)(La,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(K.jsx)(La,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(K.jsx)(La,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(K.jsx)(Na,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t))})}),Object(K.jsxs)(Rt.a,{sx:{my:"10px"},children:[Object(K.jsx)(Se.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(K.jsxs)(Ya.a,{value:Be,onChange:(e,t)=>{e.preventDefault(),Ie(t)},"aria-label":"basic tabs example",children:[Object(K.jsx)(Ja.a,{label:"Chairs"}),Object(K.jsx)(Ja.a,{label:"Desks"}),Object(K.jsx)(Ja.a,{label:"Accessories"}),Object(K.jsx)(Ja.a,{label:"Miscs"})]})}),Object(K.jsxs)(hn,{value:Be,index:0,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:Fe,onChange:(e,t)=>{e.preventDefault(),Qe(t),Ue(null)},options:We.map(e=>e.brand).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:Ee,onChange:(e,t)=>{e.preventDefault(),Ue(t)},options:We.filter(e=>!Fe||e.brand===Fe).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,tn);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:mn,onChange:e=>{ct(e)},selected:it}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Chair Stocks",rows:xe.map((e,t)=>{let{thumbnailURL:a,withHeadrest:n,withAdArmrest:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,an);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),ue.find(e=>"chair"===e.productType&&e.productDetail.id===xe[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):(U("chair"),J(""),_(xe[t]),Z(xe[t].unitPrice),ee(1),H(!0))},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===r)return"No";const e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===c)return"No";const e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},o)}).filter(e=>(!Fe||e.brand===Fe)&&(!Ee||e.model===Ee)),columns:bn.map((e,t)=>(t>6&&it.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(hn,{value:Be,index:1,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Ke,onChange:(e,t)=>{e.preventDefault(),Ye(t),Ge(null),Ze(null)},options:Le.map(e=>e.supplierCode).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:Je,onChange:(e,t)=>{e.preventDefault(),Ge(t),Ze(null)},options:Le.filter(e=>!Ke||e.supplierCode===Ke).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Color",value:Xe,onChange:(e,t)=>{e.preventDefault(),Ze(t)},options:Le.filter(e=>!Je||e.model===Je).map(e=>e.color).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,nn);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:xn,onChange:e=>{lt(e)},selected:ot}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Desk Leg Stocks",rows:ge.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,rn);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{U("desk"),J(""),_(ge[t]),Z(ge[t].unitPrice),ee(1),F(!1),N(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}).filter(e=>(!Ke||e.supplierCode===Ke)&&(!Je||e.model===Je)&&(!Xe||e.color===Xe)),columns:jn.map((e,t)=>(t>6&&ot.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(hn,{value:Be,index:2,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(K.jsx)(ze.a,{id:"category_filter",children:"Category"}),Object(K.jsxs)(qe.a,{labelId:"category_filter",label:"Category",value:$e,onChange:e=>{var t=e.target.value;et(t),ke("All"===t?ve:ve.filter(e=>e.category===t))},children:[Object(K.jsx)(Ve.a,{value:"All",children:"All"}),Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Accessory Stocks",rows:ye.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,cn);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),U("accessory"),J(""),_(ye[t]),ae(ye[t].remark),Z(ye[t].unitPrice),ee(1),ue.find(e=>"accessory"===e.productType&&e.productDetail.id===ye[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):H(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}),columns:On})]}),Object(K.jsx)(hn,{value:Be,index:3,children:Object(K.jsxs)(Se.a,{sx:{m:3},children:[Object(K.jsx)(Pe.a,{variant:"contained",sx:{mb:2},onClick:()=>{const e={id:Object(Za.a)(),description:"",price:0,productType:"misc"};nt([...at,e])},children:"+ New Service"}),Object(K.jsx)(we.a,{container:!0,spacing:2,children:at.map(e=>Object(K.jsx)(we.a,{item:!0,xs:4,children:Object(K.jsxs)(Ga.a,{sx:{px:2,pb:2},children:[Object(K.jsx)(Se.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(K.jsx)(_e.a,{"aria-label":"settings",size:"small",onClick:()=>(e=>{const t=at.filter(t=>t.id!==e);nt(t)})(e.id),children:Object(K.jsx)(Xa.a,{fontSize:"small"})})}),Object(K.jsx)(Te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:t=>((e,t)=>{const a=at.map(a=>a.id===t?Object.assign({},a,{description:e.target.value}):a);nt(a)})(t,e.id)}),Object(K.jsx)(Te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:t=>((e,t)=>{const a=at.map(a=>a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a);nt(a)})(t,e.id)})]})},e.id))})]})})]}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),W(0)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right"},onClick:e=>{e.preventDefault(),0!==ue.length||0!==at.length?W(2):Re.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==I,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:t=>{t.preventDefault();const n=new FormData(B.current),r=new FormData(t.currentTarget);"create"===a?M.a.post("/sales/create",{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:Math.max(n.get("timeLine"),0)*("day"===n.get("timeLineFormat")?1:7),remark:n.get("remark"),products:ue.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,on);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(at),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),dueDate:r.get("dueDate")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/admin/sales")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){}):M.a.put("/sales/".concat(i.id),{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:n.get("timeLine")*("day"===n.get("timeLineFormat")?1:7),remark:n.get("remark"),products:ue.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,ln);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(at),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),dueDate:r.get("dueDate")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/admin/sales")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:"error.response.data.message",allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){})},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(K.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",ue.reduce((e,t)=>e+t.productAmount*parseFloat(t.productPrice),0)+at.reduce((e,t)=>e+t.price,0)]}),Object(K.jsx)(Te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(K.jsx)(De.a,{sx:{flexBasis:"30%",minWidth:"30%",marginRight:0},control:Object(K.jsx)(Ae.a,{name:"paid",checked:me,onChange:e=>{je(e.target.checked)}}),label:"Paid"}),Object(K.jsx)(Te.a,{type:"date",disabled:me,name:"dueDate",label:"Due Date",sx:{flexBasis:"70%",minWidth:"70%"},defaultValue:i.dueDate,InputLabelProps:{shrink:!0}}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]})]}),Object(K.jsx)(Pe.a,{sx:{marginTop:"10px"},onClick:e=>{e.preventDefault(),W(1)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(K.jsxs)(bt.a,{open:R,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);if(ie(!1),ce(!1),le(!1),de(!1),H(!1),"add"===he){if(ue.find(e=>e.productType===E&&e.productDetail.id===G.id))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});pe(ue.concat({productType:E,productDetail:G,productAmount:$,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:te}))}else if("edit"===he){const a=ue.map(a=>a.productType===E&&a.productDetail.id===G.id?{productType:E,productDetail:G,productAmount:$,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:te}:a);pe(a)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:X,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),ee(Math.max($-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:$}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),ee(Math.min($+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(Se.a,{sx:{alignItems:"center",width:"500px",my:"10px",mx:"auto",p:"5px 3px"},children:Object(K.jsx)(Te.a,{label:"Specification",name:"remark",value:te,sx:{width:400,mx:"5px"},onChange:e=>ae(e.target.value)})}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:ne,onChange:e=>ie(e.target.checked)}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:re,onChange:e=>ce(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:oe,onChange:e=>le(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:se,onChange:e=>de(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{ie(!1),ce(!1),le(!1),de(!1),H(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]}),Object(K.jsxs)(bt.a,{open:L,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:async e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ie(!1),ce(!1),le(!1),de(!1),N(!1);const t=new FormData(e.currentTarget);if("add"===he){if(!V&&ue.find(e=>"desk"===e.productType&&e.productDetail.id===G.id&&!e.hasDeskTop))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});let e="";if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{e=(await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(a){}}pe(ue.concat({productType:E,productDetail:G,productAmount:$,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e}))}else if("edit"===he){let e=T;if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{const t=await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});e=t.data.url}catch(a){}}const n=ue.map(a=>"desk"!==a.productType||a.id!==Y?a:{productType:E,productDetail:G,productAmount:$,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e});pe(n)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:X,sx:{width:200,visibility:V?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"hasDeskTop",checked:V,onChange:e=>{F(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:h,onChange:(e,t)=>{e.preventDefault(),b(t)},options:gn,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:m,onChange:e=>{e.preventDefault(),j(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:x,onChange:e=>{e.preventDefault(),O(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:g,onChange:e=>{e.preventDefault(),f(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:y,onChange:e=>{e.preventDefault(),k(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:v,onChange:e=>{e.preventDefault(),S(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:C,onChange:e=>{e.preventDefault(),w(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:o,onChange:e=>{e.preventDefault(),l(e.target.value),1===e.target.value?d("Left"):2===e.target.value?d("Left_Right"):3===e.target.value&&d("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:u,onChange:e=>{e.preventDefault(),p(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:s,onChange:e=>{e.preventDefault(),d(e.target.value)},options:1===o?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==o,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:te,onChange:e=>{e.preventDefault(),ae(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((e,t)=>{let{type:a,width:n}=e,i=Object(q.a)(e,sn);if("autocomplete"===a){const{name:e,label:a}=i,r=Object(q.a)(i,dn);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:t=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},t),{},{name:e,label:a})),disabled:!V},r),t)}if("suffixNumber"===a){const{suffix:e}=i,a=Object(q.a)(i,un);return Object(K.jsx)(De.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(K.jsx)(Te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!V},a)),label:e},t)}if("select"===a){const{name:e,label:a,options:r}=i,c=Object(q.a)(i,pn);return"topHolePosition"===e?c.visible?Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!V},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t):"":Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!V},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t)}return Object(K.jsx)(Te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!V},i),t)}),Object(K.jsx)(Te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:X,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!V,InputProps:{endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}})]}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"left",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1,marginTop:"8px"},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),ee(Math.max($-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px",marginTop:"8px"},children:$}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),ee(Math.min($+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:ne,onChange:e=>ie(e.target.checked),sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:re,onChange:e=>ce(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:oe,onChange:e=>le(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:se,onChange:e=>de(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ie(!1),ce(!1),le(!1),de(!1),N(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]})]})});var yn=e=>{const[t,a]=Object(n.useState)("");return Object(K.jsx)(fn,Object(z.a)({componentType:"create",initialClient:{phone:t,setPhone:a,paid:!0,discountType:1,surchargeType:1,dueDate:"",remark:""},initialCart:[]},e))};const kn=["ChairStocks","DeskStocks","AccessoryStocks","DeskToOrders","ServiceToOrders","Seller","sellerId","remark"],vn=["ChairToOrder"],Sn=["stockId","unitPrice","qty","deliveryOption"],Cn=["AccessoryToOrder"];var wn=e=>{const t=Object(l.g)(),{order:a}=t.state||{},i=a||{},{ChairStocks:r,DeskStocks:c,AccessoryStocks:o,DeskToOrders:s,ServiceToOrders:d,Seller:u,sellerId:p,remark:h}=i,b=Object(q.a)(i,kn),[m,j]=Object(n.useState)(b.phone);return a?Object(K.jsx)(fn,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},b),{},{phone:m,setPhone:j,remark:h}),initialCart:r.map(e=>{let{ChairToOrder:t}=e,a=Object(q.a)(e,vn);return{productType:"chair",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}).concat(s.map(e=>{const{stockId:t,unitPrice:a,qty:n,deliveryOption:i}=e,r=Object(q.a)(e,Sn),o=c.find(function(e){return e.id===t});return Object(z.a)({productType:"desk",productDetail:o,productPrice:a,productAmount:n,productDeliveryOption:i},r)})).concat(o.map(e=>{let{AccessoryToOrder:t}=e,a=Object(q.a)(e,Cn);return{productType:"accessory",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})),initialServices:d},e)):Object(K.jsx)(l.a,{to:"/admin/sales"})},Tn=a(775);const Dn=["ChairToQuotation"],An=["stockId","unitPrice","qty","deliveryOption"],Pn=["AccessoryToQuotation"],Bn=["productDetail"],In=["id","quotationNum","district","street","block","floor","unit","Seller","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],Wn=[{id:"quotationNum",label:"Quotation"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"quotationDate",label:"Quotation"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"toInvoice",nonSort:!0,label:"To Invoice",sx:{maxWidth:45}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],Rn=["Address","TimeLine","Remark","Discount","SurCharge","Products","Paid","Con","tact"];var Hn=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)(""),[l,s]=Object(n.useState)(""),[d,u]=Object(n.useState)(""),[p,h]=Object(n.useState)(!1),[b,m]=Object(n.useState)(!1),[j,x]=Object(n.useState)(!1),O=Object(n.useRef)(null),g=Object(n.useRef)(null),[f,y]=Object(n.useState)(null),[k,v]=Object(n.useState)(0),[S,C]=Object(n.useState)([]),w=e=>{e<a.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current Quotation permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/quotation/".concat(a[e].id)).then(e=>{T()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},T=e=>{M.a.get("/quotation",{cancelToken:e}).then(e=>{i(e.data)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return T(e.token),()=>e.cancel("Brand Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{component:o.b,to:"/admin/quotation/create",startIcon:Object(K.jsx)(Xt.a,{}),children:"New Quotation"}),Object(K.jsx)("div",{children:Object(K.jsx)(na,{options:Rn,onChange:e=>{C(e)},selected:S})}),Object(K.jsx)(Ut,{title:"Sales quotations",rows:a.map((t,n)=>{let{id:i,quotationNum:r,district:l,street:d,block:p,floor:b,unit:j,Seller:O,discount:g,discountType:f,surcharge:y,surchargeType:k,createdAt:S,timeLine:C,paid:D,ChairStocks:A,DeskStocks:P,AccessoryStocks:B}=t,I=Object(q.a)(t,In);return Object(z.a)({id:i,index:n,seller:(O.firstName||"").concat(" ",O.lastName||""),timeLine:C%7!==0?"".concat(C," day").concat(1===C?"":"s"):"".concat(C/7," week").concat(C/7===1?"":"s"),quotationDate:(()=>{const e=new Date(S);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),discount:"".concat(g).concat(f?" HKD":"%"),surcharge:"".concat(y).concat(k?" HKD":"%"),clientAddress:[l,d,p,b,j].join(", "),products:Object(K.jsx)(_e.a,{sx:{my:"5px"},onClick:e=>{e.preventDefault(),v(n),x(!0)},children:Object(K.jsx)(va.a,{badgeContent:A.length+P.length+B.length,color:"error",children:Object(K.jsx)(Sa.a,{})})}),paid:Object(K.jsx)(Ae.a,{checked:D,onClick:e=>{e.stopPropagation(),e.preventDefault(),M.a.put("/quotation/withoutStock/".concat(i),{paid:!D}).then(()=>{T()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}).then(function(){})}}),quotationNum:Object(K.jsx)(o.b,{to:"/quotation/".concat(i),target:"_blank",children:r}),emailIcon:Object(K.jsx)(_e.a,{onClick:()=>{c(I.name),s(I.email),m(!0)},children:Object(K.jsx)(wa.a,{})}),whatsappIcon:Object(K.jsx)(_e.a,{onClick:()=>{M.a.get("whatsapp/checkauth").then(()=>{c(I.name),u(I.phone),h(!0)}).catch(function(e){M.a.get("whatsapp/getqr").then(e=>{Re.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:ka.a.renderToStaticMarkup(Object(K.jsx)(Ba.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})}).then(function(){})}).then(function(){})},children:Object(K.jsx)(Ta.a,{})}),toInvoice:Object(K.jsx)(_e.a,{onClick:t=>{t.preventDefault(),(t=>{t<a.length&&t>=0&&Re.a.fire({title:"Are you sure?",text:"This action will convert current Quotation to Invoice.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Convert!",cancelButtonText:"No, Cancel.",allowOutsideClick:!1}).then(n=>{if(n.isConfirmed){const n=a[t],i=n.ChairStocks.map(e=>{let{ChairToQuotation:t}=e;return{productType:"chair",productDetail:Object(q.a)(e,Dn),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}).concat(n.DeskToQuotations.map(e=>{const{stockId:t,unitPrice:a,qty:i,deliveryOption:r}=e,c=Object(q.a)(e,An),o=n.DeskStocks.find(function(e){return e.id===t});return Object(z.a)({productType:"desk",productDetail:o,productPrice:a,productAmount:i,productDeliveryOption:r},c)})).concat(n.AccessoryStocks.map(e=>{let{AccessoryToQuotation:t}=e;return{productType:"accessory",productDetail:Object(q.a)(e,Pn),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})).concat(n.ServiceToQuotations.map(e=>{let{description:t,id:a,price:n}=e;return{productType:"misc",id:a,price:n,description:t}}));M.a.post("/sales/create",{name:n.name,phone:n.phone,email:n.email,district:n.district,street:n.street,block:n.block,floor:n.floor,unit:n.unit,timeLine:n.timeLine,remark:n.remark,products:i.map(e=>{let{productDetail:t}=e,a=Object(q.a)(e,Bn);return Object(z.a)({productId:null===t||void 0===t?void 0:t.id},a)}).concat(n.ServiceToQuotations),paymentTerms:n.paymentTerms,paid:!1,dueDate:null,discount:n.discount,discountType:n.discountType,surcharge:n.surcharge,surchargeType:n.surchargeType}).then(()=>{e.history.push("/admin/sales")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){})}})})(n)},children:Object(K.jsx)(Tn.a,{})}),edit:Object(K.jsx)(_e.a,{component:o.b,to:{pathname:"/admin/quotation/edit",state:{quotation:a[n]}},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),w(n)},children:Object(K.jsx)(yt.a,{})})},I)}),columns:Wn.map((e,t)=>t>3&&t<13?S.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e),onEditClick:e=>{a.length},onRemoveClick:w,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected Quotations permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/quotation",{data:{ids:e}}).then(e=>{T()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},onFilterClick:e=>{e.preventDefault(),y(null===f?e.currentTarget:null)}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:p,children:[Object(K.jsx)(mt.a,{children:"Send WhatsApp Message to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Aa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:d,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:O,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(r,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),h(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("whatsapp/send",{phone:d,message:O.current.value}).then(()=>{h(!1)}).catch(function(e){h(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{h(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:b,children:[Object(K.jsx)(mt.a,{children:"Send Email to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Te.a,{label:"Email",type:"email",value:l,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:g,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(r,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),m(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("email/send",{email:l,message:g.current.value}).then(()=>{m(!1)}).catch(function(e){m(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{m(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{maxWidth:"sm",fullWidth:!0,open:j,onClose:e=>{e.preventDefault(),x(!1)},children:[Object(K.jsx)(mt.a,{children:"Products Details"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(Ra,{children:[k<a.length&&a[k].ChairStocks.map((e,t)=>Object(K.jsxs)(Ha,{children:[Object(K.jsx)(La,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(K.jsx)(Na,{unitPrice:"".concat(e.ChairToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToQuotation.qty),deliveryOption:"".concat(e.ChairToQuotation.deliveryOption)})]},t)),k<a.length&&a[k].DeskToQuotations.map((e,t)=>Object(K.jsxs)(Ha,{children:[Object(K.jsx)(La,{primary:"Desk:\n                      ".concat(a[k].DeskStocks.find(t=>t.id===e.stockId).supplierCode,",\n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).model,",\n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).color,",\n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).armSize,",\n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).feetSize,",\n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).beamSize),secondary:e.hasDeskTop?Object(K.jsxs)("span",{children:["".concat(e.topMaterial,",\n                            ").concat(e.topColor,",\n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,",\n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,",\n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(K.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(K.jsx)(Na,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)})]},t)),k<a.length&&a[k].AccessoryStocks.map((e,t)=>Object(K.jsxs)(Ha,{children:[Object(K.jsx)(La,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(K.jsx)(Na,{unitPrice:"".concat(e.AccessoryToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToQuotation.qty),deliveryOption:"".concat(e.AccessoryToQuotation.deliveryOption)})]},t))]})}),Object(K.jsx)(gt.a,{children:Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),x(!1)},children:"OK"})})]})]})});const Ln=["children","value","index"],Nn=["setValue","width"],Mn=["label"],zn=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],qn=["label"],Vn=["thumbnailURL","shipmentDate","arrivalDate"],Fn=["thumbnailURL","shipmentDate","arrivalDate"],Qn=["productDetail"],En=["productDetail"],Un=["type","width"],Kn=["name","label"],Yn=["suffix"],Jn=["name","label","options"],Gn=e=>{const{children:t,value:a,index:n}=e,i=Object(q.a)(e,Ln);return Object(K.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(K.jsx)(Se.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};const _n=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Xn=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],Zn=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],$n=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],ei=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],ti=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"];var ai=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),{componentType:a,initialClient:i,initialCart:r,initialServices:c}=e,[o,l]=Object(n.useState)(0),[s,d]=Object(n.useState)("Left"),[u,p]=Object(n.useState)("Rounded"),[h,b]=Object(n.useState)("Melamine"),[m,j]=Object(n.useState)(""),[x,O]=Object(n.useState)(700),[g,f]=Object(n.useState)(400),[y,k]=Object(n.useState)(25),[v,S]=Object(n.useState)(0),[C,w]=Object(n.useState)(50),[T,D]=Object(n.useState)(""),A=Object(n.useRef)(null),[P,B]=Object(n.useState)(0),[I,W]=Object(n.useState)(!1),[R,H]=Object(n.useState)(!1),[L,N]=Object(n.useState)(!1),[V,F]=Object(n.useState)("chair"),[E,U]=Object(n.useState)(""),[Y,J]=Object(n.useState)(1e3),[G,_]=Object(n.useState)(0),[X,Z]=Object(n.useState)(""),[$,ee]=Object(n.useState)(!1),[te,ae]=Object(n.useState)(!1),[ne,ie]=Object(n.useState)(!1),[re,ce]=Object(n.useState)(!1),[oe,le]=Object(n.useState)(r),[se,de]=Object(n.useState)("add"),[ue,pe]=Object(n.useState)([]),[he,be]=Object(n.useState)([]),[me,je]=Object(n.useState)([]),[xe,Oe]=Object(n.useState)([]),[ge,fe]=Object(n.useState)(0),[ye,ke]=Object(n.useState)([]),[ve,Ce]=Object(n.useState)([]),[Be,Ie]=Object(n.useState)(null),[We,He]=Object(n.useState)(null),[Le,Ne]=Object(n.useState)(null),[Fe,Qe]=Object(n.useState)(null),[Ee,Ue]=Object(n.useState)(null),[Ke,Ye]=Object(n.useState)("All");let Je=c?c.map(e=>Object.assign(e,{productType:"misc"})):[];const[Ge,Xe]=Object(n.useState)(Je),[Ze,$e]=Object(n.useState)([]),[et,tt]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/chairStock/features",{cancelToken:t}).then(e=>{ke(e.data)}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/deskStock/features",{cancelToken:e}).then(e=>{Ce(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock/features",{cancelToken:e}).then(e=>{}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/chairStock",{cancelToken:e}).then(e=>{pe(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/deskStock",{cancelToken:e}).then(e=>{be(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock",{cancelToken:e}).then(e=>{je(e.data),Oe(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]);return console.log("cart----",oe),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(K.jsx)(Fa.a,{activeStep:P,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((e,t)=>{const a={};var n;return n=t,(null!==A.current&&P>0&&0===n?!A.current.checkValidity():0===oe.length&&0===Ge.length&&P>1&&1===n)&&(a.optional=Object(K.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(K.jsx)(Qa.a,{sx:{my:"10px"},children:Object(K.jsx)(Ea.a,Object(z.a)(Object(z.a)({},a),{},{children:e}))},e)})}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},ref:A,hidden:0!==P,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:e=>{e.preventDefault(),B(1)},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:i.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((e,t)=>{let{setValue:a,width:n}=e,i=Object(q.a)(e,Nn);return"Phone"===i.label?Object(K.jsx)(Aa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},i),t):Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t)}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(K.jsxs)(Ua.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(K.jsx)(De.a,{value:"day",control:Object(K.jsx)(Ka.a,{}),label:"Days"}),Object(K.jsx)(De.a,{value:"week",control:Object(K.jsx)(Ka.a,{}),label:"Weeks"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Remark",type:"text",defaultValue:i.remark||""})]}),Object(K.jsx)(Pe.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===P&&Object(K.jsxs)(K.Fragment,{children:[oe.length>0&&Object(K.jsx)(Rt.a,{children:Object(K.jsx)(Ra,{sx:{px:"10px"},children:oe.map((e,t)=>Object(K.jsxs)(Ha,{secondaryAction:Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(_e.a,{onClick:t=>{t.preventDefault(),(e=>{de("edit"),F(e.productType),U(e.productDetail),Z(e.remark),J(e.productPrice),_(e.productAmount);const t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&ee(!0),t.includes("Delivery and installation included")&&ae(!0),t.includes("Remote Area Surcharge")&&ie(!0),t.includes("Stairs Surcharge")&&ce(!0),"chair"===e.productType||"accessory"===e.productType?W(!0):"desk"===e.productType&&(N(e.hasDeskTop),j(e.topColor),w(e.topCornerRadius),l(e.topHoleCount),d(e.topHolePosition),p(e.topHoleType),O(e.topLength),b(e.topMaterial),S(e.topRoundedCorners),k(e.topThickness),f(e.topWidth),D(e.topSketchURL),H(!0))})(e)},children:Object(K.jsx)(ft.a,{})}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),le(oe.filter((e,a)=>a!==t))},children:Object(K.jsx)(yt.a,{})})]}),children:["chair"===e.productType&&Object(K.jsx)(La,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(K.jsx)(La,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(K.jsx)(La,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(K.jsx)(Na,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t))})}),Object(K.jsxs)(Rt.a,{sx:{my:"10px"},children:[Object(K.jsx)(Se.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(K.jsxs)(Ya.a,{value:ge,onChange:(e,t)=>{e.preventDefault(),fe(t)},"aria-label":"basic tabs example",children:[Object(K.jsx)(Ja.a,{label:"Chairs"}),Object(K.jsx)(Ja.a,{label:"Desks"}),Object(K.jsx)(Ja.a,{label:"Accessories"}),Object(K.jsx)(Ja.a,{label:"Miscs"})]})}),Object(K.jsxs)(Gn,{value:ge,index:0,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:Be,onChange:(e,t)=>{e.preventDefault(),Ie(t),He(null)},options:ye.map(e=>e.brand).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:We,onChange:(e,t)=>{e.preventDefault(),He(t)},options:ye.filter(e=>!Be||e.brand===Be).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,Mn);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:Xn,onChange:e=>{$e(e)},selected:Ze}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Chair Stocks",rows:ue.map((e,t)=>{let{thumbnailURL:a,withHeadrest:n,withAdArmrest:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,zn);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(K.jsx)(_e.a,{onClick:e=>{if(e.preventDefault(),oe.find(e=>"chair"===e.productType&&e.productDetail.id===ue[t].id))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});F("chair"),U(ue[t]);let a=""===ue[t].frameColor?"___":ue[t].frameColor,n=""===ue[t].seatColor?"___":ue[t].seatColor,i=""===ue[t].backColor?"___":ue[t].backColor;Z("FrameColor:"+a+", SeatColor:"+n+", BackColor:"+i),J(ue[t].unitPrice),_(1),W(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===r)return"No";const e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===c)return"No";const e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},o)}).filter(e=>(!Be||e.brand===Be)&&(!We||e.model===We)),columns:_n.map((e,t)=>(t>6&&Ze.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(Gn,{value:ge,index:1,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Le,onChange:(e,t)=>{e.preventDefault(),Ne(t),Qe(null),Ue(null)},options:ve.map(e=>e.supplierCode).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:Fe,onChange:(e,t)=>{e.preventDefault(),Qe(t),Ue(null)},options:ve.filter(e=>!Le||e.supplierCode===Le).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Color",value:Ee,onChange:(e,t)=>{e.preventDefault(),Ue(t)},options:ve.filter(e=>!Fe||e.model===Fe).map(e=>e.color).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,qn);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:$n,onChange:e=>{tt(e)},selected:et}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Desk Leg Stocks",rows:he.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,Vn);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{F("desk"),U(he[t]),J(he[t].unitPrice),_(1),N(!1),H(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}).filter(e=>(!Le||e.supplierCode===Le)&&(!Fe||e.model===Fe)&&(!Ee||e.color===Ee)),columns:Zn.map((e,t)=>(t>6&&et.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(Gn,{value:ge,index:2,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(K.jsx)(ze.a,{id:"category_filter",children:"Category"}),Object(K.jsxs)(qe.a,{labelId:"category_filter",label:"Category",value:Ke,onChange:e=>{var t=e.target.value;Ye(t),je("All"===t?xe:xe.filter(e=>e.category===t))},children:[Object(K.jsx)(Ve.a,{value:"All",children:"All"}),Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Accessory Stocks",rows:me.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,Fn);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),F("accessory"),U(me[t]),Z(me[t].remark),J(me[t].unitPrice),_(1),oe.find(e=>"accessory"===e.productType&&e.productDetail.id===me[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):W(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}),columns:ei})]}),Object(K.jsx)(Gn,{value:ge,index:3,children:Object(K.jsxs)(Se.a,{sx:{m:3},children:[Object(K.jsx)(Pe.a,{variant:"contained",sx:{mb:2},onClick:()=>{const e={id:Object(Za.a)(),description:"",price:0,productType:"misc"};Xe([...Ge,e])},children:"+ New Service"}),Object(K.jsx)(we.a,{container:!0,spacing:2,children:Ge.map(e=>Object(K.jsx)(we.a,{item:!0,xs:4,children:Object(K.jsxs)(Ga.a,{sx:{px:2,pb:2},children:[Object(K.jsx)(Se.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(K.jsx)(_e.a,{"aria-label":"settings",size:"small",onClick:()=>(e=>{const t=Ge.filter(t=>t.id!==e);Xe(t)})(e.id),children:Object(K.jsx)(Xa.a,{fontSize:"small"})})}),Object(K.jsx)(Te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:t=>((e,t)=>{const a=Ge.map(a=>a.id===t?Object.assign({},a,{description:e.target.value}):a);Xe(a)})(t,e.id)}),Object(K.jsx)(Te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:t=>((e,t)=>{const a=Ge.map(a=>a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a);Xe(a)})(t,e.id)})]})},e.id))})]})})]}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),B(0)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right"},onClick:e=>{e.preventDefault(),0!==oe.length||0!==Ge.length?B(2):Re.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==P,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:t=>{t.preventDefault();const n=new FormData(A.current),r=new FormData(t.currentTarget);"create"===a?M.a.post("/quotation/create",{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:Math.max(n.get("timeLine"),0)*("day"===n.get("timeLineFormat")?1:7),remark:n.get("remark"),products:oe.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,Qn);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(Ge),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),validTil:r.get("validTil")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/admin/quotation")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){}):M.a.put("/quotation/".concat(i.id),{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:n.get("timeLine")*("day"===n.get("timeLineFormat")?1:7),remark:n.get("remark"),products:oe.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,En);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(Ge),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),validTil:r.get("validTil")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/admin/quotation")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){})},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(K.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",oe.reduce((e,t)=>e+t.productAmount*parseFloat(t.productPrice),0)+Ge.reduce((e,t)=>e+t.price,0)]}),Object(K.jsx)(Te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(K.jsx)(De.a,{sx:{flexBasis:"100%",minWidth:"100%",alignItems:"baseline",m:0},control:Object(K.jsx)(Te.a,{type:"number",name:"validTil",label:"Valid Til",inputProps:{max:10,min:0},defaultValue:i.validTil,InputLabelProps:{shrink:!0},fullWidth:!0,sx:{m:"10px 5px 10px 0"}}),label:"month(s)"}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]})]}),Object(K.jsx)(Pe.a,{sx:{marginTop:"10px"},onClick:e=>{e.preventDefault(),B(1)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(K.jsxs)(bt.a,{open:I,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);if(ee(!1),ae(!1),ie(!1),ce(!1),W(!1),"add"===se){if(oe.find(e=>e.productType===V&&e.productDetail.id===E.id))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});le(oe.concat({productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:X}))}else if("edit"===se){const a=oe.map(a=>a.productType===V&&a.productDetail.id===E.id?{productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:X}:a);le(a)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:Y,sx:{width:"200px"},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.max(G-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:G}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.min(G+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(Se.a,{sx:{alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(K.jsx)(Te.a,{label:"Specification",name:"remark",value:X,sx:{width:400,mx:"5px"},onChange:e=>{Z(e.target.value)}})}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:$,onChange:e=>ee(e.target.checked),sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:te,onChange:e=>ae(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:ne,onChange:e=>ie(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:re,onChange:e=>ce(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{ee(!1),ae(!1),ie(!1),ce(!1),W(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]}),Object(K.jsxs)(bt.a,{open:R,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:async e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ee(!1),ae(!1),ie(!1),ce(!1),H(!1);const t=new FormData(e.currentTarget);if("add"===se){if(!L&&oe.find(e=>"desk"===e.productType&&e.productDetail.id===E.id&&!e.hasDeskTop))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});let e="";if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{e=(await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(a){}}le(oe.concat({productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e}))}else if("edit"===se){let e=T;if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{const t=await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});e=t.data.url}catch(a){}}const n=oe.map(a=>"desk"===a.productType&&a.productDetail.id===E.id?{productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e}:a);le(n)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:Y,sx:{width:200,visibility:L?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"hasDeskTop",checked:L,onChange:e=>{N(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:h,onChange:(e,t)=>{e.preventDefault(),b(t)},options:ti,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:m,onChange:e=>{e.preventDefault(),j(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:x,onChange:e=>{e.preventDefault(),O(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:g,onChange:e=>{e.preventDefault(),f(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:y,onChange:e=>{e.preventDefault(),k(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:v,onChange:e=>{e.preventDefault(),S(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:C,onChange:e=>{e.preventDefault(),w(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:o,onChange:e=>{e.preventDefault(),l(e.target.value),1===e.target.value?d("Left"):2===e.target.value?d("Left_Right"):3===e.target.value&&d("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:u,onChange:e=>{e.preventDefault(),p(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:s,onChange:e=>{e.preventDefault(),d(e.target.value)},options:1===o?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==o,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:X,onChange:e=>{e.preventDefault(),Z(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((e,t)=>{let{type:a,width:n}=e,i=Object(q.a)(e,Un);if("autocomplete"===a){const{name:e,label:a}=i,r=Object(q.a)(i,Kn);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:t=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},t),{},{name:e,label:a})),disabled:!L},r),t)}if("suffixNumber"===a){const{suffix:e}=i,a=Object(q.a)(i,Yn);return Object(K.jsx)(De.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(K.jsx)(Te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!L},a)),label:e},t)}if("select"===a){const{name:e,label:a,options:r}=i,c=Object(q.a)(i,Jn);return"topHolePosition"===e?c.visible?Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!L},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t):"":Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!L},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t)}return Object(K.jsx)(Te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!L},i),t)}),Object(K.jsx)(Te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:Y,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!L,InputProps:{endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}})]}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.max(G-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",mx:"10px",children:G}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.min(G+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(De.a,{sx:{display:"block"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:$,onChange:e=>ee(e.target.checked),sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:te,onChange:e=>ae(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:ne,onChange:e=>ie(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:re,onChange:e=>ce(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ee(!1),ae(!1),ie(!1),ce(!1),H(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]})]})});var ni=e=>{const[t,a]=Object(n.useState)("");return Object(K.jsx)(ai,Object(z.a)({componentType:"create",initialClient:{phone:t,setPhone:a,paid:!0,discountType:1,surchargeType:1,validTil:1,remark:""},initialCart:[]},e))};const ii=["ChairStocks","DeskStocks","DeskToQuotations","AccessoryStocks","ServiceToQuotations","Seller","sellerId"],ri=["ChairToQuotation"],ci=["stockId","unitPrice","qty","deliveryOption"],oi=["AccessoryToQuotation"];var li=e=>{const t=Object(l.g)(),{quotation:a}=t.state||{},i=a||{},{ChairStocks:r,DeskStocks:c,DeskToQuotations:o,AccessoryStocks:s,ServiceToQuotations:d,Seller:u,sellerId:p}=i,h=Object(q.a)(i,ii),[b,m]=Object(n.useState)(h.phone);return a?Object(K.jsx)(ai,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},h),{},{phone:b,setPhone:m}),initialCart:r.map(e=>{let{ChairToQuotation:t}=e;return{productType:"chair",productDetail:Object(q.a)(e,ri),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}).concat(o.map(e=>{const{stockId:t,unitPrice:a,qty:n,deliveryOption:i}=e,r=Object(q.a)(e,ci),o=c.find(function(e){return e.id===t});return Object(z.a)({productType:"desk",productDetail:o,productPrice:a,productAmount:n,productDeliveryOption:i},r)})).concat(s.map(e=>{let{AccessoryToQuotation:t}=e;return{productType:"accessory",productDetail:Object(q.a)(e,oi),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})),initialServices:d},e)):Object(K.jsx)(l.a,{to:"/admin/quotation"})};const si=["id","SalesOrder","ChairStock"],di=["width"],ui=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"poNum",label:"PO #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"frameColor",label:"FColor"},{id:"backColor",label:"BColor"},{id:"seatColor",label:"SColor"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Armrest"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];var pi=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)([]),[l,s]=Object(n.useState)(!1),[d,u]=Object(n.useState)([]),p=e=>{M.a.get("/delivery/allChair",e).then(e=>{const t=e.data.filter(e=>!0===e.SalesOrder.paid);i(t)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return p({cancelToken:e.token}),()=>e.cancel("Stock Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Ut,{title:"Chair Delivery",rows:a.map((e,t)=>{let{id:n,SalesOrder:i,ChairStock:r}=e,l=Object(q.a)(e,si);return Object(z.a)({id:n,orderDate:(()=>{const e=new Date(i.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),invoiceNum:"I-".concat(i.Seller.prefix).concat(new Date(i.createdAt).getFullYear(),"-").concat(("000"+i.invoiceNum).substr(-3)),district:i.district,name:i.name,phone:i.phone,email:i.email,brand:null===r?"":r.brand,model:null===r?"":r.model,frameColor:null===r?"":r.frameColor,backColor:null===r?"":r.backColor,seatColor:null===r?"":r.seatColor,withHeadrest:null===r?"No":r.withHeadrest?"Yes":"No",withAdArmrest:null===r?"No":r.withAdArmrest?"Yes":"No",remark:null===r?"":r.reamrk,deliveryPDF:Object(K.jsx)(Pe.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:o.b,target:"_blank",to:"/deliveryPDF/chair/".concat(n),children:"Delivery Note"}),edit:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),(e=>{e<a.length&&e>=0&&(c([a[e].id]),u([{name:"poNum",label:"PO #",type:"text",defaultValue:a[e].poNum,width:"100%"}])),s(!0)})(t)},children:Object(K.jsx)(ft.a,{})})},l)}),columns:ui,onBulkEditClick:e=>{c(e),u([{name:"poNum",label:"PO #",type:"text",width:"100%"}]),s(!0)}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:l,PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);M.a.put("/delivery/chair",{ids:r,poNum:t.get("poNum")}).then(e=>{s(!1),p()}).catch(function(e){s(!1),Re.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then(()=>{s(!0)}),console.log(e)}).then(function(){})}},children:[Object(K.jsx)(mt.a,{children:"Edit PO #"}),Object(K.jsx)(jt.a,{children:Object(K.jsx)(Rt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:d.map((e,t)=>{let{width:a}=e,n=Object(q.a)(e,di);return Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:()=>{s(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"Save"})]})]})]})});const hi=["id","SalesOrder","DeskStock"],bi=["width"],mi=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"akNum",label:"AK #",sx:{minWidth:100}},{id:"heworkNum",label:"Hework #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"model",label:"Model"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"deskTop",label:"Table Top"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];var ji=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)([]),[l,s]=Object(n.useState)(!1),[d,u]=Object(n.useState)([]),p=e=>{M.a.get("/delivery/allDesk",e).then(e=>{const t=e.data.filter(e=>!0===e.SalesOrder.paid);i(t)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return p({cancelToken:e.token}),()=>e.cancel("Stock Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Ut,{title:"Desk Delivery",rows:a.map((e,t)=>{let{id:n,SalesOrder:i,DeskStock:r}=e,l=Object(q.a)(e,hi);return Object(z.a)({id:n,orderDate:(()=>{const e=new Date(i.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),invoiceNum:"I-".concat(i.Seller.prefix).concat(new Date(i.createdAt).getFullYear(),"-").concat(("000"+i.invoiceNum).substr(-3)),district:i.district,name:i.name,phone:i.phone,model:null===r?"":r.model,color:null===r?"":r.color,armSize:null===r?"":r.armSize,feetSize:null===r?"":r.feetSize,beamSize:null===r?"":r.beamSize,deskTop:"".concat(l.hasDeskTop?"".concat(l.topMaterial,", ").concat(l.topColor,", ").concat(l.topLength,"x").concat(l.topWidth,"x").concat(l.topThickness,", ").concat(l.topRoundedCorners,"-R").concat(l.topCornerRadius,", ").concat(l.topHoleCount,"-").concat(l.topHoleType):"Without DeskTop"),remark:null===r?"":r.reamrk,deliveryPDF:Object(K.jsx)(Pe.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:o.b,target:"_blank",to:"/deliveryPDF/desk/".concat(n),children:"Delivery Note"}),edit:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),(e=>{e<a.length&&e>=0&&(c([a[e].id]),u([{name:"akNum",label:"AK #",type:"text",defaultValue:a[e].akNum,width:"100%"},{name:"heworkNum",label:"Hework #",type:"text",defaultValue:a[e].heworkNum,width:"100%"}])),s(!0)})(t)},children:Object(K.jsx)(ft.a,{})})},l)}),columns:mi,onBulkEditClick:e=>{c(e),u([{name:"akNum",label:"AK #",type:"text",width:"100%"},{name:"heworkNum",label:"Hework #",type:"text",width:"100%"}]),s(!0)}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:l,PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);M.a.put("/delivery/desk",{ids:r,akNum:t.get("akNum"),heworkNum:t.get("heworkNum")}).then(e=>{s(!1),p()}).catch(function(e){s(!1),Re.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then(()=>{s(!0)}),console.log(e)}).then(function(){})}},children:[Object(K.jsx)(mt.a,{children:"Edit AK and Hework #"}),Object(K.jsx)(jt.a,{children:Object(K.jsx)(Rt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:d.map((e,t)=>{let{width:a}=e,n=Object(q.a)(e,bi);return Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:()=>{s(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"Save"})]})]})]})});const xi=["id","SalesOrder","AccessoryStock"],Oi=["width"],gi=[{id:"proDeliveryDate",label:"Proposed Delivery Date",sx:{paddingLeft:"10px",minWidth:120}},{id:"orderDate",label:"Order Date",sx:{minWidth:100}},{id:"invoiceNum",label:"Inovice #",sx:{minWidth:100}},{id:"poNum",label:"PO #",sx:{minWidth:100}},{id:"district",label:"Delivery Address"},{id:"name",label:"Name"},{id:"phone",label:"Phone"},{id:"category",label:"Category"},{id:"remark",label:"Remark"},{id:"deliveryPDF",label:"Note",sx:{paddingRight:"10px"}},{id:"edit"}];Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)([]),[l,s]=Object(n.useState)(!1),[d,u]=Object(n.useState)([]),p=e=>{M.a.get("/delivery/allAccessory",e).then(e=>{const t=e.data.filter(e=>!0===e.SalesOrder.paid);i(t)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return p({cancelToken:e.token}),()=>e.cancel("Stock Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Ut,{title:"Accessory Delivery",rows:a.map((e,t)=>{let{id:n,SalesOrder:i,AccessoryStock:r}=e,l=Object(q.a)(e,xi);return Object(z.a)({id:n,orderDate:(()=>{const e=new Date(i.createdAt);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),invoiceNum:"I-".concat(i.Seller.prefix).concat(new Date(i.createdAt).getFullYear(),"-").concat(("000"+i.invoiceNum).substr(-3)),district:i.district,name:i.name,phone:i.phone,email:i.email,category:null===r?"":r.category,remark:null===r?"":r.reamrk,deliveryPDF:Object(K.jsx)(Pe.a,{variant:"contained",sx:{my:"5px",width:100,fontSize:10},component:o.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(n),children:"Delivery Note"}),edit:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),(e=>{e<a.length&&e>=0&&(c([a[e].id]),u([{name:"poNum",label:"PO #",type:"text",defaultValue:a[e].poNum,width:"100%"}])),s(!0)})(t)},children:Object(K.jsx)(ft.a,{})})},l)}),columns:gi,onBulkEditClick:e=>{c(e),u([{name:"poNum",label:"PO #",type:"text",width:"100%"}]),s(!0)}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:l,PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);M.a.put("/delivery/accessory",{ids:r,poNum:t.get("poNum")}).then(e=>{s(!1),p()}).catch(function(e){s(!1),Re.a.fire({icon:"error",title:"Error",html:e.response.data.message.replace("\n","<br />"),allowOutsideClick:!1}).then(()=>{s(!0)}),console.log(e)}).then(function(){})}},children:[Object(K.jsx)(mt.a,{children:"Edit PO #"}),Object(K.jsx)(jt.a,{children:Object(K.jsx)(Rt.a,{sx:{mt:"5px",p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:d.map((e,t)=>{let{width:a}=e,n=Object(q.a)(e,Oi);return Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:a,minWidth:a}},n),t)})})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:()=>{s(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"Save"})]})]})]})});var fi=()=>Object(K.jsx)("div",{});var yi=()=>Object(K.jsx)("div",{});var ki=()=>Object(K.jsx)("div",{});const vi=["id","poNum","des","qty","orderQty","orderDate","finishDate","location","supplier","invoice","remark"],Si=[{id:"poNum",label:"P.O. Number"},{id:"orderDate",label:"Order Date"},{id:"desc",label:"Description"},{id:"qty",label:"Qty"},{id:"finishDate",label:"Finish Date"},{id:"invoice",label:"Invoice#"},{id:"orderQty",label:"Order Qty"},{id:"location",label:"Location"},{id:"supplier",label:"Supplier"},{id:"beam",label:"BEAM"},{id:"akNum",label:"AK#"},{id:"heworkNum",label:"Hework#"},{id:"remark",label:"Remark"},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{id:"delete",nonSort:!0,sx:{maxWidth:45,width:45}}],Ci=["Invoice","Order Qty","Location","Supplier","BEAM","AK#","Hework#","Remark"];var wi=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const[t,a]=Object(n.useState)([]),[i,r]=Object(n.useState)([]),[c,l]=Object(n.useState)([]),[s,d]=Object(n.useState)(""),[u,p]=Object(n.useState)(null),h=e=>{e<t.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current purchase permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(a=>{a.isConfirmed&&M.a.delete("/shipment/".concat(t[e].id)).then(e=>{b()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})})},b=e=>{M.a.get("/shipment",{cancelToken:e}).then(e=>{let t=[];e.data.map(e=>{let a=e;return t.push(a),a}),a(t),r(t)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return b(e.token),()=>e.cancel("Brand Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{component:o.b,to:"/admin/shipment/create",startIcon:Object(K.jsx)(Xt.a,{}),children:"New Shipment"}),Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsx)(Te.a,{label:"P.O. Number",variant:"outlined",onKeyPress:e=>{if("Enter"===e.key){const e=i.filter(e=>e.poNum.toString().toLowerCase().includes(s.toLowerCase()));a(e)}},value:s,onChange:e=>d(e.target.value)})}),Object(K.jsx)(na,{options:Ci,onChange:e=>{l(e)},selected:c}),Object(K.jsx)(Ut,{title:"Shipments",rows:t.map((e,a)=>{let{id:n,poNum:i,des:r,qty:c,orderQty:l,orderDate:s,finishDate:d,location:u,supplier:p,invoice:b,remark:m}=e,j=Object(q.a)(e,vi);return Object(z.a)({id:n,index:a,poNum:i,desc:r,qty:c,orderQty:l,orderDate:s,finishDate:d,location:u,supplier:p,invoice:b,remark:m,edit:Object(K.jsx)(_e.a,{component:o.b,to:{pathname:"/admin/shipment/edit",state:{shipment:t[a]}},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),h(a)},children:Object(K.jsx)(yt.a,{})})},j)}),columns:Si.map((e,t)=>t>4&&t<13?c.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e),onRemoveClick:h,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected shipments permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/shipments",{data:{ids:e}}).then(e=>{b()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)})})},onFilterClick:e=>{e.preventDefault(),p(null===u?e.currentTarget:null)}})]})});const Ti=Object(Ia.a)(et.a)(e=>{let{theme:t}=e;return{backgroundColor:It.a[600],padding:"10px"}}),Di=Object(Ia.a)(tt.a)(e=>{let{theme:t}=e;return{backgroundColor:It.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}}),Ai=Object(Ia.a)(nt.a)(e=>{let{theme:t}=e;return{color:Wa.a[900]}}),Pi=e=>{let{unitPrice:t,amount:a,deliveryOption:n}=e;return Object(K.jsx)(Se.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[a,n].map((e,t)=>Object(K.jsx)(Q.a,{variant:"span",sx:{color:"white",width:2===t?150:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:Wa.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t))})},Bi=["children","value","index"],Ii=["pid","desc","qty"],Wi=["pid","desc","qty"],Ri=["pid","desc","qty"],Hi=["setValue","width"],Li=["label"],Ni=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],Mi=["label"],zi=["thumbnailURL","shipmentDate","arrivalDate"],qi=["thumbnailURL","shipmentDate","arrivalDate"],Vi=e=>{const{children:t,value:a,index:n}=e,i=Object(q.a)(e,Bi);return Object(K.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(K.jsx)(Se.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};const Fi=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Qi=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],Ei=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Ui=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],Ki=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}];var Yi=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),{componentType:a,initialShipment:i,initialCart:r}=e,[c,o]=Object(n.useState)(r),[l,s]=Object(n.useState)("add"),[d,u]=Object(n.useState)("chair"),[p,h]=Object(n.useState)(""),[b,m]=Object(n.useState)(0),[j,x]=Object(n.useState)(""),[O,g]=Object(n.useState)(0),[f,y]=Object(n.useState)("Left"),[k,v]=Object(n.useState)("Rounded"),[S,C]=Object(n.useState)("Melamine"),[w,T]=Object(n.useState)(""),[D,A]=Object(n.useState)(700),[P,B]=Object(n.useState)(400),[I,W]=Object(n.useState)(25),[R,H]=Object(n.useState)(0),[L,N]=Object(n.useState)(50),[V,F]=Object(n.useState)(""),E=Object(n.useRef)(null),[U,Y]=Object(n.useState)(0),[J,G]=Object(n.useState)(!1),[_,X]=Object(n.useState)(!1),[Z,$]=Object(n.useState)(!1),[ee,te]=Object(n.useState)(i.paid),[ae,ne]=Object(n.useState)([]),[ie,re]=Object(n.useState)([]),[ce,oe]=Object(n.useState)([]),[le,se]=Object(n.useState)([]),[de,ue]=Object(n.useState)(0),[pe,he]=Object(n.useState)([]),[be,me]=Object(n.useState)([]),[je,xe]=Object(n.useState)(null),[Oe,ge]=Object(n.useState)(null),[fe,ye]=Object(n.useState)(null),[ke,ve]=Object(n.useState)(null),[Ce,we]=Object(n.useState)(null),[Be,Ie]=Object(n.useState)("All"),[We,He]=Object(n.useState)([]),[Le,Ne]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/chairStock/features",{cancelToken:t}).then(e=>{he(e.data)}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/deskStock/features",{cancelToken:e}).then(e=>{me(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock/features",{cancelToken:e}).then(e=>{}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/chairStock",{cancelToken:e}).then(e=>{ne(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/deskStock",{cancelToken:e}).then(e=>{re(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock",{cancelToken:e}).then(e=>{oe(e.data),se(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/shipment/"+i.id,{cancelToken:e}).then(e=>{const{chairProducts:t,deskProducts:a,accProducts:n}=e.data,i=t.map(e=>{let{pid:t,desc:a,qty:n}=e;return Object(q.a)(e,Ii),{productType:"chair",productId:t,productDesc:a,productQty:n}}).concat(a.map(e=>{let{pid:t,desc:a,qty:n}=e;return Object(q.a)(e,Wi),{productType:"desk",productId:t,productDesc:a,productQty:n}})).concat(n.map(e=>{let{pid:t,desc:a,qty:n}=e;return Object(q.a)(e,Ri),{productType:"accessory",productId:t,productQty:n,productDesc:a}}));o(i)})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]);return Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(K.jsx)(Fa.a,{activeStep:U,sx:{flexWrap:"wrap"},children:["Input Shipment Info","Select Products"].map((e,t)=>{const a={};var n;return n=t,(null!==E.current&&U>0&&0===n?!E.current.checkValidity():0===c.length&&U>1&&1===n)&&(a.optional=Object(K.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(K.jsx)(Qa.a,{sx:{my:"10px"},children:Object(K.jsx)(Ea.a,Object(z.a)(Object(z.a)({},a),{},{children:e}))},e)})}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},ref:E,hidden:0!==U,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:e=>{e.preventDefault(),Y(1)},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Shipment Info"}),[{name:"supplier",label:"Supplier",type:"text",defaultValue:i.supplier,width:"100%",required:!0},{name:"location",label:"location",type:"text",defaultValue:i.location,width:"100%",required:!0},{name:"remark",label:"Remark",type:"text",defaultValue:i.remark,width:"100%"}].map((e,t)=>{let{setValue:a,width:n}=e,i=Object(q.a)(e,Hi);return Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},InputLabelProps:{shrink:!0}},i),t)})]}),Object(K.jsx)(Pe.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===U&&Object(K.jsxs)(K.Fragment,{children:[c.length>0&&Object(K.jsx)(Rt.a,{children:Object(K.jsx)(Ti,{sx:{px:"10px"},children:c.map((e,t)=>Object(K.jsxs)(Di,{secondaryAction:Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(_e.a,{onClick:t=>{t.preventDefault(),(e=>{s("edit"),u(e.productType),h(e.productId),m(e.productQty),x(e.productDesc),"chair"===e.productType||"accessory"===e.productType?G(!0):"desk"===e.productType&&($(e.hasDeskTop),T(e.topColor),N(e.topCornerRadius),g(e.topHoleCount),y(e.topHolePosition),v(e.topHoleType),A(e.topLength),C(e.topMaterial),H(e.topRoundedCorners),W(e.topThickness),B(e.topWidth),F(e.topSketchURL),X(!0))})(e)},children:Object(K.jsx)(ft.a,{})}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),o(c.filter((e,a)=>a!==t))},children:Object(K.jsx)(yt.a,{})})]}),children:["chair"===e.productType&&Object(K.jsx)(Ai,{primary:"Chair: ".concat(e.productDesc),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(K.jsx)(Ai,{primary:"Desk: ".concat(e.productDesc,"}"),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(K.jsx)(Ai,{primary:"Accessory: ".concat(e.productDesc),secondary:"".concat(e.remark)}),Object(K.jsx)(Pi,{amount:"Qty: ".concat(e.productQty),deliveryOption:"".concat(e.productDeliveryOption)})]},t))})}),Object(K.jsxs)(Rt.a,{sx:{my:"10px"},children:[Object(K.jsx)(Se.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(K.jsxs)(Ya.a,{value:de,onChange:(e,t)=>{e.preventDefault(),ue(t)},"aria-label":"basic tabs example",children:[Object(K.jsx)(Ja.a,{label:"Chairs"}),Object(K.jsx)(Ja.a,{label:"Desks"}),Object(K.jsx)(Ja.a,{label:"Accessories"})]})}),Object(K.jsxs)(Vi,{value:de,index:0,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:je,onChange:(e,t)=>{e.preventDefault(),xe(t),ge(null)},options:pe.map(e=>e.brand).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:Oe,onChange:(e,t)=>{e.preventDefault(),ge(t)},options:pe.filter(e=>!je||e.brand===je).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,Li);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:Qi,onChange:e=>{He(e)},selected:We}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Chair Stocks",rows:ae.map((e,t)=>{let{thumbnailURL:a,withHeadrest:n,withAdArmrest:i,shipmentDate:r,arrivalDate:o}=e,l=Object(q.a)(e,Ni);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),c.find(e=>"chair"===e.productType&&e.productId===ae[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):(u("chair"),h(ae[t].id),m(1),x(ae[t].brand+" - "+ae[t].model),G(!0))},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===r)return"No";const e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===o)return"No";const e=new Date(o);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},l)}).filter(e=>(!je||e.brand===je)&&(!Oe||e.model===Oe)),columns:Fi.map((e,t)=>(t>6&&We.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(Vi,{value:de,index:1,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:fe,onChange:(e,t)=>{e.preventDefault(),ye(t),ve(null),we(null)},options:be.map(e=>e.supplierCode).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:ke,onChange:(e,t)=>{e.preventDefault(),ve(t),we(null)},options:be.filter(e=>!fe||e.supplierCode===fe).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Color",value:Ce,onChange:(e,t)=>{e.preventDefault(),we(t)},options:be.filter(e=>!ke||e.model===ke).map(e=>e.color).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,Mi);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:Ui,onChange:e=>{Ne(e)},selected:Le}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Desk Leg Stocks",rows:ie.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,zi);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{u("desk"),h(ie[t].id),m(1),x(ie[t].supplierCode+" - "+ie[t].model),$(!1),X(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}).filter(e=>(!fe||e.supplierCode===fe)&&(!ke||e.model===ke)&&(!Ce||e.color===Ce)),columns:Ei.map((e,t)=>(t>6&&Le.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(Vi,{value:de,index:2,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(K.jsx)(ze.a,{id:"category_filter",children:"Category"}),Object(K.jsxs)(qe.a,{labelId:"category_filter",label:"Category",value:Be,onChange:e=>{var t=e.target.value;Ie(t),oe("All"===t?le:le.filter(e=>e.category===t))},children:[Object(K.jsx)(Ve.a,{value:"All",children:"All"}),Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Accessory Stocks",rows:ce.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,qi);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),u("accessory"),h(ce[t].id),m(1),x(ce[t].category+" - "+ce[t].name),c.find(e=>"accessory"===e.productType&&e.productId===ce[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):G(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}),columns:Ki})]})]}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),Y(0)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right"},onClick:e=>{e.preventDefault(),0!==c.length?Y(2):Re.a.fire({icon:"warning",title:"Warning",text:"Products list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==U,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:t=>{t.preventDefault();const n=new FormData(E.current);"create"===a?M.a.post("/shipment/create",{supplier:n.get("supplier"),location:n.get("location"),remark:n.get("remark"),products:c}).then(()=>{e.history.push("/admin/shipment")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){}):M.a.put("/shipment/".concat(i.id),{supplier:n.get("supplier"),location:n.get("location"),remark:n.get("remark"),products:c}).then(()=>{e.history.push("/admin/shipment")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){})},children:[Object(K.jsx)(Pe.a,{sx:{marginTop:"10px"},onClick:e=>{e.preventDefault(),Y(1)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(K.jsxs)(bt.a,{open:J,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:e=>{(e=>{if(e.preventDefault(),new FormData(e.currentTarget),G(!1),"add"===l){if(c.find(e=>e.productType===d&&e.productId===p))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});o(c.concat({productType:d,productId:p,productQty:b,productDesc:j}))}else if("edit"===l){const e=c.map(e=>e.productType===d&&e.productId===p?{productId:p,productType:d,productQty:b,productDesc:j}:e);o(e)}})(e)}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Description",name:"productDesc",value:j,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Quantity"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),m(Math.max(b-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:b}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),m(Math.min(b+1,99))},children:Object(K.jsx)(Xt.a,{})})]})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{G(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]}),Object(K.jsxs)(bt.a,{open:_,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:async e=>{(async e=>{if(e.preventDefault(),g(0),y("Left"),v("Rounded"),C("Melamine"),T(""),A(700),B(400),W(25),H(0),N(50),F(""),X(!1),new FormData(e.currentTarget),"add"===l){if(!Z&&c.find(e=>"desk"===e.productType&&e.productId===p&&!e.hasDeskTop))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});o(c.concat({productType:d,productId:p,productQty:b,productDesc:j}))}else if("edit"===l){const e=c.map(e=>"desk"!==e.productType||e.productId!==p?e:{productType:d,productId:p,productQty:b,productDesc:j});o(e)}})(e)}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Description",name:"productDesc",value:j,sx:{width:200,visibility:Z?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"hasDeskTop",checked:Z,onChange:e=>{$(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),Object(K.jsx)(Te.a,{label:"Description",name:"productDesc",defaultValue:j,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!Z,InputProps:{endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}})]}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"left",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1,marginTop:"8px"},children:"Quantity"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),m(Math.max(b-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px",marginTop:"8px"},children:b}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),m(Math.min(b+1,99))},children:Object(K.jsx)(Xt.a,{})})]})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),g(0),y("Left"),v("Rounded"),C("Melamine"),T(""),A(700),B(400),W(25),H(0),N(50),F(""),X(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]})]})});var Ji=e=>Object(K.jsx)(Yi,Object(z.a)({componentType:"create",initialShipment:{supplier:"",location:"",remark:""},initialCart:[]},e));var Gi=e=>{const t=Object(l.g)(),{shipment:a}=t.state||{},{id:n,supplier:i,location:r,remark:c}=a||{};return a?Object(K.jsx)(Yi,Object(z.a)({componentType:"edit",initialShipment:{id:n,supplier:i,location:r,remark:c},initialCart:{}},e)):Object(K.jsx)(l.a,{to:"/admin/purchase/shipment"})};const _i=[{category:"Chair",content:[{to:"/admin/chair/stock",icon:Object(K.jsx)(Ee.a,{}),label:"Stock"}]},{category:"Desk",content:[{to:"/admin/desk/stock",icon:Object(K.jsx)(Ee.a,{}),label:"Stock"}]},{category:"Accessory",content:[{to:"/admin/accessory/stock",icon:Object(K.jsx)(Ee.a,{}),label:"Stock"}]},{category:"Sales",content:[{to:"/admin/sales",icon:Object(K.jsx)(Ue.a,{}),label:"Order"},{to:"/admin/quotation",icon:Object(K.jsx)(Ue.a,{}),label:"Quotation"}]},{category:"Purchase",content:[{to:"/admin/purchase",icon:Object(K.jsx)(Ue.a,{}),label:"Order"},{to:"/admin/shipment",icon:Object(K.jsx)(Ue.a,{}),label:"Shipment"}]},{category:"Delivery",content:[{to:"/admin/delivery/chair",icon:Object(K.jsx)(Ke.a,{}),label:"Chair"},{to:"/admin/delivery/desk",icon:Object(K.jsx)(Ke.a,{}),label:"Desk"},{to:"/admin/delivery/accessory",icon:Object(K.jsx)(Ke.a,{}),label:"Accessory"}]},{category:"User",content:[{to:"/admin/user",icon:Object(K.jsx)(Ye.a,{}),label:"Users"}]}];var Xi=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}},{logout:He})(e=>{const[t,a]=Object(n.useState)(!1),{path:i}=Object(l.i)(),r=t=>{t.preventDefault(),Re.a.fire({title:"Are you sure?",text:"Log out will remove your session information permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Logout!",cancelButtonText:"No, Keep Login",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&e.logout()})};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)($e,{drawerHeight:50,handleDrawerToggle:e=>{e.preventDefault(),a(!0)},title:"Administrator"}),Object(K.jsxs)(Se.a,{flexBasis:"calc(100% - ".concat(50,"px)"),maxHeight:"calc(100% - ".concat(50,"px)"),position:"relative",display:"flex",backgroundColor:"#f4f5f7",children:[Object(K.jsx)(ht,{mobileOpen:t,handleDrawerClose:e=>{e.preventDefault(),a(!1)},drawerWidth:240,handleLogout:r,lists:_i}),Object(K.jsx)(dt,{drawerWidth:240,handleLogout:r,lists:_i}),Object(K.jsx)(Se.a,{component:"main",sx:{flexGrow:1,width:{sm:"calc(100% - ".concat(240,"px)")},maxWidth:"100%"},children:Object(K.jsxs)(l.d,{children:[Object(K.jsx)(l.b,{path:"".concat(i,"/user"),component:Gt}),Object(K.jsx)(l.b,{path:"".concat(i,"/chair/stock"),exact:!0,component:sa}),Object(K.jsx)(l.b,{path:"".concat(i,"/desk/stock"),exact:!0,component:ja}),Object(K.jsx)(l.b,{path:"".concat(i,"/accessory/stock"),exact:!0,component:fa}),Object(K.jsx)(l.b,{path:"".concat(i,"/sales"),exact:!0,component:Va}),Object(K.jsx)(l.b,{path:"".concat(i,"/sales/create"),exact:!0,component:yn}),Object(K.jsx)(l.b,{path:"".concat(i,"/sales/edit"),exact:!0,component:wn}),Object(K.jsx)(l.b,{path:"".concat(i,"/quotation"),exact:!0,component:Hn}),Object(K.jsx)(l.b,{path:"".concat(i,"/quotation/create"),exact:!0,component:ni}),Object(K.jsx)(l.b,{path:"".concat(i,"/quotation/edit"),exact:!0,component:li}),Object(K.jsx)(l.b,{path:"".concat(i,"/delivery/chair"),exact:!0,component:pi}),Object(K.jsx)(l.b,{path:"".concat(i,"/delivery/desk"),exact:!0,component:ji}),Object(K.jsx)(l.b,{path:"".concat(i,"/purchase"),exact:!0,component:fi}),Object(K.jsx)(l.b,{path:"".concat(i,"/purchase/create"),exact:!0,component:yi}),Object(K.jsx)(l.b,{path:"".concat(i,"/purchase/edit"),exact:!0,component:ki}),Object(K.jsx)(l.b,{path:"".concat(i,"/shipment"),exact:!0,component:wi}),Object(K.jsx)(l.b,{path:"".concat(i,"/shipment/create"),exact:!0,component:Ji}),Object(K.jsx)(l.b,{path:"".concat(i,"/shipment/edit"),exact:!0,component:Gi})]})})]})]})});const Zi=["label"],$i=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],er=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],tr=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"];var ar=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const[t,a]=Object(n.useState)([]),[i,r]=Object(n.useState)([]),[c,o]=Object(n.useState)(null),[l,s]=Object(n.useState)(null),[d,u]=Object(n.useState)([]);return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/chairStock/features",{cancelToken:t}).then(e=>{r(e.data)}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/chairStock",{cancelToken:e}).then(e=>{a(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:c,onChange:(e,t)=>{e.preventDefault(),o(t),s(null)},options:i.map(e=>e.brand).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:l,onChange:(e,t)=>{e.preventDefault(),s(t)},options:i.filter(e=>!c||e.brand===c).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,Zi);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:tr,onChange:e=>{u(e)},selected:d}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Chair Stocks",rows:t.map((e,t)=>{let{withHeadrest:a,withAdArmrest:n,thumbnailURL:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,$i);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",shipmentDate:(()=>{if(null===r)return"No";const e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===c)return"No";const e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},o)}).filter(e=>(!c||e.brand===c)&&(!l||e.model===l)),columns:er.map((e,t)=>t>5?d.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e)})]})});const nr=["label"],ir=["withHeadrest","withAdArmrest","thumbnailURL","shipmentDate","arrivalDate"],rr=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model",hidden:!0},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],cr=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"];var or=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const[t,a]=Object(n.useState)([]),[i,r]=Object(n.useState)([]),[c,o]=Object(n.useState)(null),[l,s]=Object(n.useState)(null),[d,u]=Object(n.useState)(null),[p,h]=Object(n.useState)([]);return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/deskStock/features",{cancelToken:t}).then(e=>{r(e.data)}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/deskStock",{cancelToken:e}).then(e=>{a(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:c,onChange:(e,t)=>{e.preventDefault(),o(t),s(null),u(null)},options:i.map(e=>e.supplierCode).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:l,onChange:(e,t)=>{e.preventDefault(),s(t),u(null)},options:i.filter(e=>!c||e.supplierCode===c).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Color",value:d,onChange:(e,t)=>{e.preventDefault(),u(t)},options:i.filter(e=>(!c||e.supplierCode===c)&&(!l||e.model===l)).map(e=>e.color).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,nr);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:cr,onChange:e=>{h(e)},selected:p}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Desk Leg Stocks",rows:t.map((e,t)=>{let{withHeadrest:a,withAdArmrest:n,thumbnailURL:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,ir);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(i,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:i,style:{marginTop:"5px"}})}),withHeadrest:a?"Yes":"No",withAdArmrest:n?"Yes":"No",shipmentDate:(()=>{if(null===r)return"No";const e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===c)return"No";const e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},o)}).filter(e=>(!c||e.supplierCode===c)&&(!l||e.model===l)&&(!d||e.color===d)),columns:rr.map((e,t)=>t>5?p.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e)})]})});const lr=["thumbnailURL","shipmentDate","arrivalDate"],sr=[{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"remark",label:"Other Remark"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}];var dr=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const[t,a]=Object(n.useState)([]),[i,r]=Object(n.useState)([]),[c,o]=Object(n.useState)("All");Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/accessoryStock/features",{cancelToken:t}).then(e=>{}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/accessoryStock",{cancelToken:e}).then(e=>{a(e.data),r(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]);return Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(K.jsx)(ze.a,{id:"category_filter",children:"Category"}),Object(K.jsxs)(qe.a,{labelId:"category_filter",label:"Category",value:c,onChange:e=>{var t=e.target.value;o(t),a("All"===t?i:i.filter(e=>e.category===t))},children:[Object(K.jsx)(Ve.a,{value:"All",children:"All"}),Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Accessory Stocks",rows:t.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,lr);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}),columns:sr})]})});const ur=Object(Ia.a)(et.a)(e=>{let{theme:t}=e;return{backgroundColor:It.a[600],padding:"10px"}}),pr=Object(Ia.a)(tt.a)(e=>{let{theme:t}=e;return{backgroundColor:It.a[300],boxShadow:"0px 2px 1px -1px rgb(0 0 0 / 20%)",margin:"10px 0",flexWrap:"wrap"}}),hr=Object(Ia.a)(nt.a)(e=>{let{theme:t}=e;return{color:Wa.a[900]}}),br=e=>{let{unitPrice:t,amount:a}=e;return Object(K.jsx)(Se.a,{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",children:[t,a].map((e,t)=>Object(K.jsx)(Q.a,{variant:"span",sx:{color:"white",width:80,whiteSpace:"noWrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"center",backgroundColor:Wa.a[400],fontSize:["10px","12px"],padding:"3px 0",margin:"3px 10px 3px 0",flexShrink:0,borderRadius:"2px"},children:e},t))})},mr=["id","invoiceNum","district","street","block","floor","unit","Seller","isPreOrder","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],jr=[{id:"invoiceNum",label:"Invoice"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"orderDate",label:"Order"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"isPreOrder",label:"PreOrder"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"receiptIcon",nonSort:!0,label:"Receipt",sx:{maxWidth:75,width:45}},{id:"emailIcon",nonSort:!0,label:"Email",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"Phone",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],xr=["Address","TimeLine","PreOrder","Remark","Discount","SurCharge","Products","Paid","Receipt","Email","Phone"];var Or=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)([]),[l,s]=Object(n.useState)(""),[d,u]=Object(n.useState)(""),[p,h]=Object(n.useState)(""),[b,m]=Object(n.useState)(!1),[j,x]=Object(n.useState)(!1),[O,g]=Object(n.useState)(!1),f=Object(n.useRef)(null),y=Object(n.useRef)(null),[k,v]=Object(n.useState)(null),[S,C]=Object(n.useState)(0),[w,T]=Object(n.useState)(""),[D,A]=Object(n.useState)([]),[P,B]=Object(n.useState)(""),[I,W]=Object(n.useState)(""),R=Object(n.useRef)([]),H=Object(n.useRef)([]),L=Object(n.useRef)([]),N=e=>{e<a.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current Order permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/sales/".concat(a[e].id)).then(e=>{V()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},V=e=>{M.a.get("/sales/current",{cancelToken:e}).then(e=>{i(e.data),c(e.data)}).catch(function(e){console.log(e)}).then(function(){})},F=e=>{if("Enter"===e.key){const e=r.filter(e=>e.invoiceNum.toLowerCase().includes(P.toLowerCase())).filter(e=>e.phone.includes(I));i(e)}};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return V(e.token),()=>e.cancel("Brand Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{component:o.b,to:"/user/sales/create",startIcon:Object(K.jsx)(Xt.a,{}),children:"New Order"}),Object(K.jsxs)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[Object(K.jsx)(Te.a,{label:"Invoice Number",variant:"outlined",onKeyPress:F,value:P,onChange:e=>B(e.target.value)}),Object(K.jsx)(Te.a,{label:"Phone Number",variant:"outlined",onKeyPress:F,value:I,onChange:e=>W(e.target.value)})]}),Object(K.jsx)("div",{children:Object(K.jsx)(na,{options:xr,onChange:e=>{A(e)},selected:D})}),Object(K.jsx)(Ut,{title:"Sales Orders",rows:a.map((e,t)=>{let{id:n,invoiceNum:i,district:r,street:c,block:l,floor:d,unit:p,Seller:b,isPreOrder:j,discount:O,discountType:f,surcharge:y,surchargeType:k,createdAt:v,timeLine:S,paid:w,ChairStocks:T,DeskStocks:D,AccessoryStocks:A}=e,P=Object(q.a)(e,mr);return Object(z.a)({id:n,index:t,seller:(b.firstName||"").concat(" ",b.lastName||""),timeLine:S%7!==0?"".concat(S," day").concat(1===S?"":"s"):"".concat(S/7," week").concat(S/7===1?"":"s"),orderDate:(()=>{const e=new Date(v);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),discount:"".concat(O).concat(f?" HKD":"%"),surcharge:"".concat(y).concat(k?" HKD":"%"),clientAddress:[r,c,l,d,p].join(", "),isPreOrder:(!a[t].ChairStocks.length||!a[t].ChairStocks.reduce((e,t)=>t.ChairToOrder.preOrder*e))*(!a[t].DeskStocks.length||!a[t].DeskStocks.reduce((e,t)=>t.DeskToOrder.preOrder*e))?"No":"Yes",products:Object(K.jsx)(_e.a,{sx:{my:"5px"},onClick:e=>{e.preventDefault(),R.current=[],H.current=[],L.current=[],C(t),g(!0)},children:Object(K.jsx)(va.a,{badgeContent:T.length+D.length+A.length,color:"error",children:Object(K.jsx)(Sa.a,{})})}),paid:Object(K.jsx)(Ae.a,{checked:w,onClick:e=>{e.stopPropagation(),e.preventDefault(),M.a.put("/sales/withoutStock/".concat(n),{paid:!w}).then(()=>{V()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}).then(function(){})}}),invoiceNum:Object(K.jsx)(o.b,{to:"/invoice/".concat(n),target:"_blank",children:i}),receiptIcon:w&&Object(K.jsx)(_e.a,{component:o.b,to:"/receipt/".concat(n),target:"_blank",children:Object(K.jsx)(Ca.a,{})}),emailIcon:Object(K.jsx)(_e.a,{onClick:()=>{s(P.name),u(P.email),x(!0)},children:Object(K.jsx)(wa.a,{})}),whatsappIcon:Object(K.jsx)(_e.a,{onClick:()=>{M.a.get("whatsapp/checkauth").then(()=>{s(P.name),h(P.phone),m(!0)}).catch(function(e){M.a.get("whatsapp/getqr").then(e=>{Re.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:ka.a.renderToStaticMarkup(Object(K.jsx)(Ba.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})}).then(function(){})}).then(function(){})},children:Object(K.jsx)(Ta.a,{})}),edit:Object(K.jsx)(_e.a,{component:o.b,to:{pathname:"/user/sales/edit",state:{order:a[t]}},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),N(t)},children:Object(K.jsx)(yt.a,{})})},P)}),columns:jr.map((e,t)=>t>3&&t<15?D.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e),onRemoveClick:N,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected Orders permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/sales",{data:{ids:e}}).then(e=>{V()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},onFilterClick:e=>{e.preventDefault(),v(null===k?e.currentTarget:null)}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:b,children:[Object(K.jsx)(mt.a,{children:"Send WhatsApp Message to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Aa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:p,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:f,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(l,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),m(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("whatsapp/send",{phone:p,message:f.current.value}).then(()=>{m(!1)}).catch(function(e){m(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{m(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:j,children:[Object(K.jsx)(mt.a,{children:"Send Email to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Te.a,{label:"Email",type:"email",value:d,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:y,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(l,",\nThank you for your order! Please find here (payment link URL) for your payment.\nOnce finished, your order will be processed accordingly."),multiline:!0,minRows:4,maxRows:10}),Object(K.jsx)(Te.a,{label:"Link",type:"text",value:w,onChange:e=>T(e.target.value)})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),x(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("email/send",{email:d,message:y.current.value,link:w}).then(()=>{x(!1)}).catch(function(e){x(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{x(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),open:O,children:[Object(K.jsx)(mt.a,{children:"Products Details"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(ur,{children:[S<a.length&&a[S].ChairStocks.map((e,t)=>Object(K.jsxs)(pr,{children:[Object(K.jsx)(hr,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(K.jsx)(br,{unitPrice:"".concat(e.ChairToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToOrder.qty),deliveryOption:"".concat(e.ChairToOrder.deliveryOption)}),Object(K.jsx)(Pe.a,{variant:"contained",sx:{mt:"5px"},component:o.b,target:"_blank",to:"/deliveryPDF/chair/".concat(e.ChairToOrder.id),children:"Delivery Note"}),a[S].paid&&Object(K.jsxs)(Rt.a,{ref:e=>R.current.push(e),component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(K.jsx)("input",{name:"id",type:"hidden",value:e.ChairToOrder.id}),Object(K.jsx)(Te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.ChairToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.ChairToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"from",type:"time",label:"From",defaultValue:e.ChairToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"to",type:"time",label:"To",defaultValue:e.ChairToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"delivered",defaultChecked:e.ChairToOrder.delivered}),label:"Delivered"},t)]})]},t)),S<a.length&&a[S].DeskToOrders.map((e,t)=>Object(K.jsxs)(pr,{children:[Object(K.jsx)(hr,{primary:"Desk: \n                      ".concat(a[S].DeskStocks.find(t=>t.id===e.stockId).supplierCode,", \n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).model,", \n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).color,", \n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).armSize,", \n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).feetSize,", \n                      ").concat(a[S].DeskStocks.find(t=>t.id===e.stockId).beamSize),secondary:e.hasDeskTop?Object(K.jsxs)("span",{children:["".concat(e.topMaterial,", \n                            ").concat(e.topColor,", \n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", \n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", \n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(K.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(K.jsx)(br,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)}),Object(K.jsx)(Pe.a,{variant:"contained",sx:{mt:"5px"},component:o.b,target:"_blank",to:"/deliveryPDF/desk/".concat(e.id),children:"Delivery Note"}),a[S].paid&&Object(K.jsxs)(Rt.a,{ref:e=>H.current.push(e),component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(K.jsx)("input",{name:"id",type:"hidden",value:e.id}),Object(K.jsx)(Te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"estDeliveryDate",type:"date",label:"Est. Delivery Date",defaultValue:e.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"from",type:"time",label:"From",defaultValue:e.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"to",type:"time",label:"To",defaultValue:e.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"delivered",defaultChecked:e.delivered}),label:"Delivered"},t)]})]},t)),S<a.length&&a[S].AccessoryStocks.map((e,t)=>Object(K.jsxs)(pr,{children:[Object(K.jsx)(hr,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(K.jsx)(br,{unitPrice:"".concat(e.AccessoryToOrder.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToOrder.qty),deliveryOption:"".concat(e.AccessoryToOrder.deliveryOption)}),Object(K.jsx)(Pe.a,{variant:"contained",sx:{mt:"5px"},component:o.b,target:"_blank",to:"/deliveryPDF/accessory/".concat(e.AccessoryToOrder.id),children:"Delivery Note"}),a[S].paid&&Object(K.jsxs)(Rt.a,{ref:e=>L.current.push(e),component:"form",sx:{flexBasis:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginTop:"10px",padding:"10px"},children:[Object(K.jsx)("input",{name:"id",type:"hidden",value:e.AccessoryToOrder.id}),Object(K.jsx)(Te.a,{name:"proDeliveryDate",type:"date",label:"Proposed Delivery Date",defaultValue:e.AccessoryToOrder.proDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"estDeliveryDate",type:"date",label:"Est Delivery Date",defaultValue:e.AccessoryToOrder.estDeliveryDate,InputLabelProps:{shrink:!0},sx:{flexBasis:"100%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"from",type:"time",label:"From",defaultValue:e.AccessoryToOrder.from,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(Te.a,{name:"to",type:"time",label:"To",defaultValue:e.AccessoryToOrder.to,InputLabelProps:{shrink:!0},sx:{flexBasis:"48%",my:"5px"}}),Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"delivered",defaultChecked:e.AccessoryToOrder.delivered}),label:"Delivered"},t)]})]},t))]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),g(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault();const t=R.current.map(e=>({id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked})),a=H.current.map(e=>({id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked})),n=L.current.map(e=>({id:e.id.value,proDeliveryDate:e.proDeliveryDate.value||null,estDeliveryDate:e.estDeliveryDate.value||null,from:e.from.value||null,to:e.to.value||null,delivered:e.delivered.checked}));M.a.post("/sales/products",{chairToOrders:t,deskToOrders:a,accessoryToOrders:n}).then(()=>{V()}).catch(function(e){console.log(e)}).then(function(){g(!1)})},children:"OK"})]})]})]})});const gr=["children","value","index"],fr=["setValue","width"],yr=["label"],kr=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],vr=["label"],Sr=["thumbnailURL","shipmentDate","arrivalDate"],Cr=["thumbnailURL","shipmentDate","arrivalDate"],wr=["productDetail"],Tr=["productDetail"],Dr=["type","width"],Ar=["name","label"],Pr=["suffix"],Br=["name","label","options"],Ir=e=>{const{children:t,value:a,index:n}=e,i=Object(q.a)(e,gr);return Object(K.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(K.jsx)(Se.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};const Wr=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Rr=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],Hr=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Lr=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],Nr=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],Mr=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"];var zr=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),{componentType:a,initialClient:i,initialCart:r,initialServices:c}=e,[o,l]=Object(n.useState)(0),[s,d]=Object(n.useState)("Left"),[u,p]=Object(n.useState)("Rounded"),[h,b]=Object(n.useState)("Melamine"),[m,j]=Object(n.useState)(""),[x,O]=Object(n.useState)(700),[g,f]=Object(n.useState)(400),[y,k]=Object(n.useState)(25),[v,S]=Object(n.useState)(0),[C,w]=Object(n.useState)(50),[T,D]=Object(n.useState)(""),A=Object(n.useRef)(null),[P,B]=Object(n.useState)(0),[I,W]=Object(n.useState)(!1),[R,H]=Object(n.useState)(!1),[L,N]=Object(n.useState)(!1),[V,F]=Object(n.useState)("chair"),[E,U]=Object(n.useState)(""),[Y,J]=Object(n.useState)(1e3),[G,_]=Object(n.useState)(0),[X,Z]=Object(n.useState)(""),[$,ee]=Object(n.useState)(!1),[te,ae]=Object(n.useState)(!1),[ne,ie]=Object(n.useState)(!1),[re,ce]=Object(n.useState)(!1),[oe,le]=Object(n.useState)(r),[se,de]=Object(n.useState)("add"),[ue,pe]=Object(n.useState)(i.paid),[he,be]=Object(n.useState)([]),[me,je]=Object(n.useState)([]),[xe,Oe]=Object(n.useState)([]),[ge,fe]=Object(n.useState)([]),[ye,ke]=Object(n.useState)(0),[ve,Ce]=Object(n.useState)([]),[Be,Ie]=Object(n.useState)([]),[We,He]=Object(n.useState)(null),[Le,Ne]=Object(n.useState)(null),[Fe,Qe]=Object(n.useState)(null),[Ee,Ue]=Object(n.useState)(null),[Ke,Ye]=Object(n.useState)(null),[Je,Ge]=Object(n.useState)("All");let Xe=c?c.map(e=>Object.assign(e,{productType:"misc"})):[];const[Ze,$e]=Object(n.useState)(Xe),[et,tt]=Object(n.useState)([]),[at,nt]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/chairStock/features",{cancelToken:t}).then(e=>{Ce(e.data)}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/deskStock/features",{cancelToken:e}).then(e=>{Ie(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock/features",{cancelToken:e}).then(e=>{}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/chairStock",{cancelToken:e}).then(e=>{be(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/deskStock",{cancelToken:e}).then(e=>{je(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock",{cancelToken:e}).then(e=>{Oe(e.data),fe(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]);return Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(K.jsx)(Fa.a,{activeStep:P,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((e,t)=>{const a={};var n;return n=t,(null!==A.current&&P>0&&0===n?!A.current.checkValidity():0===oe.length&&0===Ze.length&&P>1&&1===n)&&(a.optional=Object(K.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(K.jsx)(Qa.a,{sx:{my:"10px"},children:Object(K.jsx)(Ea.a,Object(z.a)(Object(z.a)({},a),{},{children:e}))},e)})}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},ref:A,hidden:0!==P,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:e=>{e.preventDefault(),B(1)},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:i.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((e,t)=>{let{setValue:a,width:n}=e,i=Object(q.a)(e,fr);return"Phone"===i.label?Object(K.jsx)(Aa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},i),t):Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t)}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(K.jsxs)(Ua.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(K.jsx)(De.a,{value:"day",control:Object(K.jsx)(Ka.a,{}),label:"Days"}),Object(K.jsx)(De.a,{value:"week",control:Object(K.jsx)(Ka.a,{}),label:"Weeks"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Rmark",type:"text",defaultValue:i.remark||""})]}),Object(K.jsx)(Pe.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===P&&Object(K.jsxs)(K.Fragment,{children:[oe.length>0&&Object(K.jsx)(Rt.a,{children:Object(K.jsx)(ur,{sx:{px:"10px"},children:oe.map((e,t)=>Object(K.jsxs)(pr,{secondaryAction:Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(_e.a,{onClick:t=>{t.preventDefault(),(e=>{de("edit"),F(e.productType),U(e.productDetail),Z(e.remark),J(e.productPrice),_(e.productAmount);const t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&ee(!0),t.includes("Delivery and installation included")&&ae(!0),t.includes("Remote Area Surcharge")&&ie(!0),t.includes("Stairs Surcharge")&&ce(!0),"chair"===e.productType||"accessory"===e.productType?W(!0):"desk"===e.productType&&(N(e.hasDeskTop),j(e.topColor),w(e.topCornerRadius),l(e.topHoleCount),d(e.topHolePosition),p(e.topHoleType),O(e.topLength),b(e.topMaterial),S(e.topRoundedCorners),k(e.topThickness),f(e.topWidth),D(e.topSketchURL),H(!0))})(e)},children:Object(K.jsx)(ft.a,{})}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),le(oe.filter((e,a)=>a!==t))},children:Object(K.jsx)(yt.a,{})})]}),children:["chair"===e.productType&&Object(K.jsx)(hr,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(K.jsx)(hr,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(K.jsx)(hr,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(K.jsx)(br,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t))})}),Object(K.jsxs)(Rt.a,{sx:{my:"10px"},children:[Object(K.jsx)(Se.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(K.jsxs)(Ya.a,{value:ye,onChange:(e,t)=>{e.preventDefault(),ke(t)},"aria-label":"basic tabs example",children:[Object(K.jsx)(Ja.a,{label:"Chairs"}),Object(K.jsx)(Ja.a,{label:"Desks"}),Object(K.jsx)(Ja.a,{label:"Accessories"}),Object(K.jsx)(Ja.a,{label:"Miscs"})]})}),Object(K.jsxs)(Ir,{value:ye,index:0,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:We,onChange:(e,t)=>{e.preventDefault(),He(t),Ne(null)},options:ve.map(e=>e.brand).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:Le,onChange:(e,t)=>{e.preventDefault(),Ne(t)},options:ve.filter(e=>!We||e.brand===We).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,yr);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:Rr,onChange:e=>{tt(e)},selected:et}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Chair Stocks",rows:he.map((e,t)=>{let{thumbnailURL:a,withHeadrest:n,withAdArmrest:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,kr);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),oe.find(e=>"chair"===e.productType&&e.productDetail.id===he[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):(F("chair"),U(he[t]),J(he[t].unitPrice),_(1),W(!0))},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===r)return"No";const e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===c)return"No";const e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},o)}).filter(e=>(!We||e.brand===We)&&(!Le||e.model===Le)),columns:Wr.map((e,t)=>(t>6&&et.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(Ir,{value:ye,index:1,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Fe,onChange:(e,t)=>{e.preventDefault(),Qe(t),Ue(null),Ye(null)},options:Be.map(e=>e.supplierCode).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:Ee,onChange:(e,t)=>{e.preventDefault(),Ue(t),Ye(null)},options:Be.filter(e=>!Fe||e.supplierCode===Fe).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Color",value:Ke,onChange:(e,t)=>{e.preventDefault(),Ye(t)},options:Be.filter(e=>!Ee||e.model===Ee).map(e=>e.color).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,vr);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:Lr,onChange:e=>{nt(e)},selected:at}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Desk Leg Stocks",rows:me.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,Sr);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{F("desk"),U(me[t]),J(me[t].unitPrice),_(1),N(!1),H(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}).filter(e=>(!Fe||e.supplierCode===Fe)&&(!Ee||e.model===Ee)&&(!Ke||e.color===Ke)),columns:Hr.map((e,t)=>(t>6&&at.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(Ir,{value:ye,index:2,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(K.jsx)(ze.a,{id:"category_filter",children:"Category"}),Object(K.jsxs)(qe.a,{labelId:"category_filter",label:"Category",value:Je,onChange:e=>{var t=e.target.value;Ge(t),Oe("All"===t?ge:ge.filter(e=>e.category===t))},children:[Object(K.jsx)(Ve.a,{value:"All",children:"All"}),Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Accessory Stocks",rows:xe.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,Cr);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),F("accessory"),U(xe[t]),Z(xe[t].remark),J(xe[t].unitPrice),_(1),oe.find(e=>"accessory"===e.productType&&e.productDetail.id===xe[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):W(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}),columns:Nr})]}),Object(K.jsx)(Ir,{value:ye,index:3,children:Object(K.jsxs)(Se.a,{sx:{m:3},children:[Object(K.jsx)(Pe.a,{variant:"contained",sx:{mb:2},onClick:()=>{const e={id:Object(Za.a)(),description:"",price:0,productType:"misc"};$e([...Ze,e])},children:"+ New Service"}),Object(K.jsx)(we.a,{container:!0,spacing:2,children:Ze.map(e=>Object(K.jsx)(we.a,{item:!0,xs:4,children:Object(K.jsxs)(Ga.a,{sx:{px:2,pb:2},children:[Object(K.jsx)(Se.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(K.jsx)(_e.a,{"aria-label":"settings",size:"small",onClick:()=>(e=>{const t=Ze.filter(t=>t.id!==e);$e(t)})(e.id),children:Object(K.jsx)(Xa.a,{fontSize:"small"})})}),Object(K.jsx)(Te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:t=>((e,t)=>{const a=Ze.map(a=>a.id===t?Object.assign({},a,{description:e.target.value}):a);$e(a)})(t,e.id)}),Object(K.jsx)(Te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:t=>((e,t)=>{const a=Ze.map(a=>a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a);$e(a)})(t,e.id)})]})},e.id))})]})})]}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),B(0)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right"},onClick:e=>{e.preventDefault(),0!==oe.length||0!==Ze.length?B(2):Re.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==P,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:t=>{t.preventDefault();const n=new FormData(A.current),r=new FormData(t.currentTarget);"create"===a?M.a.post("/sales/create",{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:Math.max(n.get("timeLine"),0)*("day"===n.get("timeLineFormat")?1:7),remark:n.get("remark"),products:oe.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,wr);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(Ze),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),dueDate:r.get("dueDate")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/user/sales")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){}):M.a.put("/sales/".concat(i.id),{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:n.get("timeLine")*("day"===n.get("timeLineFormat")?1:7),remark:n.get("remark"),products:oe.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,Tr);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(Ze),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),dueDate:r.get("dueDate")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/user/sales")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){})},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(K.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",oe.reduce((e,t)=>e+t.productAmount*parseFloat(t.productPrice),0)+Ze.reduce((e,t)=>e+t.price,0)]}),Object(K.jsx)(Te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(K.jsx)(De.a,{sx:{flexBasis:"30%",minWidth:"30%",marginRight:0},control:Object(K.jsx)(Ae.a,{name:"paid",checked:ue,onChange:e=>{pe(e.target.checked)}}),label:"Paid"}),Object(K.jsx)(Te.a,{type:"date",disabled:ue,name:"dueDate",label:"Due Date",sx:{flexBasis:"70%",minWidth:"70%"},defaultValue:i.dueDate,InputLabelProps:{shrink:!0}}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]})]}),Object(K.jsx)(Pe.a,{sx:{marginTop:"10px"},onClick:e=>{e.preventDefault(),B(1)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(K.jsxs)(bt.a,{open:I,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);if(ee(!1),ae(!1),ie(!1),ce(!1),W(!1),"add"===se){if(oe.find(e=>e.productType===V&&e.productDetail.id===E.id))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});le(oe.concat({productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:X}))}else if("edit"===se){const a=oe.map(a=>a.productType===V&&a.productDetail.id===E.id?{productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:X}:a);le(a)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:Y,sx:{width:200},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.max(G-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:G}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.min(G+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(Se.a,{sx:{alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(K.jsx)(Te.a,{label:"Specification",name:"remark",value:X,sx:{width:400,mx:"5px"},onChange:e=>{Z(e.target.value)}})}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:$,onChange:e=>ee(e.target.checked),sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:te,onChange:e=>ae(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:ne,onChange:e=>ie(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:re,onChange:e=>ce(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{ee(!1),ae(!1),ie(!1),ce(!1),W(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]}),Object(K.jsxs)(bt.a,{open:R,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:async e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ee(!1),ae(!1),ie(!1),ce(!1),H(!1);const t=new FormData(e.currentTarget);if("add"===se){if(!L&&oe.find(e=>"desk"===e.productType&&e.productDetail.id===E.id&&!e.hasDeskTop))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});let e="";if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{e=(await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(a){}}le(oe.concat({productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e}))}else if("edit"===se){let e=T;if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{const t=await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});e=t.data.url}catch(a){}}const n=oe.map(a=>"desk"===a.productType&&a.productDetail.id===E.id?{productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e}:a);le(n)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:Y,sx:{width:200,visibility:L?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"hasDeskTop",checked:L,onChange:e=>{N(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:h,onChange:(e,t)=>{e.preventDefault(),b(t)},options:Mr,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:m,onChange:e=>{e.preventDefault(),j(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:x,onChange:e=>{e.preventDefault(),O(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:g,onChange:e=>{e.preventDefault(),f(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:y,onChange:e=>{e.preventDefault(),k(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:v,onChange:e=>{e.preventDefault(),S(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:C,onChange:e=>{e.preventDefault(),w(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:o,onChange:e=>{e.preventDefault(),l(e.target.value),1===e.target.value?d("Left"):2===e.target.value?d("Left_Right"):3===e.target.value&&d("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:u,onChange:e=>{e.preventDefault(),p(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:s,onChange:e=>{e.preventDefault(),d(e.target.value)},options:1===o?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==o,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:X,onChange:e=>{e.preventDefault(),Z(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((e,t)=>{let{type:a,width:n}=e,i=Object(q.a)(e,Dr);if("autocomplete"===a){const{name:e,label:a}=i,r=Object(q.a)(i,Ar);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:t=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},t),{},{name:e,label:a})),disabled:!L},r),t)}if("suffixNumber"===a){const{suffix:e}=i,a=Object(q.a)(i,Pr);return Object(K.jsx)(De.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(K.jsx)(Te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!L},a)),label:e},t)}if("select"===a){const{name:e,label:a,options:r}=i,c=Object(q.a)(i,Br);return"topHolePosition"===e?c.visible?Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!L},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t):"":Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!L},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t)}return Object(K.jsx)(Te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!L},i),t)}),Object(K.jsx)(Te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:Y,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!L,InputProps:{endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}})]}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1,marginTop:"8px"},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.max(G-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px",marginTop:"8px"},children:G}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.min(G+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:$,onChange:e=>ee(e.target.checked),sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:te,onChange:e=>ae(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:ne,onChange:e=>ie(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:re,onChange:e=>ce(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ee(!1),ae(!1),ie(!1),ce(!1),H(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]})]})});var qr=e=>{const[t,a]=Object(n.useState)("");return Object(K.jsx)(zr,Object(z.a)({componentType:"create",initialClient:{phone:t,setPhone:a,paid:!0,discountType:1,surchargeType:1,dueDate:"",remark:""},initialCart:[]},e))};const Vr=["ChairStocks","DeskStocks","DeskToOrders","AccessoryStocks","ServiceToOrders","Seller","sellerId"],Fr=["ChairToOrder"],Qr=["stockId","unitPrice","qty","deliveryOption"],Er=["AccessoryToOrder"];var Ur=e=>{const t=Object(l.g)(),{order:a}=t.state||{},i=a||{},{ChairStocks:r,DeskStocks:c,DeskToOrders:o,AccessoryStocks:s,ServiceToOrders:d,Seller:u,sellerId:p}=i,h=Object(q.a)(i,Vr),[b,m]=Object(n.useState)(h.phone);return a?Object(K.jsx)(zr,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},h),{},{phone:b,setPhone:m}),initialCart:r.map(e=>{let{ChairToOrder:t}=e,a=Object(q.a)(e,Fr);return{productType:"chair",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}).concat(o.map(e=>{const{stockId:t,unitPrice:a,qty:n,deliveryOption:i}=e,r=Object(q.a)(e,Qr),o=c.find(function(e){return e.id===t});return Object(z.a)({productType:"desk",productDetail:o,productPrice:a,productAmount:n,productDeliveryOption:i},r)})).concat(s.map(e=>{let{AccessoryToOrder:t}=e,a=Object(q.a)(e,Er);return{productType:"accessory",productDetail:Object(z.a)({},a),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})),initialServices:d},e)):Object(K.jsx)(l.a,{to:"/user/sales"})};const Kr=["ChairToQuotation"],Yr=["stockId","unitPrice","qty","deliveryOption"],Jr=["AccessoryToQuotation"],Gr=["productDetail"],_r=["id","quotationNum","district","street","block","floor","unit","Seller","discount","discountType","surcharge","surchargeType","createdAt","timeLine","paid","ChairStocks","DeskStocks","AccessoryStocks"],Xr=[{id:"quotationNum",label:"Quotation"},{id:"name",label:"Client"},{id:"seller",label:"Seller"},{id:"quotationDate",label:"Quotation"},{id:"clientAddress",label:"Address"},{id:"timeLine",label:"TimeLine"},{id:"remark",label:"Remark"},{id:"discount",label:"Discount"},{id:"surcharge",label:"SurCharge"},{id:"products",label:"Products"},{id:"paid",label:"Paid"},{id:"emailIcon",nonSort:!0,label:"Con",align:"right",sx:{maxWidth:45,width:45}},{id:"whatsappIcon",nonSort:!0,label:"tact",align:"left",sx:{maxWidth:45,width:45,paddingLeft:0}},{id:"toInvoice",nonSort:!0,label:"To Invoice",sx:{maxWidth:45}},{id:"edit",nonSort:!0,sx:{maxWidth:45,width:45}},{nonSort:!0,id:"delete",sx:{maxWidth:45,width:45}}],Zr=["Address","TimeLine","Remark","Discount","SurC harge","Products","Paid","Con","tact"];var $r=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),[a,i]=Object(n.useState)([]),[r,c]=Object(n.useState)(""),[l,s]=Object(n.useState)(""),[d,u]=Object(n.useState)(""),[p,h]=Object(n.useState)(!1),[b,m]=Object(n.useState)(!1),[j,x]=Object(n.useState)(!1),O=Object(n.useRef)(null),g=Object(n.useRef)(null),[f,y]=Object(n.useState)(null),[k,v]=Object(n.useState)(0),[S,C]=Object(n.useState)([]),w=e=>{e<a.length&&e>=0&&Re.a.fire({title:"Are you sure?",text:"This action will remove current Quotation permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep It.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/quotation/".concat(a[e].id)).then(e=>{T()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},T=e=>{M.a.get("/quotation/current",{cancelToken:e}).then(e=>{i(e.data)}).catch(function(e){console.log(e)}).then(function(){})};return Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();return T(e.token),()=>e.cancel("Brand Component got unmounted")},[]),Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"10px 20px"},children:[Object(K.jsx)(Pe.a,{component:o.b,to:"/user/quotation/create",startIcon:Object(K.jsx)(Xt.a,{}),children:"New Quotation"}),Object(K.jsx)("div",{children:Object(K.jsx)(na,{options:Zr,onChange:e=>{C(e)},selected:S})}),Object(K.jsx)(Ut,{title:"Sales quotations",rows:a.map((t,n)=>{let{id:i,quotationNum:r,district:l,street:d,block:p,floor:b,unit:j,Seller:O,discount:g,discountType:f,surcharge:y,surchargeType:k,createdAt:S,timeLine:C,paid:D,ChairStocks:A,DeskStocks:P,AccessoryStocks:B}=t,I=Object(q.a)(t,_r);return Object(z.a)({id:i,index:n,seller:(O.firstName||"").concat(" ",O.lastName||""),timeLine:C%7!==0?"".concat(C," day").concat(1===C?"":"s"):"".concat(C/7," week").concat(C/7===1?"":"s"),quotationDate:(()=>{const e=new Date(S);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),discount:"".concat(g).concat(f?" HKD":"%"),surcharge:"".concat(y).concat(k?" HKD":"%"),clientAddress:[l,d,p,b,j].join(", "),products:Object(K.jsx)(_e.a,{sx:{my:"5px"},onClick:e=>{e.preventDefault(),v(n),x(!0)},children:Object(K.jsx)(va.a,{badgeContent:A.length+P.length+B.length,color:"error",children:Object(K.jsx)(Sa.a,{})})}),paid:Object(K.jsx)(Ae.a,{checked:D,onClick:e=>{e.stopPropagation(),e.preventDefault(),M.a.put("/quotation/withoutStock/".concat(i),{paid:!D}).then(()=>{T()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})}).then(function(){})}}),quotationNum:Object(K.jsx)(o.b,{to:"/quotation/".concat(i),target:"_blank",children:r}),emailIcon:Object(K.jsx)(_e.a,{onClick:()=>{c(I.name),s(I.email),m(!0)},children:Object(K.jsx)(wa.a,{})}),whatsappIcon:Object(K.jsx)(_e.a,{onClick:()=>{M.a.get("whatsapp/checkauth").then(()=>{c(I.name),u(I.phone),h(!0)}).catch(function(e){M.a.get("whatsapp/getqr").then(e=>{Re.a.fire({icon:"info",title:"Please signin with this QRCode and Click the button again.",html:ka.a.renderToStaticMarkup(Object(K.jsx)(Ba.a,{value:"".concat(e.data.qrcode),level:"H"})),allowOutsideClick:!1})}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:"Unable to use WhatsApp Messaging.",allowOutsideClick:!1})}).then(function(){})}).then(function(){})},children:Object(K.jsx)(Ta.a,{})}),toInvoice:Object(K.jsx)(_e.a,{onClick:t=>{t.preventDefault(),(t=>{t<a.length&&t>=0&&Re.a.fire({title:"Are you sure?",text:"This action will convert current Quotation to Invoice.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Convert!",cancelButtonText:"No, Cancel.",allowOutsideClick:!1}).then(n=>{if(n.isConfirmed){const n=a[t],i=n.ChairStocks.map(e=>{let{ChairToQuotation:t}=e;return{productType:"chair",productDetail:Object(q.a)(e,Kr),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}).concat(n.DeskToQuotations.map(e=>{const{stockId:t,unitPrice:a,qty:i,deliveryOption:r}=e,c=Object(q.a)(e,Yr),o=n.DeskStocks.find(function(e){return e.id===t});return Object(z.a)({productType:"desk",productDetail:o,productPrice:a,productAmount:i,productDeliveryOption:r},c)})).concat(n.AccessoryStocks.map(e=>{let{AccessoryToQuotation:t}=e;return{productType:"accessory",productDetail:Object(q.a)(e,Jr),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}));M.a.post("/sales/create",{name:n.name,phone:n.phone,email:n.email,district:n.district,street:n.street,block:n.block,floor:n.floor,unit:n.unit,timeLine:n.timeLine,remark:n.remark,products:i.map(e=>{let{productDetail:t}=e,a=Object(q.a)(e,Gr);return Object(z.a)({productId:t.id},a)}).concat(n.ServiceToQuotations),paymentTerms:n.paymentTerms,paid:!1,dueDate:null,discount:n.discount,discountType:n.discountType,surcharge:n.surcharge,surchargeType:n.surchargeType}).then(()=>{e.history.push("/user/sales")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){})}})})(n)},children:Object(K.jsx)(Tn.a,{})}),edit:Object(K.jsx)(_e.a,{component:o.b,to:{pathname:"/user/quotation/edit",state:{quotation:a[n]}},children:Object(K.jsx)(ft.a,{})}),delete:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),w(n)},children:Object(K.jsx)(yt.a,{})})},I)}),columns:Xr.map((e,t)=>t>3&&t<13?S.find(t=>t===e.label)?e:void 0:e).filter(e=>void 0!==e),onEditClick:e=>{a.length},onRemoveClick:w,onBulkRemoveClick:e=>{Re.a.fire({title:"Are you sure?",text:"This action will remove selected Quotations permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Remove!",cancelButtonText:"No, Keep Them.",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&M.a.delete("/quotation",{data:{ids:e}}).then(e=>{T()}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}),console.log(e)}).then(function(){})})},onFilterClick:e=>{e.preventDefault(),y(null===f?e.currentTarget:null)}}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:p,children:[Object(K.jsx)(mt.a,{children:"Send WhatsApp Message to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Aa.a,{variant:"outlined",label:"Phone Number",onlyCountries:["hk"],defaultCountry:"hk",value:d,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:O,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(r,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),h(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("whatsapp/send",{phone:d,message:O.current.value}).then(()=>{h(!1)}).catch(function(e){h(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{h(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),maxWidth:"sm",open:b,children:[Object(K.jsx)(mt.a,{children:"Send Email to the Client"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(xt.a,{spacing:2,children:[Object(K.jsx)(Te.a,{label:"Email",type:"email",value:l,InputProps:{readOnly:!0}}),Object(K.jsx)(Te.a,{inputRef:g,label:"Message",fullWidth:!0,defaultValue:"Hello ".concat(r,"."),multiline:!0,minRows:4,maxRows:10})]})}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),m(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),M.a.post("email/send",{email:l,message:g.current.value}).then(()=>{m(!1)}).catch(function(e){m(!1),Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{m(!0)})}).then(function(){})},children:"Send"})]})]}),Object(K.jsxs)(bt.a,{maxWidth:"sm",fullWidth:!0,open:j,onClose:e=>{e.preventDefault(),x(!1)},children:[Object(K.jsx)(mt.a,{children:"Products Details"}),Object(K.jsx)(jt.a,{children:Object(K.jsxs)(ur,{children:[k<a.length&&a[k].ChairStocks.map((e,t)=>Object(K.jsxs)(pr,{children:[Object(K.jsx)(hr,{primary:"Chair: ".concat(e.brand,", ").concat(e.model,", ").concat(e.frameColor,", ").concat(e.backColor,", ").concat(e.seatColor),secondary:"".concat(e.withHeadrest?"Headrest, ":"").concat(e.withAdArmrest?"Armrest":"")}),Object(K.jsx)(br,{unitPrice:"".concat(e.ChairToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.ChairToQuotation.qty),deliveryOption:"".concat(e.ChairToQuotation.deliveryOption)})]},t)),k<a.length&&a[k].DeskToQuotations.map((e,t)=>Object(K.jsxs)(pr,{children:[Object(K.jsx)(hr,{primary:"Desk: \n                      ".concat(a[k].DeskStocks.find(t=>t.id===e.stockId).supplierCode,", \n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).model,", \n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).color,", \n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).armSize,", \n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).feetSize,", \n                      ").concat(a[k].DeskStocks.find(t=>t.id===e.stockId).beamSize),secondary:e.hasDeskTop?Object(K.jsxs)("span",{children:["".concat(e.topMaterial,", \n                            ").concat(e.topColor,", \n                            ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", \n                            ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", \n                            ").concat(e.topHoleCount,"-").concat(e.topHoleType," "),Object(K.jsx)("a",{href:e.topSketchURL,target:"_blank",rel:"noreferrer",children:"Sketch"})]}):"Without DeskTop"}),Object(K.jsx)(br,{unitPrice:"".concat(e.unitPrice," HKD"),amount:"Amount: ".concat(e.qty),deliveryOption:"".concat(e.deliveryOption)})]},t)),k<a.length&&a[k].AccessoryStocks.map((e,t)=>Object(K.jsxs)(pr,{children:[Object(K.jsx)(hr,{primary:"Accessory: ".concat(e.name),secondary:"".concat(e.remark)}),Object(K.jsx)(br,{unitPrice:"".concat(e.AccessoryToQuotation.unitPrice," HKD"),amount:"Amount: ".concat(e.AccessoryToQuotation.qty),deliveryOption:"".concat(e.AccessoryToQuotation.deliveryOption)})]},t))]})}),Object(K.jsx)(gt.a,{children:Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),x(!1)},children:"OK"})})]})]})});const ec=["children","value","index"],tc=["setValue","width"],ac=["label"],nc=["thumbnailURL","withHeadrest","withAdArmrest","shipmentDate","arrivalDate"],ic=["label"],rc=["thumbnailURL","shipmentDate","arrivalDate"],cc=["thumbnailURL","shipmentDate","arrivalDate"],oc=["productDetail"],lc=["productDetail"],sc=["type","width"],dc=["name","label"],uc=["suffix"],pc=["name","label","options"],hc=e=>{const{children:t,value:a,index:n}=e,i=Object(q.a)(e,ec);return Object(K.jsx)("div",Object(z.a)(Object(z.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(K.jsx)(Se.a,{sx:{p:"0 10px 10px 10px"},children:t})}))};const bc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"brand",label:"Brand"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"frameColor",label:"Frame Color"},{id:"backColor",label:"Back Color"},{id:"seatColor",label:"Seat Color"},{id:"backMaterial",label:"Back Material"},{id:"seatMaterial",label:"Seat Material"},{id:"withHeadrest",label:"Headrest"},{id:"withAdArmrest",label:"Adjustable Armrests"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],mc=["Frame Color","Back Color","Seat Color","Back Material","Seat Material","Headrest","Adjustable Armrests","Other Remark","Shipment","Arrival"],jc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"supplierCode",label:"Supplier"},{id:"model",label:"Model"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"color",label:"Color"},{id:"armSize",label:"Arm Size"},{id:"feetSize",label:"Feet Size"},{id:"beamSize",label:"Beam Size"},{id:"remark",label:"Other Remark"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],xc=["Color","Arm Size","Feet Size","Beam Size","Other Remark","Shipment","Arrival"],Oc=[{id:"add"},{id:"thumbnail",sx:{width:100},nonSort:!0},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"remark",label:"Other Remark"},{id:"unitPrice",label:"Price"},{id:"balance",label:"Balance"},{id:"qty",label:"QTY"},{id:"shipmentDate",label:"Shipment"},{id:"arrivalDate",label:"Arrival"}],gc=["Melamine","Laminate","North American Walnut","South American Walnut","Red Oak","Maple","Bamboo","Melamine with glass top","Toppal Plyedge"];var fc=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}})(e=>{const t=Object($t.a)(),{componentType:a,initialClient:i,initialCart:r,initialServices:c}=e,[o,l]=Object(n.useState)(0),[s,d]=Object(n.useState)("Left"),[u,p]=Object(n.useState)("Rounded"),[h,b]=Object(n.useState)("Melamine"),[m,j]=Object(n.useState)(""),[x,O]=Object(n.useState)(700),[g,f]=Object(n.useState)(400),[y,k]=Object(n.useState)(25),[v,S]=Object(n.useState)(0),[C,w]=Object(n.useState)(50),[T,D]=Object(n.useState)(""),A=Object(n.useRef)(null),[P,B]=Object(n.useState)(0),[I,W]=Object(n.useState)(!1),[R,H]=Object(n.useState)(!1),[L,N]=Object(n.useState)(!1),[V,F]=Object(n.useState)("chair"),[E,U]=Object(n.useState)(""),[Y,J]=Object(n.useState)(1e3),[G,_]=Object(n.useState)(0),[X,Z]=Object(n.useState)(""),[$,ee]=Object(n.useState)(!1),[te,ae]=Object(n.useState)(!1),[ne,ie]=Object(n.useState)(!1),[re,ce]=Object(n.useState)(!1),[oe,le]=Object(n.useState)(r),[se,de]=Object(n.useState)("add"),[ue,pe]=Object(n.useState)([]),[he,be]=Object(n.useState)([]),[me,je]=Object(n.useState)([]),[xe,Oe]=Object(n.useState)([]),[ge,fe]=Object(n.useState)(0),[ye,ke]=Object(n.useState)([]),[ve,Ce]=Object(n.useState)([]),[Be,Ie]=Object(n.useState)(null),[We,He]=Object(n.useState)(null),[Le,Ne]=Object(n.useState)(null),[Fe,Qe]=Object(n.useState)(null),[Ee,Ue]=Object(n.useState)(null),[Ke,Ye]=Object(n.useState)("All");let Je=c?c.map(e=>Object.assign(e,{productType:"misc"})):[];const[Ge,Xe]=Object(n.useState)(Je),[Ze,$e]=Object(n.useState)([]),[et,tt]=Object(n.useState)([]);Object(n.useEffect)(()=>{const e=M.a.CancelToken.source();var t;return t=e.token,M.a.get("/chairStock/features",{cancelToken:t}).then(e=>{ke(e.data)}).catch(function(e){console.log(e)}).then(function(){}),(e=>{M.a.get("/deskStock/features",{cancelToken:e}).then(e=>{Ce(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock/features",{cancelToken:e}).then(e=>{}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/chairStock",{cancelToken:e}).then(e=>{pe(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/deskStock",{cancelToken:e}).then(e=>{be(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),(e=>{M.a.get("/accessoryStock",{cancelToken:e}).then(e=>{je(e.data),Oe(e.data)}).catch(function(e){console.log(e)}).then(function(){})})(e.token),()=>e.cancel("Stock Component got unmounted")},[]);return Object(K.jsxs)(Se.a,{sx:{height:"100%",overflow:"auto",padding:"20px 20px 10px 20px"},children:[Object(K.jsx)(Fa.a,{activeStep:P,sx:{flexWrap:"wrap"},children:["Input Client Info","Select Products","Input Payment Details"].map((e,t)=>{const a={};var n;return n=t,(null!==A.current&&P>0&&0===n?!A.current.checkValidity():0===oe.length&&0===Ge.length&&P>1&&1===n)&&(a.optional=Object(K.jsx)(Q.a,{variant:"caption",color:"error",children:["Invalid Input","Products cannot be empty"][t]}),a.error=!0),Object(K.jsx)(Qa.a,{sx:{my:"10px"},children:Object(K.jsx)(Ea.a,Object(z.a)(Object(z.a)({},a),{},{children:e}))},e)})}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},ref:A,hidden:0!==P,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:e=>{e.preventDefault(),B(1)},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Client Info"}),[{name:"name",label:"Name",type:"text",defaultValue:i.name,width:"100%",required:!0},{name:"phone",label:"Phone",type:"text",value:i.phone,onChange:i.setPhone,width:"48%"},{name:"email",label:"Email",type:"email",defaultValue:i.email,width:"48%"},{name:"district",label:"District",type:"text",defaultValue:i.district,width:"55%"},{name:"street",label:"Street",type:"text",defaultValue:i.street,width:"40%"},{name:"block",label:"Block",type:"text",defaultValue:i.block,width:"30%"},{name:"floor",label:"Floor",type:"text",defaultValue:i.floor,width:"30%"},{name:"unit",label:"Unit",type:"text",defaultValue:i.unit,width:"30%"}].map((e,t)=>{let{setValue:a,width:n}=e,i=Object(q.a)(e,tc);return"Phone"===i.label?Object(K.jsx)(Aa.a,Object(z.a)({variant:"outlined",onlyCountries:["hk"],defaultCountry:"hk",sx:{flexBasis:n,minWidth:n},margin:"dense",size:"small"},i),t):Object(K.jsx)(Te.a,Object(z.a)({sx:{flexBasis:n,minWidth:n}},i),t)}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","30%"],minWidth:["100%","30%"]},name:"timeLine",label:"TimeLine",type:"number",inputProps:{min:0},defaultValue:i.timeLine||0}),Object(K.jsxs)(Ua.a,{row:!0,name:"timeLineFormat",defaultValue:"day",sx:{flexBasis:["100%","70%"],minWidth:["100%","70%"],justifyContent:"flex-end"},children:[Object(K.jsx)(De.a,{value:"day",control:Object(K.jsx)(Ka.a,{}),label:"Days"}),Object(K.jsx)(De.a,{value:"week",control:Object(K.jsx)(Ka.a,{}),label:"Weeks"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["100%","100%"],minWidth:["100%","100%"]},name:"remark",label:"Delivery Remark",type:"text",defaultValue:i.remark||""})]}),Object(K.jsx)(Pe.a,{type:"submit",sx:{marginTop:"10px",float:"right"},children:"Next"})]}),1===P&&Object(K.jsxs)(K.Fragment,{children:[oe.length>0&&Object(K.jsx)(Rt.a,{children:Object(K.jsx)(ur,{sx:{px:"10px"},children:oe.map((e,t)=>Object(K.jsxs)(pr,{secondaryAction:Object(K.jsxs)(n.Fragment,{children:[Object(K.jsx)(_e.a,{onClick:t=>{t.preventDefault(),(e=>{de("edit"),F(e.productType),U(e.productDetail),Z(e.remark),J(e.productPrice),_(e.productAmount);const t=JSON.parse(e.productDeliveryOption);t.includes("Delivery Included")&&ee(!0),t.includes("Delivery and installation included")&&ae(!0),t.includes("Remote Area Surcharge")&&ie(!0),t.includes("Stairs Surcharge")&&ce(!0),"chair"===e.productType||"accessory"===e.productType?W(!0):"desk"===e.productType&&(N(e.hasDeskTop),j(e.topColor),w(e.topCornerRadius),l(e.topHoleCount),d(e.topHolePosition),p(e.topHoleType),O(e.topLength),b(e.topMaterial),S(e.topRoundedCorners),k(e.topThickness),f(e.topWidth),D(e.topSketchURL),H(!0))})(e)},children:Object(K.jsx)(ft.a,{})}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),le(oe.filter((e,a)=>a!==t))},children:Object(K.jsx)(yt.a,{})})]}),children:["chair"===e.productType&&Object(K.jsx)(hr,{primary:"Chair: ".concat(e.productDetail.brand,", ").concat(e.productDetail.model,", ").concat(e.remark),secondary:"".concat(e.productDetail.withHeadrest?"Headrest, ":"").concat(e.productDetail.withAdArmrest?"Armrest":"")}),"desk"===e.productType&&Object(K.jsx)(hr,{primary:"Desk: ".concat(e.productDetail.supplierCode,", ").concat(e.productDetail.model,", ").concat(e.productDetail.color,", ").concat(e.productDetail.armSize,", ").concat(e.productDetail.feetSize,", ").concat(e.productDetail.beamSize),secondary:e.hasDeskTop?"".concat(e.topMaterial,", ").concat(e.topColor,", ").concat(e.topLength,"x").concat(e.topWidth,"x").concat(e.topThickness,", ").concat(e.topRoundedCorners,"-R").concat(e.topCornerRadius,", ").concat(e.topHoleCount,"-").concat(e.topHoleType):"Without DeskTop"}),"accessory"===e.productType&&Object(K.jsx)(hr,{primary:"Accessory: ".concat(e.productDetail.category),secondary:"".concat(e.remark)}),Object(K.jsx)(br,{unitPrice:"".concat(e.productPrice," HKD"),amount:"Amount: ".concat(e.productAmount),deliveryOption:"".concat(e.productDeliveryOption)})]},t))})}),Object(K.jsxs)(Rt.a,{sx:{my:"10px"},children:[Object(K.jsx)(Se.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(K.jsxs)(Ya.a,{value:ge,onChange:(e,t)=>{e.preventDefault(),fe(t)},"aria-label":"basic tabs example",children:[Object(K.jsx)(Ja.a,{label:"Chairs"}),Object(K.jsx)(Ja.a,{label:"Desks"}),Object(K.jsx)(Ja.a,{label:"Accessories"}),Object(K.jsx)(Ja.a,{label:"Miscs"})]})}),Object(K.jsxs)(hc,{value:ge,index:0,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Brand",value:Be,onChange:(e,t)=>{e.preventDefault(),Ie(t),He(null)},options:ye.map(e=>e.brand).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:We,onChange:(e,t)=>{e.preventDefault(),He(t)},options:ye.filter(e=>!Be||e.brand===Be).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,ac);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:mc,onChange:e=>{$e(e)},selected:Ze}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Chair Stocks",rows:ue.map((e,t)=>{let{thumbnailURL:a,withHeadrest:n,withAdArmrest:i,shipmentDate:r,arrivalDate:c}=e,o=Object(q.a)(e,nc);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),withHeadrest:n?"Yes":"No",withAdArmrest:i?"Yes":"No",add:Object(K.jsx)(_e.a,{onClick:e=>{if(e.preventDefault(),oe.find(e=>"chair"===e.productType&&e.productDetail.id===ue[t].id))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});F("chair"),U(ue[t]);let a=""===ue[t].frameColor?"___":ue[t].frameColor,n=""===ue[t].seatColor?"___":ue[t].seatColor,i=""===ue[t].backColor?"___":ue[t].backColor;Z("FrameColor:"+a+", SeatColor:"+n+", BackColor:"+i),J(ue[t].unitPrice),_(1),W(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===r)return"No";const e=new Date(r);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===c)return"No";const e=new Date(c);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},o)}).filter(e=>(!Be||e.brand===Be)&&(!We||e.model===We)),columns:bc.map((e,t)=>(t>6&&Ze.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(hc,{value:ge,index:1,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[{label:"Supplier",value:Le,onChange:(e,t)=>{e.preventDefault(),Ne(t),Qe(null),Ue(null)},options:ve.map(e=>e.supplierCode).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Model",value:Fe,onChange:(e,t)=>{e.preventDefault(),Qe(t),Ue(null)},options:ve.filter(e=>!Le||e.supplierCode===Le).map(e=>e.model).filter((e,t,a)=>a.indexOf(e)===t)},{label:"Color",value:Ee,onChange:(e,t)=>{e.preventDefault(),Ue(t)},options:ve.filter(e=>!Fe||e.model===Fe).map(e=>e.color).filter((e,t,a)=>a.indexOf(e)===t)}].map((e,t)=>{let{label:a}=e,n=Object(q.a)(e,ic);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:"200px",maxWidth:"200px"},renderInput:e=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},e),{},{label:a}))},n),t)})}),Object(K.jsx)(na,{options:xc,onChange:e=>{tt(e)},selected:et}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Desk Leg Stocks",rows:he.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,rc);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{F("desk"),U(he[t]),J(he[t].unitPrice),_(1),N(!1),H(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}).filter(e=>(!Le||e.supplierCode===Le)&&(!Fe||e.model===Fe)&&(!Ee||e.color===Ee)),columns:jc.map((e,t)=>(t>6&&et.find(t=>t===e.label),e)).filter(e=>void 0!==e)})]}),Object(K.jsxs)(hc,{value:ge,index:2,children:[Object(K.jsx)(Rt.a,{sx:{marginTop:"10px",padding:"5px 10px",display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:Object(K.jsxs)(Me.a,{size:"small",sx:{flexBasis:"200px",maxWidth:"200px"},children:[Object(K.jsx)(ze.a,{id:"category_filter",children:"Category"}),Object(K.jsxs)(qe.a,{labelId:"category_filter",label:"Category",value:Ke,onChange:e=>{var t=e.target.value;Ye(t),je("All"===t?xe:xe.filter(e=>e.category===t))},children:[Object(K.jsx)(Ve.a,{value:"All",children:"All"}),Object(K.jsx)(Ve.a,{value:"Desk Accessories",children:"Desk Accessories"}),Object(K.jsx)(Ve.a,{value:"Chair Accessories",children:"Chair Accessories"}),Object(K.jsx)(Ve.a,{value:"Desk on Desk",children:"Desk on Desk"}),Object(K.jsx)(Ve.a,{value:"Monitor Arms",children:"Monitor Arms"}),Object(K.jsx)(Ve.a,{value:"Cabinet",children:"Cabinet"}),Object(K.jsx)(Ve.a,{value:"Drawer",children:"Drawer"})]})]})}),Object(K.jsx)(Ut,{nonSelect:!0,title:"Accessory Stocks",rows:me.map((e,t)=>{let{thumbnailURL:a,shipmentDate:n,arrivalDate:i}=e,r=Object(q.a)(e,cc);return Object(z.a)({thumbnail:Object(K.jsx)("a",{href:"/",onClick:e=>{e.preventDefault(),Re.a.fire({html:'<img alt="" width="400px" src="'.concat(a,'" />'),showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!1})},children:Object(K.jsx)("img",{alt:"",width:"80px",src:a,style:{marginTop:"5px"}})}),add:Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),F("accessory"),U(me[t]),Z(me[t].remark),J(me[t].unitPrice),_(1),oe.find(e=>"accessory"===e.productType&&e.productDetail.id===me[t].id)?Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1}):W(!0)},children:Object(K.jsx)(Xt.a,{})}),shipmentDate:(()=>{if(null===n)return"No";const e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})(),arrivalDate:(()=>{if(null===i)return"No";const e=new Date(i);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().split("T")[0]})()},r)}),columns:Oc})]}),Object(K.jsx)(hc,{value:ge,index:3,children:Object(K.jsxs)(Se.a,{sx:{m:3},children:[Object(K.jsx)(Pe.a,{variant:"contained",sx:{mb:2},onClick:()=>{const e={id:Object(Za.a)(),description:"",price:0,productType:"misc"};Xe([...Ge,e])},children:"+ New Service"}),Object(K.jsx)(we.a,{container:!0,spacing:2,children:Ge.map(e=>Object(K.jsx)(we.a,{item:!0,xs:4,children:Object(K.jsxs)(Ga.a,{sx:{px:2,pb:2},children:[Object(K.jsx)(Se.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(K.jsx)(_e.a,{"aria-label":"settings",size:"small",onClick:()=>(e=>{const t=Ge.filter(t=>t.id!==e);Xe(t)})(e.id),children:Object(K.jsx)(Xa.a,{fontSize:"small"})})}),Object(K.jsx)(Te.a,{label:"Description",multiline:!0,rows:5,sx:{flexBasis:"100%",minWidth:"100%"},value:e.description,onChange:t=>((e,t)=>{const a=Ge.map(a=>a.id===t?Object.assign({},a,{description:e.target.value}):a);Xe(a)})(t,e.id)}),Object(K.jsx)(Te.a,{type:"number",sx:{flexBasis:"100%",minWidth:"100%"},label:"Price",value:e.price,onChange:t=>((e,t)=>{const a=Ge.map(a=>a.id===t?Object.assign({},a,{price:parseFloat(e.target.value)}):a);Xe(a)})(t,e.id)})]})},e.id))})]})})]}),Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),B(0)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right"},onClick:e=>{e.preventDefault(),0!==oe.length||0!==Ge.length?B(2):Re.a.fire({icon:"warning",title:"Warning",text:"Products and services list cannot be empty",allowOutsideClick:!1})},children:"Next"})]}),Object(K.jsxs)(Se.a,{sx:{mx:"auto",mt:"50px"},hidden:2!==P,component:"form",maxWidth:"sm",fullWidth:!0,onSubmit:t=>{t.preventDefault();const n=new FormData(A.current),r=new FormData(t.currentTarget);"create"===a?M.a.post("/quotation/create",{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:Math.max(n.get("timeLine"),0)*("day"===n.get("timeLineFormat")?1:7),remark:"",products:oe.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,oc);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(Ge),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),validTil:r.get("validTil")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/user/quotation")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){}):M.a.put("/quotation/".concat(i.id),{name:n.get("name"),phone:n.get("phone"),email:n.get("email"),district:n.get("district"),street:n.get("street"),block:n.get("block"),floor:n.get("floor"),unit:n.get("unit"),timeLine:n.get("timeLine")*("day"===n.get("timeLineFormat")?1:7),remark:n.get("remark"),products:oe.map(e=>{var t;let{productDetail:a}=e,n=Object(q.a)(e,lc);return Object(z.a)({productId:a.id,productCategory:null!==(t=a.category)&&void 0!==t?t:""},n)}).concat(Ge),paymentTerms:r.get("paymentTerms"),paid:Boolean(r.get("paid")),validTil:r.get("validTil")||null,discount:Math.max(r.get("discountType")>0?r.get("discount"):Math.min(r.get("discount"),100),0),discountType:r.get("discountType"),surcharge:Math.max(r.get("surchargeType")>0?r.get("surcharge"):Math.min(r.get("surcharge"),100),0),surchargeType:r.get("surchargeType")}).then(()=>{e.history.push("/user/quotation")}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1}).then(()=>{}),console.log(e)}).then(function(){})},children:[Object(K.jsxs)(Rt.a,{sx:{p:"10px",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[Object(K.jsx)(Q.a,{variant:"h6",sx:{flexBasis:"100%",minWidth:"100%"},children:"Payment Details"}),Object(K.jsxs)(Q.a,{variant:"h7",sx:{flexBasis:"100%",minWidth:"100%"},children:["Sub Total:"," ",oe.reduce((e,t)=>e+t.productAmount*parseFloat(t.productPrice),0)+Ge.reduce((e,t)=>e+t.price,0)]}),Object(K.jsx)(Te.a,{name:"paymentTerms",size:"small",sx:{flexBasis:"100%",minWidth:"100%"},defaultValue:i.paymentTerms,label:"Payment Terms"}),Object(K.jsx)(De.a,{sx:{flexBasis:"100%",minWidth:"100%",alignItems:"baseline",m:0},control:Object(K.jsx)(Te.a,{type:"number",name:"validTil",label:"Valid Til",inputProps:{max:10,min:0},defaultValue:i.validTil,InputLabelProps:{shrink:!0},fullWidth:!0,sx:{m:"10px 5px 10px 0"}}),label:"month(s)"}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",m:0},label:"Discount",type:"number",name:"discount",inputProps:{min:0},defaultValue:i.discount,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",m:0},name:"discountType",defaultValue:i.discountType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]}),Object(K.jsx)(Te.a,{sx:{flexBasis:["58%","68%"],minWidth:["58%","68%"],alignItems:"baseline",mt:"10px",mb:0},label:"Surcharge",type:"number",name:"surcharge",inputProps:{min:0},defaultValue:i.surcharge,fullWidth:!0}),Object(K.jsxs)(qe.a,{sx:{flexBasis:["40%","30%"],minWidth:["40%","30%"],alignItems:"baseline",mt:"10px",mb:0},name:"surchargeType",defaultValue:i.surchargeType,children:[Object(K.jsx)(Ve.a,{value:0,children:"%"}),Object(K.jsx)(Ve.a,{value:1,children:"HKD"})]})]}),Object(K.jsx)(Pe.a,{sx:{marginTop:"10px"},onClick:e=>{e.preventDefault(),B(1)},children:"Previous"}),Object(K.jsx)(Pe.a,{sx:{float:"right",marginTop:"10px"},type:"submit",children:"Finish"})]}),Object(K.jsxs)(bt.a,{open:I,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);if(ee(!1),ae(!1),ie(!1),ce(!1),W(!1),"add"===se){if(oe.find(e=>e.productType===V&&e.productDetail.id===E.id))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});le(oe.concat({productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:X}))}else if("edit"===se){const a=oe.map(a=>a.productType===V&&a.productDetail.id===E.id?{productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:e.currentTarget.unitPrice.value,remark:X}:a);le(a)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Unit Price",type:"number",name:"unitPrice",value:Y,sx:{width:"200px"},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",my:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.max(G-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",sx:{ml:"10px"},children:G}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.min(G+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(Se.a,{sx:{alignItems:"center",justifyContent:"center",my:"10px",mx:"auto",p:"5px 3px"},children:Object(K.jsx)(Te.a,{label:"Specification",name:"remark",value:X,sx:{width:400,mx:"5px"},onChange:e=>{Z(e.target.value)}})}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:$,onChange:e=>ee(e.target.checked),sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:te,onChange:e=>ae(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:ne,onChange:e=>ie(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:re,onChange:e=>ce(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{ee(!1),ae(!1),ie(!1),ce(!1),W(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]}),Object(K.jsxs)(bt.a,{open:R,maxWidth:"sm",fullWidth:!0,fullScreen:Object(ea.a)(t.breakpoints.down("sm")),PaperProps:{component:"form",onSubmit:async e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ee(!1),ae(!1),ie(!1),ce(!1),H(!1);const t=new FormData(e.currentTarget);if("add"===se){if(!L&&oe.find(e=>"desk"===e.productType&&e.productDetail.id===E.id&&!e.hasDeskTop))return void Re.a.fire({icon:"warning",title:"Warning",text:"This product is already added.",allowOutsideClick:!1});let e="";if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{e=(await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data.url}catch(a){}}le(oe.concat({productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e}))}else if("edit"===se){let e=T;if(t.get("topSketchImg")&&t.get("topSketchImg").name){const n=new FormData;n.append("file",t.get("topSketchImg"));try{const t=await M.a.post("/upload",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});e=t.data.url}catch(a){}}const n=oe.map(a=>"desk"===a.productType&&a.productDetail.id===E.id?{productType:V,productDetail:E,productAmount:G,productDeliveryOption:JSON.stringify(["Delivery Included","Delivery and installation included","Remote Area Surcharge","Stairs Surcharge"].filter((e,a)=>Boolean(t.get("deliveryOption_".concat(a))))),productPrice:Boolean(t.get("hasDeskTop"))?Number(t.get("deskTotalPrice")):Number(t.get("deskLegPrice")),hasDeskTop:Boolean(t.get("hasDeskTop"))||!1,topMaterial:t.get("topMaterial")||"",topColor:t.get("topColor")||"",topLength:t.get("topLength")||0,topWidth:t.get("topWidth")||0,topThickness:t.get("topThickness")||0,topRoundedCorners:t.get("topRoundedCorners")||0,topCornerRadius:t.get("topCornerRadius")||50,topHoleCount:t.get("topHoleCount")||0,topHoleType:t.get("topHoleType")||"",topHolePosition:s||"",remark:t.get("remark")||"",topSketchURL:e}:a);le(n)}}},children:[Object(K.jsx)(mt.a,{children:"Price and Amount"}),Object(K.jsxs)(jt.a,{sx:{textAlign:"center"},children:[Object(K.jsx)(Te.a,{label:"Desk Leg Price",type:"number",name:"deskLegPrice",value:Y,sx:{width:200,visibility:L?"hidden":"visible"},InputProps:{readOnly:!0,endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",children:[Object(K.jsx)(De.a,{control:Object(K.jsx)(Ae.a,{name:"hasDeskTop",checked:L,onChange:e=>{N(e.currentTarget.checked)}}),label:"with Table Top",sx:{flexBasis:"100%",minWidth:"100%"}}),[{name:"topMaterial",label:"Material",type:"autocomplete",value:h,onChange:(e,t)=>{e.preventDefault(),b(t)},options:gc,width:"65%"},{name:"topColor",label:"Color",type:"text",width:"30%",value:m,onChange:e=>{e.preventDefault(),j(e.target.value)}},{name:"topLength",label:"Length",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:x,onChange:e=>{e.preventDefault(),O(e.target.value)}},{name:"topWidth",label:"Width",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:g,onChange:e=>{e.preventDefault(),f(e.target.value)}},{name:"topThickness",label:"Thickness",type:"suffixNumber",suffix:"mm",inputProps:{min:0},width:"30%",value:y,onChange:e=>{e.preventDefault(),k(e.target.value)}},{name:"topRoundedCorners",label:"Rounded Corners",type:"select",options:[0,1,2,3,4],width:"48%",value:v,onChange:e=>{e.preventDefault(),S(e.target.value)}},{name:"topCornerRadius",label:"Corner Radius",type:"number",inputProps:{min:0},width:"48%",value:C,onChange:e=>{e.preventDefault(),w(e.target.value)}},{name:"topHoleCount",label:"Number of Holes",type:"select",value:o,onChange:e=>{e.preventDefault(),l(e.target.value),1===e.target.value?d("Left"):2===e.target.value?d("Left_Right"):3===e.target.value&&d("Left_Right_Center")},options:[0,1,2,3],width:"48%"},{name:"topHoleType",label:"Type of Holes",type:"select",value:u,onChange:e=>{e.preventDefault(),p(e.target.value)},options:["Rounded","Rectangular"],width:"48%"},{name:"topHolePosition",label:"Hole Position",type:"select",value:s,onChange:e=>{e.preventDefault(),d(e.target.value)},options:1===o?["Left","Right","Center"]:["Left","Right","Center","Left_Right","Left_Right_Center"],disabled:1!==o,visible:"true",width:"48%"},{name:"remark",label:"Specification",type:"text",width:"100%",value:X,onChange:e=>{e.preventDefault(),Z(e.target.value)}},{name:"topSketchImg",label:"Sketch Image (Optional)",type:"file",inputProps:{accept:"image/png, image/gif, image/jpeg"},InputLabelProps:{shrink:!0},width:"100%"}].map((e,t)=>{let{type:a,width:n}=e,i=Object(q.a)(e,sc);if("autocomplete"===a){const{name:e,label:a}=i,r=Object(q.a)(i,dc);return Object(K.jsx)(_t.a,Object(z.a)({sx:{flexBasis:n,minWidth:n},renderInput:t=>Object(K.jsx)(Te.a,Object(z.a)(Object(z.a)({},t),{},{name:e,label:a})),disabled:!L},r),t)}if("suffixNumber"===a){const{suffix:e}=i,a=Object(q.a)(i,uc);return Object(K.jsx)(De.a,{sx:{flexBasis:n,minWidth:n,alignItems:"baseline",mx:0},control:Object(K.jsx)(Te.a,Object(z.a)({fullWidth:!0,sx:{m:"10px 5px 0 0"},type:"number",disabled:!L},a)),label:e},t)}if("select"===a){const{name:e,label:a,options:r}=i,c=Object(q.a)(i,pc);return"topHolePosition"===e?"1"===c.visible?Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!L},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t):"":Object(K.jsxs)(Me.a,{sx:{flexBasis:n,minWidth:n},children:[Object(K.jsx)(ze.a,{id:"desk-top-".concat(e,"-select-label"),children:a}),Object(K.jsx)(qe.a,Object(z.a)(Object(z.a)({labelId:"desk-top-".concat(e,"-select-label"),id:"desk-top-".concat(e,"-select"),name:e,label:a,size:"small",disabled:!L},c),{},{children:r.map((e,t)=>Object(K.jsx)(Ve.a,{value:e,children:e},t))}))]},t)}return Object(K.jsx)(Te.a,Object(z.a)({type:a,sx:{flexBasis:n,minWidth:n},disabled:!L},i),t)}),Object(K.jsx)(Te.a,{label:"Desk Total Price",type:"number",name:"deskTotalPrice",defaultValue:Y,sx:{flexBasis:200,minWidth:200,mx:"auto"},disabled:!L,InputProps:{endAdornment:Object(K.jsx)(_a.a,{position:"end",children:"HKD"})}})]}),Object(K.jsx)(rt.a,{sx:{my:"10px"}}),Object(K.jsxs)(Se.a,{sx:{display:"flex",alignItems:"center",width:"200px",border:"1px solid #0000003b",borderRadius:"4px",mt:"10px",mx:"auto",p:"5px 3px"},children:[Object(K.jsx)(Q.a,{variant:"span",sx:{flexGrow:1},children:"Amount"}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.max(G-1,1))},children:Object(K.jsx)(Zt.a,{})}),Object(K.jsx)(Q.a,{variant:"span",mx:"10px",children:G}),Object(K.jsx)(_e.a,{onClick:e=>{e.preventDefault(),_(Math.min(G+1,99))},children:Object(K.jsx)(Xt.a,{})})]}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_0",checked:$,onChange:e=>ee(e.target.checked),sx:{textAlign:"left"}}),label:"Delivery Included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_1",checked:te,onChange:e=>ae(e.target.checked)}),label:"Delivery and installation included"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_2",checked:ne,onChange:e=>ie(e.target.checked)}),label:"Remote Area Surcharge"}),Object(K.jsx)(De.a,{sx:{display:"block",textAlign:"left",marginLeft:"100px"},control:Object(K.jsx)(Ae.a,{name:"deliveryOption_3",checked:re,onChange:e=>ce(e.target.checked)}),label:"Stairs Surcharge"})]}),Object(K.jsxs)(gt.a,{children:[Object(K.jsx)(Pe.a,{onClick:e=>{e.preventDefault(),l(0),d("Left"),p("Rounded"),b("Melamine"),j(""),O(700),f(400),k(25),S(0),w(50),D(""),ee(!1),ae(!1),ie(!1),ce(!1),H(!1)},children:"Cancel"}),Object(K.jsx)(Pe.a,{type:"submit",children:"OK"})]})]})]})});var yc=e=>{const[t,a]=Object(n.useState)("");return Object(K.jsx)(fc,Object(z.a)({componentType:"create",initialClient:{phone:t,setPhone:a,paid:!0,discountType:1,surchargeType:1,validTil:1},initialCart:[]},e))};const kc=["ChairStocks","DeskStocks","DeskToQuotations","AccessoryStocks","ServiceToQuotations","Seller","sellerId","remark"],vc=["ChairToQuotation"],Sc=["stockId","unitPrice","qty","deliveryOption"],Cc=["AccessoryToQuotation"];var wc=e=>{const t=Object(l.g)(),{quotation:a}=t.state||{},i=a||{},{ChairStocks:r,DeskStocks:c,DeskToQuotations:o,AccessoryStocks:s,ServiceToQuotations:d,Seller:u,sellerId:p,remark:h}=i,b=Object(q.a)(i,kc),[m,j]=Object(n.useState)(b.phone);return a?Object(K.jsx)(fc,Object(z.a)({componentType:"edit",initialClient:Object(z.a)(Object(z.a)({},b),{},{phone:m,setPhone:j}),initialCart:r.map(e=>{let{ChairToQuotation:t}=e;return{productType:"chair",productDetail:Object(q.a)(e,vc),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}}).concat(o.map(e=>{const{stockId:t,unitPrice:a,qty:n,deliveryOption:i}=e,r=Object(q.a)(e,Sc),o=c.find(function(e){return e.id===t});return Object(z.a)({productType:"desk",productDetail:o,productPrice:a,productAmount:n,productDeliveryOption:i},r)})).concat(s.map(e=>{let{AccessoryToQuotation:t}=e;return{productType:"accessory",productDetail:Object(q.a)(e,Cc),remark:t.remark,productPrice:t.unitPrice,productAmount:t.qty,productDeliveryOption:t.deliveryOption}})),initialServices:d},e)):Object(K.jsx)(l.a,{to:"/user/quotation"})};const Tc=[{category:"Chair",content:[{to:"/user/chair/stock",icon:Object(K.jsx)(Ee.a,{}),label:"Stock"}]},{category:"Desk",content:[{to:"/user/desk/stock",icon:Object(K.jsx)(Ee.a,{}),label:"Stock"}]},{category:"Accessory",content:[{to:"/user/accessory/stock",icon:Object(K.jsx)(Ee.a,{}),label:"Stock"}]},{category:"Sales",content:[{to:"/user/sales",icon:Object(K.jsx)(Ue.a,{}),label:"Order"},{to:"/user/quotation",icon:Object(K.jsx)(Ue.a,{}),label:"Quotation"}]}];var Dc=Object(m.b)(function(e){const{auth:t}=e;return{auth:t}},{logout:He})(e=>{const[t,a]=Object(n.useState)(!1),{path:i}=Object(l.i)(),r=t=>{t.preventDefault(),Re.a.fire({title:"Are you sure?",text:"Log out will remove your session information permanently.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Logout!",cancelButtonText:"No, Keep Login",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&e.logout()})};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)($e,{drawerHeight:50,handleDrawerToggle:e=>{e.preventDefault(),a(!0)},title:"Salesman"}),Object(K.jsxs)(Se.a,{flexBasis:"calc(100% - ".concat(50,"px)"),maxHeight:"calc(100% - ".concat(50,"px)"),position:"relative",display:"flex",backgroundColor:"#f4f5f7",children:[Object(K.jsx)(ht,{mobileOpen:t,handleDrawerClose:e=>{e.preventDefault(),a(!1)},drawerWidth:240,handleLogout:r,lists:Tc}),Object(K.jsx)(dt,{drawerWidth:240,handleLogout:r,lists:Tc}),Object(K.jsx)(Se.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:Object(K.jsxs)(l.d,{children:[Object(K.jsx)(l.b,{path:"".concat(i,"/chair/stock"),component:ar}),Object(K.jsx)(l.b,{path:"".concat(i,"/desk/stock"),component:or}),Object(K.jsx)(l.b,{path:"".concat(i,"/accessory/stock"),component:dr}),Object(K.jsx)(l.b,{path:"".concat(i,"/sales"),exact:!0,component:Or}),Object(K.jsx)(l.b,{path:"".concat(i,"/sales/create"),exact:!0,component:qr}),Object(K.jsx)(l.b,{path:"".concat(i,"/sales/edit"),exact:!0,component:Ur}),Object(K.jsx)(l.b,{path:"".concat(i,"/quotation"),exact:!0,component:$r}),Object(K.jsx)(l.b,{path:"".concat(i,"/quotation/create"),exact:!0,component:yc}),Object(K.jsx)(l.b,{path:"".concat(i,"/quotation/edit"),exact:!0,component:wc})]})})]})]})});const Ac=["component","auth"];var Pc=Object(m.b)(e=>({auth:e.auth}))(e=>{let{component:t,auth:a}=e,n=Object(q.a)(e,Ac);return Object(K.jsx)(l.b,Object(z.a)(Object(z.a)({},n),{},{render:e=>!0===a.isLoggedIn?!0===a.isAdmin?Object(K.jsx)(t,Object(z.a)({},e)):Object(K.jsx)(l.a,{to:"/user/sales"}):Object(K.jsx)(l.a,{to:"/signin"})}))});const Bc=["component","auth"];var Ic=Object(m.b)(e=>({auth:e.auth}))(e=>{let{component:t,auth:a}=e,n=Object(q.a)(e,Bc);return Object(K.jsx)(l.b,Object(z.a)(Object(z.a)({},n),{},{render:e=>!1===a.isLoggedIn?Object(K.jsx)(t,Object(z.a)({},e)):!0===a.isAdmin?Object(K.jsx)(l.a,{to:"/admin/sales"}):Object(K.jsx)(l.a,{to:"/user/sales"})}))});const Wc=["component","auth"];var Rc=Object(m.b)(e=>({auth:e.auth}))(e=>{let{component:t,auth:a}=e,n=Object(q.a)(e,Wc);return Object(K.jsx)(l.b,Object(z.a)(Object(z.a)({},n),{},{render:e=>!0===a.isLoggedIn?!1===a.isAdmin?Object(K.jsx)(t,Object(z.a)({},e)):Object(K.jsx)(l.a,{to:"/admin/sales"}):Object(K.jsx)(l.a,{to:"/signin"})}))});var Hc=Object(m.b)(e=>({auth:e.auth}))(()=>{const{productType:e,deliveryId:t}=Object(l.h)(),[a,i]=Object(n.useState)("");return Object(n.useEffect)(()=>{a||M.a.post("/delivery/generatePDF",{productType:e,deliveryId:t,signature:""}).then(e=>{e.data||Re.a.fire({icon:"info",title:"Alarm",text:"New Delivery PDF was created. Please click the button again to check.",allowOutsideClick:!1}),i(e.data.url),e.data.url&&(window.location.href=e.data.url)}).catch(function(e){Re.a.fire({icon:"error",title:"Error",text:e.response.data.message,allowOutsideClick:!1})})},[a]),Object(K.jsx)(K.Fragment,{})});L.getState().auth.isLoggedIn&&(M.a.defaults.headers.common.Authorization="Bearer ".concat(L.getState().auth.token));const Lc=Object(h.a)({components:{MuiButton:{variants:[{props:{color:"aaaa"},style:{root:{color:"#888888"}}}],defaultProps:{variant:"outlined"},styleOverrides:{root:{textTransform:"none"}}},MuiTextField:{defaultProps:{variant:"outlined",margin:"dense",size:"small"}},MuiSelect:{defaultProps:{margin:"dense",size:"small"}},MuiFormControl:{defaultProps:{margin:"dense"}}}});M.a.defaults.baseURL="http://localhost:4000/api",M.a.interceptors.request.use(function(e){return L.dispatch({type:"loading/beginLoading"}),e},function(e){return Promise.reject(e)}),M.a.interceptors.response.use(function(e){return L.dispatch({type:"loading/endLoading"}),e},function(e){return L.dispatch({type:"loading/endLoading"}),e.response&&401===e.response.status&&L.dispatch({type:"auth/logout"}),Promise.reject(e)});var Nc=()=>{const[e,t]=Object(n.useState)(L.getState().loading.value);return L.subscribe(()=>{t(L.getState().loading.value)}),Object(K.jsx)(b.a,{theme:Lc,children:Object(K.jsxs)(m.a,{store:L,children:[Object(K.jsx)(s.a,{}),Object(K.jsxs)(d.a,{maxWidth:!1,disableGutters:!0,sx:{height:"100vh",overflow:"auto",display:"flex",flexDirection:"column"},children:[Object(K.jsx)(u.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.modal+1},open:e,children:Object(K.jsx)(p.a,{color:"inherit"})}),Object(K.jsx)(o.a,{children:Object(K.jsxs)(l.d,{children:[Object(K.jsx)(l.b,{path:"/",exact:!0,children:Object(K.jsx)(l.a,{to:"/signin"})}),Object(K.jsx)(l.b,{path:"/invoice/:id",exact:!0,component:ne}),Object(K.jsx)(l.b,{path:"/receipt/:id",exact:!0,component:me}),Object(K.jsx)(l.b,{path:"/quotation/:id",exact:!0,component:ke}),Object(K.jsx)(Ic,{path:"/signin",exact:!0,component:Ne}),Object(K.jsx)(Ic,{path:"/signup",exact:!0,component:Qe}),Object(K.jsx)(Pc,{path:"/admin",component:Xi}),Object(K.jsx)(Rc,{path:"/user",component:Dc}),Object(K.jsx)(l.b,{path:"/deliveryPDF/:productType/:deliveryId",component:Hc})]})})]})]})})};var Mc=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,832)).then(t=>{let{getCLS:a,getFID:n,getFCP:i,getLCP:r,getTTFB:c}=t;a(e),n(e),i(e),r(e),c(e)})};c.a.render(Object(K.jsx)(i.a.StrictMode,{children:Object(K.jsx)(Nc,{})}),document.getElementById("root")),Mc()}},[[697,1,2]]]);
//# sourceMappingURL=main.2582b0d0.chunk.js.map